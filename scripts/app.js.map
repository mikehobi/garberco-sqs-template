{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./source/js/core/index.js","webpack:///./node_modules/properjs-hobo/lib/Hobo.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/properjs-hobo/lib/utils.js","webpack:///./node_modules/properjs-hobo/dist/hobo.build.js-exposed","webpack:///./node_modules/properjs-matchelement/matchElement.js","webpack:///./node_modules/properjs-controller/Controller.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/inherits/inherits.js","webpack:///./source/js/overlay.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/get-intrinsic/index.js","webpack:///./node_modules/readable-stream/lib/_stream_duplex.js","webpack:///./source/js/core/util.js","webpack:///./source/js/core/log.js","webpack:///./node_modules/properjs-easing/Easing.js","webpack:///./node_modules/es-errors/type.js","webpack:///./node_modules/core-util-is/lib/util.js","webpack:///./source/js/core/dom.js","webpack:///./node_modules/properjs-tween/Tween.js","webpack:///./node_modules/process-nextick-args/index.js","webpack:///./node_modules/safe-buffer/index.js","webpack:///./source/js/core/config.js","webpack:///./node_modules/hammerjs/hammer.js","webpack:///./source/js/core/emitter.js","webpack:///./source/js/router.js","webpack:///./source/js/projects/Project.js","webpack:///./source/js/bar.js","webpack:///./node_modules/url/url.js","webpack:///./node_modules/function-bind/index.js","webpack:///./node_modules/es-define-property/index.js","webpack:///./node_modules/url/node_modules/qs/lib/formats.js","webpack:///./node_modules/stream-http/index.js","webpack:///./source/js/gallery.js","webpack:///./source/js/core/detect.js","webpack:///./source/js/core/env.js","webpack:///./node_modules/paramalama/paramalama.js","webpack:///./source/js/core/Store.js","webpack:///./source/js/core/resizer.js","webpack:///./node_modules/properjs-debounce/debounce.js","webpack:///./source/js/Menu.js","webpack:///./source/js/video/VideoVimeo.js","webpack:///./source/js/video/mediabox.js","webpack:///./node_modules/vimeo/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/es-errors/syntax.js","webpack:///./node_modules/gopd/index.js","webpack:///./node_modules/url/node_modules/qs/lib/utils.js","webpack:///./node_modules/stream-http/lib/capability.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/stream-http/lib/response.js","webpack:///./node_modules/readable-stream/readable-browser.js","webpack:///./node_modules/readable-stream/lib/_stream_readable.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack:///./node_modules/readable-stream/lib/internal/streams/destroy.js","webpack:///./node_modules/readable-stream/lib/_stream_writable.js","webpack:///./node_modules/string_decoder/lib/string_decoder.js","webpack:///./node_modules/readable-stream/lib/_stream_transform.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/isReactNative.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/storage.js","webpack:///./source/js/app.js","webpack:///./node_modules/properjs-hobo/dist/hobo.build.js","webpack:///./node_modules/properjs-hobo/lib/core/on.js","webpack:///./node_modules/properjs-hobo/lib/core/off.js","webpack:///./node_modules/properjs-hobo/lib/core/data.js","webpack:///./node_modules/properjs-hobo/lib/core/find.js","webpack:///./node_modules/properjs-hobo/lib/core/addClass.js","webpack:///./node_modules/properjs-hobo/lib/core/removeClass.js","webpack:///./node_modules/properjs-hobo/lib/extended/is.js","webpack:///./node_modules/properjs-hobo/lib/extended/eq.js","webpack:///./node_modules/properjs-hobo/lib/extended/not.js","webpack:///./node_modules/properjs-hobo/lib/extended/one.js","webpack:///./node_modules/properjs-hobo/lib/extended/next.js","webpack:///./node_modules/properjs-hobo/lib/extended/prev.js","webpack:///./node_modules/properjs-hobo/lib/extended/attr.js","webpack:///./node_modules/properjs-hobo/lib/extended/last.js","webpack:///./node_modules/properjs-hobo/lib/extended/first.js","webpack:///./node_modules/properjs-hobo/lib/extended/index.js","webpack:///./node_modules/properjs-hobo/lib/extended/parent.js","webpack:///./node_modules/properjs-hobo/lib/extended/filter.js","webpack:///./node_modules/properjs-hobo/lib/extended/detach.js","webpack:///./node_modules/properjs-hobo/lib/extended/append.js","webpack:///./node_modules/properjs-hobo/lib/extended/remove.js","webpack:///./node_modules/properjs-hobo/lib/extended/trigger.js","webpack:///./node_modules/properjs-hobo/lib/extended/prepend.js","webpack:///./node_modules/properjs-hobo/lib/extended/closest.js","webpack:///./node_modules/properjs-hobo/lib/extended/children.js","webpack:///./node_modules/properjs-hobo/lib/extended/removeAttr.js","webpack:///./node_modules/properjs-hobo/lib/extended/toggleClass.js","webpack:///./node_modules/properjs-hobo/lib/core/ajax.js","webpack:///./node_modules/properjs-imageloader/ImageLoader.js","webpack:///./source/js/core/images.js","webpack:///./source/js/core/ImageController.js","webpack:///./source/js/core/api.js","webpack:///./source/js/core/cache.js","webpack:///./source/js/core/Analytics.js","webpack:///./node_modules/properjs-resizecontroller/ResizeController.js","webpack:///./source/js/core/resizes.js","webpack:///./node_modules/properjs-throttle/throttle.js","webpack:///./node_modules/properjs-pagecontroller/PageController.js","webpack:///./node_modules/properjs-router/Router.js","webpack:///./node_modules/properjs-pushstate/PushState.js","webpack:///./node_modules/properjs-matchroute/MatchRoute.js","webpack:///./source/js/about/index.js","webpack:///./source/js/about/About.js","webpack:///./source/js/indexes/index.js","webpack:///./source/js/indexes/IndexRoot.js","webpack:///./node_modules/properjs-mediabox/MediaBox.js","webpack:///./source/js/video/AutoplayHandler.js","webpack:///./node_modules/vimeo/lib/vimeo.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/url/node_modules/qs/lib/index.js","webpack:///./node_modules/url/node_modules/qs/lib/stringify.js","webpack:///./node_modules/side-channel/index.js","webpack:///./node_modules/es-errors/index.js","webpack:///./node_modules/es-errors/eval.js","webpack:///./node_modules/es-errors/range.js","webpack:///./node_modules/es-errors/ref.js","webpack:///./node_modules/es-errors/uri.js","webpack:///./node_modules/has-symbols/index.js","webpack:///./node_modules/has-symbols/shams.js","webpack:///./node_modules/has-proto/index.js","webpack:///./node_modules/function-bind/implementation.js","webpack:///./node_modules/hasown/index.js","webpack:///./node_modules/call-bind/callBound.js","webpack:///./node_modules/call-bind/index.js","webpack:///./node_modules/set-function-length/index.js","webpack:///./node_modules/define-data-property/index.js","webpack:///./node_modules/has-property-descriptors/index.js","webpack:///./node_modules/object-inspect/index.js","webpack:///./node_modules/url/node_modules/qs/lib/parse.js","webpack:///./node_modules/stream-http/lib/request.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/readable-stream/lib/internal/streams/BufferList.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/util-deprecate/node.js","webpack:///./node_modules/readable-stream/lib/_stream_passthrough.js","webpack:///./node_modules/to-arraybuffer/index.js","webpack:///./node_modules/xtend/immutable.js","webpack:///./node_modules/builtin-status-codes/index.js","webpack:///./node_modules/https-browserify/index.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/tus-js-client/lib.es5/index.js","webpack:///./node_modules/tus-js-client/lib.es5/upload.js","webpack:///./node_modules/tus-js-client/lib.es5/error.js","webpack:///./node_modules/extend/index.js","webpack:///./node_modules/js-base64/base64.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/request.js","webpack:///./node_modules/url-parse/index.js","webpack:///./node_modules/requires-port/index.js","webpack:///./node_modules/querystringify/index.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/source.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/uriToBlob.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/isCordova.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/readAsByteArray.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/fingerprint.js","webpack:///./source/js/indexes/listing.js","webpack:///./source/js/indexes/IndexFull.js","webpack:///./node_modules/properjs-template/template.js","webpack:///./source/js/projects/index.js","webpack:///./source/js/intro.js","webpack:///./source/js/main.js","webpack:///./source/sass/screen.scss"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","util","detect","dom","images","config","env","log","api","cache","Analytics","emitter","resizer","resizes","utils","array","Hobo","selector","context","this","_hobo","version","_context","nodeType","document","window","_selector","trimString","rTag","test","replace","rDocType","el","createElement","innerHTML","makeArray","children","querySelectorAll","undefined","length","_events","forEach","makeData","splice","each","push","map","g","Function","e","rData","rDigit","rDashAlpha","rJson","rFront2Back","camelCase","str","all","letter","toUpperCase","serializeData","data","prefix","val","Array","isArray","v","encodeURIComponent","join","_getDataValue","JSON","parse","error","_mapAttributes","node","attributes","hoboDataMap","_mapDataset","dataset","makeId","Math","random","nodes","slice","storeData","id","retrieveData","ret","mergeData","removeData","getClass","getAttribute","setClass","klass","setAttribute","matchElement","walk","method","documentElement","parentNode","raf","caf","Controller","requestAnimationFrame","cancelAnimationFrame","init","apply","arguments","constructor","_handlers","_uid","_started","_paused","_cycle","go","fn","self","anim","pause","play","stop","on","event","handler","events","split","_jsControllerID","getUID","off","_off","_offed","fire","args","len","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","inherits","core","isActive","isSuppressed","overlay","element","is","detach","open","html","addClass","body","append","close","removeClass","empty","elementTransitionDuration","elementTitle","suppress","bool","setTitle","text","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","allocUnsafe","from","TypeError","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","fromString","obj","isBuffer","checked","copy","buffer","type","fromObject","assertSize","size","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","bidirectionalIndexOf","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","list","pos","swap16","swap32","swap64","equals","inspect","max","match","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","stringtrim","base64clean","src","dst","$Error","$EvalError","$RangeError","$ReferenceError","$SyntaxError","$TypeError","$URIError","$Function","getEvalledConstructor","expressionSyntax","$gOPD","getOwnPropertyDescriptor","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","hasSymbols","hasProto","getProto","getPrototypeOf","needsEval","TypedArray","INTRINSICS","AggregateError","iterator","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","eval","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","Map","parseFloat","Promise","Proxy","Reflect","RegExp","Set","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","WeakRef","WeakSet","errorProto","LEGACY_ALIASES","hasOwn","$concat","$spliceApply","$replace","$strSlice","$exec","exec","rePropName","reEscapeChar","stringToPath","first","last","result","number","quote","subString","getBaseIntrinsic","allowMissing","alias","intrinsicName","doEval","gen","parts","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","isOwn","part","desc","pna","objectKeys","keys","Duplex","Readable","Writable","options","readable","writable","allowHalfOpen","onend","_writableState","ended","onEndNT","highWaterMark","_readableState","destroyed","_destroy","err","cb","isElementLoadable","getBoundingClientRect","top","innerHeight","isElementInViewport","bounds","bottom","getClosestValue","closestTo","loadImages","useVariant","useWidth","rQuery","vnt","$img","dims","vars","width","variant","source","page","find","lazyImageSelector","eq","clientWidth","innerWidth","imgSrc","originalSize","getOriginalDims","height","variants","lazyImageAttr","ImageLoader","elements","executor","original","px","getPageKey","location","pathname","appRoot","homepageKey","search","translate3d","z","style","Hammer","prefixed","extendObject","arrow","updateImages","imageLoaderAttr","removeAttr","getElementsInView","$nodes","$ret","getTransformValues","values","getComputedStyle","getTransitionDuration","duration","multiplyBy","getDefaultHammerOptions","isDevice","cssProps","contentZoomingString","tapHighlightColorString","touchCalloutString","touchSelectString","userDragString","userSelectString","isDev","console","linear","swing","cos","PI","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","objectToString","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","isError","isFunction","isPrimitive","$_jsOverlay","$_jsProject","$_jsGallery","doc","header","nav","intro","gallery","elementNode","project","elementPane","root","main","defaults","ease","to","delay","update","complete","tweenDiff","startTime","rafTimer","isStopped","animate","rafTimeStamp","animDiff","tweenTo","arg1","arg2","arg3","copyProps","SafeBuffer","rootUrlId","offcanvasClasses","exportName","assign","VENDOR_PREFIXES","TEST_ELEMENT","round","abs","now","setTimeoutContext","bindFn","invokeArrayArg","deprecate","message","deprecationMessage","stack","warn","output","index","nextKey","extend","dest","merge","inherit","child","base","properties","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","splitStr","addEventListener","removeEventListeners","removeEventListener","hasParent","parent","inStr","inArray","findByKey","toArray","uniqueArray","sort","results","prop","camelProp","_uniqueId","getWindowForElement","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","inputTarget","domHandler","ev","enable","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","deltaX","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","lastInterval","computeIntervalInputData","srcEvent","computeInputData","recognize","clientX","clientY","p1","p2","props","sqrt","atan2","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SingleTouchInput","started","normalizeSingleTouches","touches","changed","changedTouches","TOUCH_INPUT_MAP","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","DIRECTION_UP","preventSrc","Recognizer","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","preset","Manager","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","attrTest","optionPointers","isRecognized","isValid","threshold","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","toggleCssProps","item","add","force","stopped","curRecognizer","existing","remove","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","router","navData","pageData","pageDuration","tweenScroll","$rootPanel","prepPage","bindEmptyHashLinks","initPageController","route","path","controller","getRouter","trigger","routeSilently","redirect","href","origin","PageController","setConfig","setModules","about","indexes","listing","projects","changePageOut","changeContent","changePageIn","initPage","samePage","segmentOne","loadRootIndex","appTree","indexItem","items","collectionItem","collection","fullUrl","attr","isPop","isConfig","handlePopstate","scrollTop","Tween","Easing","$tile","Project","format","dataType","then","response","parseDoc","pageHtml","loadFullIndex","$doc","$page","execSquarespace","Squarespace","initializeCommerce","Y","animator","$node","menu","Menu","$plates","$images","$videos","isEnded","bindEvents","loadProject","loadVideos","handleImages","onPreload","elem","$video","VideoVimeo","instance","bar","cycleAnimation","onUpdateEmitter","$plate","nodeRect","updatePlates","updatePosition","killVideos","load","_instance","$_jsBar","$_jsInner","Bar","tween","getFrom","position","color","punycode","Url","protocol","slashes","auth","host","port","hostname","hash","query","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","javascript","hostlessProtocol","slashedProtocol","http","https","ftp","gopher","file","querystring","urlParse","url","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","rest","simplePath","proto","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","k","validParts","notHost","bit","unshift","toASCII","h","ae","esc","escape","qm","stringify","arrayFormat","addQueryPrefix","charAt","resolve","relative","resolveObject","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","pop","authInHost","hasTrailingSlash","up","isAbsolute","implementation","$defineProperty","GetIntrinsic","percentTwenties","Format","formatters","RFC1738","RFC3986","statusCodes","request","opts","defaultProtocol","headers","req","ClientRequest","IncomingMessage","Agent","defaultMaxSockets","globalAgent","STATUS_CODES","METHODS","$image","Image","className","videoData","$videoWrap","bindSwipe","bindClick","_onTap","onTap","_onSwipe","onSwipe","_onPanmove","onPanmove","_onPanend","onPanend","tap","swipe","onClick","transform","isLeft","handleClick","rect","left","setImage","setVideo","vData","files","logVideoFiles","getVideoFile","paddingBottom","pictures","sizes","link","_isTouch","DocumentTouch","_isMobile","isMobile","isStandalone","DEV","PROD","ENV","domain","isProd","paramalama","pair","$","_initialized","_cache","_session","sessionStorage","Store","_opts","_init","flush","save","enableStorage","isStorageSupported","setItem","uri","slug","getValue","crumb","cookie","removeItem","ResizeController","execAsap","delayed","detached","tDuration","isOpen","isDetach","client","Vimeo","require","$poster","$playback","_files","_video","loadVimeoData","vimeoId","vimeoUrl","_this","status_code","handleVimeoData","sourceUrl","posterUrl","initMobile","initVideo","applyAspect","createMediaNode","autoplayLoop","bindAutoplayLoop","clickToPlay","removeAttribute","bindClickToPlay","muted","_autoplayHandler","AutoplayHandler","classList","contains","mediabox","setVolume","currentTime","addMediaEvent","stopMedia","setMediaProp","addVideo","channel","getMedia","destroyMedia","_onScroll","quality","mobile","sd","hd","MediaBox","vimeoModule","vimeo_module","SyntaxError","formats","has","hexTable","arrayToObject","plainObjects","reduce","acc","combine","compact","refs","compacted","compactQueue","decode","decoder","charset","strWithoutPlus","unescape","encode","defaultEncoder","kind","$0","segment","maybeMap","mapped","allowPrototypes","mergeTarget","targetItem","writableStream","WritableStream","abortController","AbortController","blobConstructor","Blob","xhr","getXHR","XMLHttpRequest","XDomainRequest","checkTypeSupport","responseType","haveArrayBuffer","haveSlice","arraybuffer","fetch","msstream","mozchunkedarraybuffer","overrideMimeType","vbArray","VBArray","getOwnPropertyDescriptors","descriptors","formatRegExp","f","objects","_","msg","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","ctx","seen","stylize","stylizeNoColor","depth","colors","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","primitive","simple","formatPrimitive","visibleKeys","idx","arrayToHash","getOwnPropertyNames","formatError","braces","toUTCString","formatProperty","formatArray","prev","cur","numLinesEst","reduceToSingleString","line","ar","pad","debuglog","NODE_DEBUG","pid","months","timestamp","getHours","getMinutes","getSeconds","getDate","getMonth","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","promiseResolve","promiseReject","promise","reject","setPrototypeOf","defineProperties","custom","callbackify","callbackified","maybeCb","rej","stream","rStates","readyStates","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","fetchTimer","_mode","rawHeaders","trailers","rawTrailers","_fetchResponse","statusCode","status","statusMessage","statusText","capability","chunk","_destroyed","_resumeFetch","abort","pipeTo","catch","reader","getReader","done","_xhr","_pos","responseURL","getAllResponseHeaders","matches","_charset","mimeType","charsetMatch","_read","_onXHRProgress","readyState","responseBody","responseText","newData","MSStreamReader","onprogress","onload","readAsArrayBuffer","Stream","Transform","PassThrough","ReadableState","EventEmitter","EElistenerCount","OurUint8Array","debugUtil","debug","StringDecoder","BufferList","destroyImpl","kProxyEvents","isDuplex","objectMode","readableObjectMode","hwm","readableHwm","readableHighWaterMark","defaultHwm","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrain","readingMore","readableAddChunk","addToFront","skipChunkCheck","er","emitReadable","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","needMoreData","_undestroy","undestroy","isPaused","setEncoding","enc","howMuchToRead","head","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","nReadingNextTick","resume_","fromList","clear","hasStrings","next","nb","tail","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","nOrig","doRead","pipe","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","onerror","ondata","cleanedUp","needDrain","pipeOnDrain","increasedAwaitDrain","resume","dests","wrap","paused","_fromList","ReflectOwnKeys","R","ReflectApply","receiver","ownKeys","getOwnPropertySymbols","NumberIsNaN","errorListener","resolver","eventTargetAgnosticAddListener","flags","addErrorHandlerIfEventEmitter","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","warning","newListener","w","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","wrapListener","setMaxListeners","getMaxListeners","doError","originalListener","spliceOne","rawListeners","eventNames","emitErrorNT","readableDestroyed","writableDestroyed","errorEmitted","ending","finalCalled","prefinished","finished","CorkedRequest","entry","finish","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","setImmediate","WritableState","internalUtil","realHasInstance","nop","writableObjectMode","writableHwm","writableHighWaterMark","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","bufferedRequestCount","_write","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","current","hasInstance","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","nenc","retried","_normalizeEncoding","normalizeEncoding","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","_transform","_flush","_this2","err2","default","product","_createClass","descriptor","Constructor","protoProps","staticProps","getStorage","hasStorage","LocalStorage","localStorage","getItem","SECURITY_ERR","QUOTA_EXCEEDED_ERR","canStoreURLs","_classCallCheck","App","analytics","initModules","_onPreloadDone","onPreloadDone","teardown","app","not","one","closest","toggleClass","hobo","ajax","eventId","eventHandler","relatedElement","fromElement","toElement","unbind","evo","classes","newClass","elsClass","oldClass","keepers","pushNode","nextNode","nextSibling","prevNode","previousSibling","addAttr","parents","filtered","removeChild","appendage","appendChild","prependage","insertBefore","firstChild","AjaxPromise","_promise","_resolve","_reject","_then","_catch","params","payload","ajaxPromise","FormData","handleResponse","jsonpCallbackValue","jsonpCallbackKey","jsonp","jsonpScript","getElementsByTagName","setRequestHeader","onreadystatechange","send","_executor","_elements","_property","_loadType","loadType","_numLoaded","_num2Load","_transitionDelay","transitionDelay","_transitionDuration","transitionDuration","_resolved","initAsync","initSync","handle","syncLoad","image","isImage","nodeName","backgroundImage","elems","getNotLoaded","handlePreload","handleLazyload","imageController","ImageController","$preload","$lazyload","preLoader","lazyLoader","_rSlash","squarespace","endpoint","apipoint","nocache","seg","tag","category","pagination","vimeo","access_token","pushTrack","apiEndpoint","pageTitle","itemTitle","collectionTitle","websiteId","itemId","collectionId","recordHit","setDocumentTitle","websiteTitle","datas","queryString","referrer","localStorageSupported","viewportInnerHeight","viewportInnerWidth","screenHeight","screen","screenWidth","templateId","_hasOrientation","_currentView","getViewport","currentView","isResize","isResizeUp","isResizeDown","isResizeWidth","isResizeHeight","isOrientation","orient","isOrientationPortrait","isOrientationLandscape","orientation","isPortrait","isLandscape","onThrottle","onDebounce","wait","Router","_router","_config","_modules","_synced","_timeBefore","_currentRoute","_isFirstRoute","_currentQuery","_currentToString","_isSamePage","_silentMode","_silentCallback","_isRoutingActive","execOnload","getRouteDataToString","syncModules","onRouterResponse","onPopGetRouter","onPreGetRouter","handleRouterResponse","active","inactive","_options","transitionTime","unload","execUnload","routerOptions","pushStateOptions","_matcher","matched","__initialized","execInit","addModule","getModules","getConfig","getPusher","_pusher","getMatcher","getRoute","getQuery","_triggerEl","_activeEl","PushState","MatchRoute","_rHTTPs","_rFiles","_rDomain","_isRouting","async","proxy","caching","handle404","handle500","_callbacks","_responses","_ready","_handleClick","_handlePopstate","_route","XMLSerializer","serializeToString","_fire","_bind","_unbind","_routerRoutes","getActiveEl","getRouteForUrl","_cleanRoute","getRouteDataForUrl","getRoutes","_preventDefault","returnValue","isMatched","isDomain","isProxy","isHashed","isIgnore","isMetaKey","metaKey","isBlank","isFile","dat","urls","_matchUrl","_getUrl","stat","_jsRouterID","_pushable","history","_hashable","_initUrl","_enabled","_ishashpushed","_states","uid","_stateEnable","_pushstateID","_pushstateType","_push","goBack","back","goForward","forward","forceHash","pushState","hashUri","_rTrails","_rHashQuery","_rWild","_wilders","num","routes","_routes","_cleanRoutes","segMatches","isStar","ruris","regex","cond","uris","uLen","iLen","$_jsElement","getElements","About","initialize","transTime","$target","$anim","loadContent","IndexRoot","timeoutId","timeoutDelay","loadIndex","$anims","updateAnimate","handleScroll","_timeout","_handleScroll","onTileClick","onMouseEnter","onMouseLeave","rHashQuery","rNos","getCanPlaySource","clearPlaybackUpdate","createRequest","_channels","_audio","AudioContext","media","sources","canPlay","support","ogg","h264","m4a","mp3","track","_updateId","_updateFn","responseJSON","bgm","volume","_builtIn","sfx","vid","webkitAudioContext","AUDIO","VIDEO","audio","canPlayType","opus","wav","getAudioSupport","video","webm","vp9","hls","getVideoSupport","STATE_STOPPED","STATE_STOPPING","STATE_PAUSED","STATE_PLAYING","isLoaded","loaded","isPlaying","_node","getVolume","getMediaProp","getMediaAttr","setMediaAttr","timeupdate","removeMediaEvent","playMedia","pauseMedia","getAudios","getVideos","loadMedia","addMedia","bundle","_source","_nodeSource","getMimeForMedia","addAudio","CORS","Audio","onloaded","decodeAudioData","fadeMediaIn","easing","fadeMediaOut","stopChannel","playChannel","fadeChannelOut","fadeChannelIn","crossFadeChannel","objId","setChannelProp","getChannelProp","getChannels","onScroll","qsModule","urlModule","httpModule","httpsModule","fs","tus","request_defaults","Accept","authEndpoints","authorization","accessToken","clientCredentials","clientId","clientSecret","_clientId","_clientSecret","_accessToken","requestOptions","_buildRequestOptions","_handleRequest","_applyDefaultRequestOptions","Authorization","basicToken","_applyQuerystringParams","setAccessToken","redirectUri","grant_type","redirect_uri","buildAuthorizationEndpoint","scope","response_type","client_id","generateClientCredentials","upload","completeCallback","progressCallback","errorCallback","fileSize","_self","statSync","approach","attempt","_performTusUpload","videoUri","file_name","basename","fileUpload","createReadStream","Upload","uploadSize","retryDelays","onError","onProgress","onSuccess","upload_link","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","qs","sep","regexp","maxKeys","kstr","vstr","stringifyPrimitive","ks","freeGlobal","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","stringFromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","basic","oldi","baseMinusT","inputLength","bias","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","webpackPolyfill","paths","getSideChannel","arrayPrefixGenerators","brackets","comma","indices","repeat","pushToArray","valueOrArray","toISO","toISOString","defaultFormat","allowDots","allowEmptyArrays","charsetSentinel","delimiter","encodeDotInKeys","encoder","encodeValuesOnly","formatter","serializeDate","date","skipNulls","strictNullHandling","sentinel","generateArrayPrefix","commaRoundTrip","sideChannel","tmpSc","step","findFlag","objKeys","encodedPrefix","adjustedPrefix","encodedKey","keyPrefix","valueSideChannel","normalizeStringifyOptions","joined","callBound","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","curr","$wm","$m","$o","assert","listGet","listHas","listSet","EvalError","ReferenceError","URIError","origSymbol","hasSymbolSham","sym","symObj","syms","propertyIsEnumerable","$Object","ERROR_MESSAGE","toStr","concatty","slicy","arrLike","joiny","joiner","bound","binder","boundLength","boundArgs","Empty","$hasOwn","callBind","$indexOf","setFunctionLength","$apply","$call","$reflectApply","$max","originalFunction","func","applyBind","define","hasDescriptors","gOPD","$floor","loose","functionLengthIsConfigurable","functionLengthIsWritable","gopd","nonEnumerable","nonWritable","nonConfigurable","hasPropertyDescriptors","hasArrayLengthDefineBug","mapSizeDescriptor","hasMap","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","weakMapHas","weakSetHas","weakRefDeref","deref","booleanValueOf","valueOf","functionToString","$match","$slice","$toUpperCase","$toLowerCase","$test","$join","$arrSlice","bigIntValueOf","gOPS","symToString","hasShammedSymbols","isEnumerable","gPO","O","addNumericSeparator","sepRegex","int","intStr","dec","utilInspect","inspectCustom","inspectSymbol","quotes","single","quoteREs","wrapQuotes","defaultStyle","quoteStyle","quoteChar","inspect_","maxStringLength","indent","numericSeparator","inspectString","trailer","quoteRE","lastIndex","lowbyte","bigIntStr","maxDepth","baseIndent","getIndent","noIndent","newOpts","nameOf","arrObjKeys","symString","markBoxed","HTMLElement","isElement","attrs","childNodes","singleLineValues","indentedJoin","cause","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isBigInt","globalThis","ys","isPlainObject","protoTag","stringTag","8","9","10","12","13","entries","lineJoiner","isArr","symMap","allowSparse","arrayLimit","decodeDotInKeys","duplicates","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","strictDepth","numberStr","parseArrayValue","parseKeys","givenKey","valuesParsed","chain","leaf","cleanRoot","decodedRoot","0","parseObject","normalizeParseOptions","tempObj","cleanStr","skipIndex","bracketEqualsPos","encodedVal","parseValues","newObj","toArrayBuffer","preferBinary","_body","_headers","setHeader","useFetch","decideMode","_fetchTimer","_onFinish","lowerName","unsafeHeaders","getHeader","removeHeader","headersObj","headersList","keyName","signal","_fetchAbortController","requestTimeout","credentials","withCredentials","_connect","ontimeout","_response","statusValid","flushHeaders","setNoDelay","setSocketKeepAlive","ctor","superCtor","super_","TempCtor","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","clearImmediate","registerImmediate","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","script","attachEvent","task","arrayCopy","validateParams","normalizeArray","allowAboveRoot","resolvedPath","resolvedAbsolute","normalize","trailingSlash","fromParts","toParts","samePartsLength","outputParts","dirname","hasRoot","matchedSlash","extname","startDot","startPart","preDotState","_upload","_upload2","storage","_interopRequireWildcard","defaultOptions","moduleExport","_window","isSupported","FileStorage","_error2","_interopRequireDefault","_extend2","_jsBase","_request","_storage","fingerprint","onChunkComplete","chunkSize","uploadUrl","overridePatchMethod","removeFingerprintOnSuccess","uploadLengthDeferred","urlStorage","fileReader","uploadDataDuringCreation","_fingerprint","_offset","_aborted","_size","_retryAttempt","_retryTimeout","_offsetBeforeRetry","_start","getSource","_emitError","isOnline","onLine","originalRequest","isServerError","inStatusCategory","_resumeUpload","_hasStorage","fingerprintValue","resumedUrl","_createUpload","shouldTerminate","_this3","terminate","causingErr","bytesSent","bytesTotal","bytesAccepted","setupXHR","_this4","newRequest","getResponseHeader","resolveUrl","_emitSuccess","_handleUploadResponse","_startUpload","_emitXhrError","_setupXHR","metadata","encoded","Base64","encodeMetadata","_addChunkToRequest","_this5","_emitProgress","_this6","_this7","lengthComputable","_this8","_emitChunkComplete","_possibleConstructorReturn","DetailedError","_Error","causingError","subClass","superClass","_inherits","hasOwnConstructor","hasIsPrototypeOf","setProperty","newValue","getProperty","copyIsArray","clone","deep","factory","_Base64","b64chars","b64tab","bin","cb_utob","cc","re_utob","utob","cb_encode","ccc","padlen","ord","btoa","_encode","urisafe","m0","re_btou","cb_btou","cccc","btou","cb_decode","chars","_atob","atob","_decode","noConflict","fromBase64","toBase64","__buffer__","noEnum","extendString","_urlParse2","_urlParse","required","protocolre","trimLeft","rules","address","ignore","lolcation","loc","finaldestination","extractProtocol","parser","extracted","instruction","instructions","username","password","char","ins","pairs","_isReactNative2","_uriToBlob2","blob","FileSource","StreamSource","_isCordova2","_readAsByteArray2","_file","_chunkSize","_buffer","_bufferOffset","_reader","_done","_readUntilEnoughDataOrDone","hasEnoughData","_getDataFromBuffer","_ref","hasAllDataBeenRead","cancel","blobOrArray","PhoneGap","Cordova","cordova","FileReader","exifHash","exif","hashCode","reactNativeFingerprint","lastModified","_isReactNative","IndexFull","_gridItemTpl","vimeos","bindGallery","$elem","_onKeyDown","onKeyDown","_onGalleryImage","onGalleryImage","_onGalleryBack","onGalleryBack","$project","$title","onLoadFullIndex","json","collections","description","$grid","recordTypeLabel","customContent","vimeoVideoUrl","_gridVideoTpl","verticalVideo","loadVideo","diptychImage","systemDataVariants","keyCode","unbindGallery","$parent","$next","$prev","nextProject","nextTile","nextTitle","killProject","$mainPanels","mainDuration","onController","$panel"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 61);\n","/**\n *\n * @public\n * @module core\n * @description Holds the different core modules.\n *\n */\nimport detect from \"./detect\";\nimport dom from \"./dom\";\nimport images from \"./images\";\nimport * as util from \"./util\";\nimport config from \"./config\";\nimport env from \"./env\";\nimport log from \"./log\";\nimport api from \"./api\";\nimport cache from \"./cache\";\nimport Analytics from \"./Analytics\";\nimport emitter from \"./emitter\";\nimport resizer from \"./resizer\";\nimport resizes from \"./resizes\";\n\n\nexport {\n    detect,\n    dom,\n    images,\n    util,\n    config,\n    env,\n    log,\n    api,\n    cache,\n    Analytics,\n    emitter,\n    resizer,\n    resizes\n};\n","var utils = require( \"./utils\" ),\n    array = [];\n\n\n/**\n *\n * @class Hobo\n * @constructor\n * @classdesc A very small, modular DOM utility for modern web apps.\n * @param {string} selector The goods - String, Element, Collection.\n * @param {element} context The Element used to call `querySelectorAll`\n *\n */\nvar Hobo = function ( selector, context ) {\n    // Hobo version?\n    this._hobo = utils.version;\n\n    // Hobo context\n    this._context = (context && context.nodeType && context.nodeType === 1 ? context : document);\n\n    // Hobo selector / elements\n    // Hobo supports a mixed selector argument\n\n    // Handle Window\n    // Handle Document\n    // Handle DOMElement\n    if ( selector === window || selector === document || (selector.nodeType && selector.nodeType === 1) ) {\n        this._selector = \"\";\n        selector = [ selector ];\n\n    // Handle String\n    } else if ( typeof selector === \"string\" ) {\n        // Trim trailing whitespace from the string\n        selector = utils.trimString( selector );\n\n        // Handle string html => Element creation\n        if ( utils.rTag.test( selector ) ) {\n            // Then remove the doctype - `<!DOCTYPE html>`\n            selector = selector.replace( utils.rDocType, \"\" );\n\n            // Create a dummy `hobo` element\n            // Dump the HTML payload in the `hobo` element\n            // Extract the elements from the `hobo` element\n            var el = document.createElement( \"hobo\" );\n                el.innerHTML = selector;\n\n            // Format elements as a true Array\n            selector = utils.makeArray( el.children );\n\n            el = null;\n\n        // Handle string selector\n        } else {\n            this._selector = selector;\n            selector = utils.makeArray( this._context.querySelectorAll( selector ) );\n        }\n\n    // Handle Collection: NodeList, HTMLCollection, Array\n    } else if ( selector.length !== undefined ) {\n        this._selector = \"\";\n        selector = utils.makeArray( selector );\n    }\n\n    // Hobo events?\n    this._events = {};\n\n    // Hobo length?\n    this.length = selector.length;\n\n    // Hobo elements?\n    for ( var i = this.length; i--; ) {\n        this[ i ] = selector[ i ];\n    }\n\n    // Initial mapping of each nodes data.\n    // Transfer {DOMStringMap} => {hoboDataMap}\n    this.forEach( utils.makeData );\n};\n\n\n// Shim Array-like presentation in console\nHobo.prototype.splice = array.splice;\n\n\n/**\n *\n * @instance\n * @method each\n * @param {function} callback The method called on each iteration\n * @memberof Hobo\n * @description Make sure Hobo is iterable like an Array\n *\n */\nHobo.prototype.each = array.forEach;\n\n\n/**\n *\n * @instance\n * @method forEach\n * @param {function} callback The method called on each iteration\n * @memberof Hobo\n * @description Make sure Hobo is iterable like an Array\n *\n */\nHobo.prototype.forEach = array.forEach;\n\n\n/**\n *\n * @instance\n * @method push\n * @param {?} element element1, ..., elementN\n * @memberof Hobo\n * @description Make sure Hobo is pushable like an Array\n *\n */\nHobo.prototype.push = array.push;\n\n\n/**\n *\n * @instance\n * @method map\n * @param {function} callback The method called for each element\n * @memberof Hobo\n * @description Make sure Hobo is mappable like an Array\n *\n */\nHobo.prototype.map = array.map;\n\n\n// Export the main Hobo Class :D\nmodule.exports = Hobo;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/**\n *\n * @static\n * @memberof Hobo\n * @member utils\n * @description Utility methods used internally by Hobo\n *\n */\nvar version = \"0.3.15\",\n\n\n    rData = /^data-/,\n\n\n    rDigit = /\\D/g,\n\n\n    rDashAlpha = /-([\\da-z])/gi,\n\n\n    rTag = /^</,\n\n\n    rJson = /^\\[|\\{/,\n\n\n    rDocType = /^<\\!DOCTYPE\\shtml>/i,\n\n\n    rFront2Back = /^\\s+|\\s+$/g,\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method trimString\n     * @description Trim leading and trailing whitespace\n     * @param {string} str The string to trim\n     * @returns {string}\n     *\n     */\n    trimString = function ( str ) {\n        return str.replace( rFront2Back, \"\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method camelCase\n     * @description Camel case a string\n     * @param {string} str The string to camel case\n     * @returns {string}\n     *\n     */\n    camelCase = function ( str ) {\n        return str.replace( rDashAlpha, function ( all, letter ) {\n            return letter.toUpperCase();\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method makeId\n     * @description Make a unique hobo ID string\n     * @returns {string}\n     *\n     */\n    makeId = function () {\n        return (\"hobo\" + ( version + Math.random() ).replace( rDigit, \"\" ));\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method makeArray\n     * @description Convert elements to a native Array\n     * @param {elements} nodes The nodes to make into an array\n     * @returns {array}\n     *\n     */\n    makeArray = function ( nodes ) {\n        return [].slice.call( nodes );\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method makeData\n     * @description Establish the hoboDataMap for a node\n     * @param {element} node The node to map data on\n     *\n     */\n    makeData = function ( node ) {\n        if ( !node.hoboDataMap ) {\n            node.hoboDataMap = {};\n        }\n\n        if ( node.dataset ) {\n            _mapDataset( node );\n\n        } else if ( node.attributes ) {\n            _mapAttributes( node );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method storeData\n     * @description Store data in the hoboDataMap\n     * @param {object} data The data to store\n     * @param {element} node The node to store data with\n     *\n     */\n    storeData = function ( data, node ) {\n        var id,\n            i;\n\n        for ( i in data ) {\n            if ( data.hasOwnProperty( i ) ) {\n                id = camelCase( i );\n\n                node.hoboDataMap[ id ] = data[ i ];\n            }\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method mergeData\n     * @description Merge\n     * @param {object} data The data to mutate\n     * @param {element} node The node to pull data from\n     *\n     */\n    mergeData = function ( data, node ) {\n        for ( var i in node.hoboDataMap ) {\n            if ( node.hoboDataMap.hasOwnProperty( i ) && !data[ i ] ) {\n                data[ i ] = node.hoboDataMap[ i ];\n            }\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method retrieveData\n     * @description Get data from a node\n     * @param {string} key The reference point for a data entry\n     * @param {element} node The node to pull a data value from\n     * @returns {mixed}\n     *\n     */\n    retrieveData = function ( key, node ) {\n        var ret = null;\n\n        // All data mapped into Hobo will be camel-cased\n        key = camelCase( key );\n\n        if ( node.hoboDataMap && node.hoboDataMap[ key ] ) {\n            ret = node.hoboDataMap[ key ];\n        }\n\n        return ret;\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method removeData\n     * @description Delete data from a nodes hoboDataMap\n     * @param {string} key The reference point for a data entry\n     * @param {element} node The node to delete a data value from\n     *\n     */\n    removeData = function ( key, node ) {\n        // All data mapped into Hobo will be camel-cased\n        key = camelCase( key );\n\n        if ( node.hoboDataMap && node.hoboDataMap[ key ] ) {\n            delete node.hoboDataMap[ key ];\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method serializeData\n     * @description Convert data into AJAXable querystring\n     * @param {object} data The data to convert\n     * @param {string} prefix The current iterations property name\n     * @returns {string}\n     *\n     */\n    serializeData = function ( data, prefix ) {\n        var str = [],\n            key,\n            val,\n            i;\n\n        for ( i in data ) {\n            if ( data.hasOwnProperty( i ) ) {\n                key = prefix ? (prefix + \"[\" + i + \"]\") : i;\n                val = data[ i ];\n\n                if ( Array.isArray( val ) ) {\n                    val.forEach(function ( v ) {\n                        str.push( (encodeURIComponent( key ) + \"[]\" + \"=\" + encodeURIComponent( v )) );\n                    });\n\n                } else if ( typeof val === \"object\" ) {\n                    str.push( serializeData( val, key ) );\n\n                } else {\n                    str.push( (encodeURIComponent( key ) + \"=\" + encodeURIComponent( val )) );\n                }\n            }\n        }\n\n        return str.join( \"&\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method getClass\n     * @description Get the class string from a node\n     * @param {Element} node The node to get `class` for\n     * @returns {string}\n     *\n     */\n    getClass = function ( node ) {\n        return (node.getAttribute( \"class\" ) || \"\");\n    },\n\n\n    /**\n     *\n     * @public\n     * @memberof utils\n     * @method setClass\n     * @description Set the class string for a node\n     * @param {Element} node The node to set `class` on\n     * @param {string} klass The class string to be applied\n     *\n     */\n    setClass = function ( node, klass ) {\n        node.setAttribute( \"class\", klass );\n    },\n\n\n    // DOMStringMap camel-cases data- attributes.\n    // NamedNodeMap is a fallback which supports IE 10.\n    // Data mapped through Hobo must camel-case as well.\n\n\n    /**\n     *\n     * @private\n     * @memberof utils\n     * @method _getDataValue\n     * @description Normalized parsing of JSON string into Object\n     * @param {object} data The data to parse\n     * @returns {object}\n     *\n     */\n    _getDataValue = function ( data ) {\n        if ( rJson.test( data ) ) {\n            try {\n                data = JSON.parse( data );\n\n            } catch ( error ) {\n                throw error;\n            }\n        }\n\n        return data;\n    },\n\n\n    /**\n     *\n     * @private\n     * @memberof utils\n     * @method _mapAttributes\n     * @description Migrate existing NamedNodeMap to a nodes hoboDataMap\n     * @param {element} node The data to parse\n     *\n     */\n    _mapAttributes = function ( node ) {\n        var i = node.attributes.length;\n\n        for ( i; i--; ) {\n            if ( rData.test( node.attributes[ i ].name ) ) {\n                var key = camelCase( node.attributes[ i ].name.replace( rData, \"\" ) );\n\n                node.hoboDataMap[ key ] = _getDataValue( node.attributes[ i ].value );\n            }\n        }\n    },\n\n\n    /**\n     *\n     * @private\n     * @memberof utils\n     * @method _mapDataset\n     * @description Migrate existing DOMStringMap to a nodes hoboDataMap\n     * @param {element} node The data to parse\n     *\n     */\n    _mapDataset = function ( node ) {\n        for ( var i in node.dataset ) {\n            if ( node.dataset.hasOwnProperty( i ) ) {\n                node.hoboDataMap[ i ] = _getDataValue( node.dataset[ i ] );\n            }\n        }\n    };\n\n\nmodule.exports = {\n    version: version,\n    rData: rData,\n    rDigit: rDigit,\n    rTag: rTag,\n    rJson: rJson,\n    rDocType: rDocType,\n    rFront2Back: rFront2Back,\n    trimString: trimString,\n    camelCase: camelCase,\n    makeId: makeId,\n    makeArray: makeArray,\n    makeData: makeData,\n    storeData: storeData,\n    retrieveData: retrieveData,\n    mergeData: mergeData,\n    removeData: removeData,\n    serializeData: serializeData,\n    getClass: getClass,\n    setClass: setClass\n};\n","module.exports = global[\"hobo\"] = require(\"-!./hobo.build.js\");","/*!\n *\n * Use native element selector matching\n *\n * @matchElement\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.matchElement = factory();\n    }\n    \n})(function () {\n\n    /**\n     *\n     * Use native element selector matching\n     * @memberof! <global>\n     * @method matchElement\n     * @param {object} el the element\n     * @param {string} selector the selector to match\n     * @param {boolean} walk should we walk the tree if el is not a match?\n     * @returns element OR null\n     *\n     */\n    var matchElement = function ( el, selector, walk ) {\n        var method = ( el.matches ) ? \"matches\" : ( el.webkitMatchesSelector ) ? \n                                      \"webkitMatchesSelector\" : ( el.mozMatchesSelector ) ? \n                                      \"mozMatchesSelector\" : ( el.msMatchesSelector ) ? \n                                      \"msMatchesSelector\" : ( el.oMatchesSelector ) ? \n                                      \"oMatchesSelector\" : null;\n\n        // Try testing the element against the selector\n        // 0.1 => Method is not undefined\n        // 0.2 => Element passes method call\n        if ( method && el[ method ].call( el, selector ) ) {\n            return el;\n\n        // Keep walking up the DOM if we can - only if `walk` flag is `true`\n        } else if ( walk && el !== document.documentElement && el.parentNode ) {\n            return matchElement( el.parentNode, selector, walk );\n\n        // Otherwise we should not execute an event\n        } else {\n            return null;\n        }\n    };\n\n\n    return matchElement;\n\n});","/*!\n *\n * Event / Animation cycle manager\n *\n * @Controller\n * @author: kitajchuk\n *\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Controller = factory();\n    }\n    \n})(function () {\n    // Private animation functions\n    var raf = window.requestAnimationFrame,\n        caf = window.cancelAnimationFrame,\n    \n    \n    /**\n     *\n     * Event / Animation cycle manager\n     * @constructor Controller\n     * @requires raf\n     * @memberof! <global>\n     *\n     */\n    Controller = function () {\n        return this.init.apply( this, arguments );\n    };\n    \n    Controller.prototype = {\n        constructor: Controller,\n    \n        /**\n         *\n         * Controller constructor method\n         * @memberof Controller\n         * @method Controller.init\n         *\n         */\n        init: function () {\n            /**\n             *\n             * Controller event handlers object\n             * @memberof Controller\n             * @member _handlers\n             * @private\n             *\n             */\n            this._handlers = {};\n    \n            /**\n             *\n             * Controller unique ID\n             * @memberof Controller\n             * @member _uid\n             * @private\n             *\n             */\n            this._uid = 0;\n    \n            /**\n             *\n             * Started iteration flag\n             * @memberof Controller\n             * @member _started\n             * @private\n             *\n             */\n            this._started = false;\n    \n            /**\n             *\n             * Paused flag\n             * @memberof Controller\n             * @member _paused\n             * @private\n             *\n             */\n            this._paused = false;\n    \n            /**\n             *\n             * Timeout reference\n             * @memberof Controller\n             * @member _cycle\n             * @private\n             *\n             */\n            this._cycle = null;\n        },\n    \n        /**\n         *\n         * Controller go method to start frames\n         * @memberof Controller\n         * @method go\n         *\n         */\n        go: function ( fn ) {\n            if ( this._started && this._cycle ) {\n                return this;\n            }\n    \n            this._started = true;\n    \n            var self = this,\n                anim = function () {\n                    self._cycle = raf( anim );\n    \n                    if ( self._started ) {\n                        if ( typeof fn === \"function\" ) {\n                            fn();\n                        }\n                    }\n                };\n    \n            anim();\n        },\n    \n        /**\n         *\n         * Pause the cycle\n         * @memberof Controller\n         * @method pause\n         *\n         */\n        pause: function () {\n            this._paused = true;\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Play the cycle\n         * @memberof Controller\n         * @method play\n         *\n         */\n        play: function () {\n            this._paused = false;\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Stop the cycle\n         * @memberof Controller\n         * @method stop\n         *\n         */\n        stop: function () {\n            caf( this._cycle );\n    \n            this._paused = false;\n            this._started = false;\n            this._cycle = null;\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Controller add event handler\n         * @memberof Controller\n         * @method on\n         * @param {string} event the event to listen for\n         * @param {function} handler the handler to call\n         *\n         */\n        on: function ( event, handler ) {\n            var events = event.split( \" \" );\n    \n            // One unique ID per handler\n            handler._jsControllerID = this.getUID();\n    \n            for ( var i = events.length; i--; ) {\n                if ( typeof handler === \"function\" ) {\n                    if ( !this._handlers[ events[ i ] ] ) {\n                        this._handlers[ events[ i ] ] = [];\n                    }\n    \n                    // Handler can be stored with multiple events\n                    this._handlers[ events[ i ] ].push( handler );\n                }\n            }\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Controller remove event handler\n         * @memberof Controller\n         * @method off\n         * @param {string} event the event to remove handler for\n         * @param {function} handler the handler to remove\n         *\n         */\n        off: function ( event, handler ) {\n            if ( !this._handlers[ event ] ) {\n                return this;\n            }\n    \n            // Remove a single handler\n            if ( handler ) {\n                this._off( event, handler );\n    \n            // Remove all handlers for event\n            } else {\n                this._offed( event );\n            }\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Controller fire an event\n         * @memberof Controller\n         * @method fire\n         * @param {string} event the event to fire\n         *\n         */\n        fire: function ( event ) {\n            if ( !this._handlers[ event ] ) {\n                return this;\n            }\n    \n            var args = [].slice.call( arguments, 1 );\n    \n            for ( var i = this._handlers[ event ].length; i--; ) {\n                this._handlers[ event ][ i ].apply( this, args );\n            }\n    \n            return this;\n        },\n    \n        /**\n         *\n         * Get a unique ID\n         * @memberof Controller\n         * @method getUID\n         * @returns number\n         *\n         */\n        getUID: function () {\n            this._uid = (this._uid + 1);\n    \n            return this._uid;\n        },\n    \n        /**\n         *\n         * Controller internal off method assumes event AND handler are good\n         * @memberof Controller\n         * @method _off\n         * @param {string} event the event to remove handler for\n         * @param {function} handler the handler to remove\n         * @private\n         *\n         */\n        _off: function ( event, handler ) {\n            for ( var i = 0, len = this._handlers[ event ].length; i < len; i++ ) {\n                if ( handler._jsControllerID === this._handlers[ event ][ i ]._jsControllerID ) {\n                    this._handlers[ event ].splice( i, 1 );\n    \n                    break;\n                }\n            }\n        },\n    \n        /**\n         *\n         * Controller completely remove all handlers and an event type\n         * @memberof Controller\n         * @method _offed\n         * @param {string} event the event to remove handler for\n         * @private\n         *\n         */\n        _offed: function ( event ) {\n            for ( var i = this._handlers[ event ].length; i--; ) {\n                this._handlers[ event ][ i ] = null;\n            }\n    \n            delete this._handlers[ event ];\n        }\n    };\n\n    return Controller;\n});","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","try {\n  var util = require('util');\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  module.exports = require('./inherits_browser.js');\n}\n","import * as core from \"./core\";\n\n\nlet isActive = false;\nlet isSuppressed = false;\n\n\n/**\n *\n * @public\n * @module overlay\n * @description Performs the branded load-in screen sequence.\n *\n */\nconst overlay = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof overlay\n     * @description Initialize the overlay element.\n     *\n     */\n    init () {\n        if ( core.dom.overlay.element.is( \".is-active\" ) ) {\n            isActive = true;\n\n        } else {\n            core.dom.overlay.element.detach();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method open\n     * @memberof overlay\n     * @description Open the overlay.\n     * @returns {@this}\n     *\n     */\n    open () {\n        if ( isActive || isSuppressed ) {\n            return this;\n        }\n\n        isActive = true;\n\n        core.dom.html.addClass( \"is-overlay-active\" );\n        core.dom.body.append( core.dom.overlay.element );\n\n        setTimeout( () => core.dom.overlay.element.addClass( \"is-active\" ), 10 );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method close\n     * @memberof overlay\n     * @description Close the overlay.\n     * @returns {@this}\n     *\n     */\n    close () {\n        if ( !isActive ) {\n            return this;\n        }\n\n        core.dom.overlay.element.removeClass( \"is-active\" );\n\n        setTimeout( () => {\n            isActive = false;\n\n            core.dom.html.removeClass( \"is-overlay-active\" );\n            core.dom.overlay.element.detach().removeClass( \"is-intro\" );\n\n            this.empty();\n\n        }, core.dom.overlay.elementTransitionDuration );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method empty\n     * @memberof overlay\n     * @description Empty the overlay.\n     *\n     */\n    empty () {\n        core.dom.overlay.elementTitle[ 0 ].innerHTML = \"\";\n    },\n\n\n    /**\n     *\n     * @public\n     * @method suppress\n     * @param {boolean} bool Will it be suppressed?\n     * @memberof overlay\n     * @description Suppress the overlay.\n     *\n     */\n    suppress ( bool ) {\n        isSuppressed = bool;\n\n        if ( isSuppressed && isActive ) {\n            this.close();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method setTitle\n     * @param {string} text The text/html to set.\n     * @memberof overlay\n     * @description Add text to the overlay.\n     *\n     */\n    setTitle ( text ) {\n        if ( !isSuppressed ) {\n            core.dom.overlay.elementTitle[ 0 ].innerHTML = text;\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof overlay\n     * @description Is the overlay open?.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return isActive;\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default overlay;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict';\n\nvar undefined;\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","/**\n *\n * @public\n * @module util\n * @description Houses app-wide utility methods.\n *\n */\n\n\nimport $ from \"properjs-hobo\";\nimport ImageLoader from \"properjs-imageloader\";\nimport dom from \"./dom\";\nimport config from \"./config\";\nimport detect from \"./detect\";\nimport Hammer from \"hammerjs\";\n\n\n/**\n *\n * @description Add pixel units when inline styling\n * @method px\n * @param {string} str The value to pixel-ify\n * @memberof util\n * @returns {string}\n *\n */\nconst px = function ( str ) {\n    return `${str}px`;\n};\n\n\n/**\n *\n * @description Apply a translate3d transform\n * @method translate3d\n * @param {object} el The element to transform\n * @param {string|number} x The x value\n * @param {string|number} y The y value\n * @param {string|number} z The z value\n * @memberof core.util\n *\n */\nconst translate3d = function ( el, x, y, z ) {\n    el.style[ Hammer.prefixed( el.style, \"transform\" ) ] = `translate3d( ${x}, ${y}, ${z} )`;\n};\n\n\n/**\n *\n * @description Module onImageLoadHander method, handles event\n * @method isElementLoadable\n * @param {object} el The DOMElement to check the offset of\n * @memberof core.util\n * @returns {boolean}\n *\n */\nconst isElementLoadable = function ( el ) {\n    if ( el ) {\n        const bounds = el.getBoundingClientRect();\n\n        return ( bounds.top < (window.innerHeight * 2) );\n    }\n};\n\n\n/**\n *\n * @description Module isElementInViewport method, handles element boundaries\n * @method isElementInViewport\n * @param {object} el The DOMElement to check the offsets of\n * @memberof util\n * @returns {boolean}\n *\n */\nconst isElementInViewport = function ( el ) {\n    if ( el ) {\n        const bounds = el.getBoundingClientRect();\n\n        return ( bounds.top < window.innerHeight && bounds.bottom > 0 );\n    }\n};\n\n\n/**\n *\n * @method getClosestValue\n * @memberof util\n * @param {array} arr The array to process\n * @param {number} closestTo The number to get close to\n * @description Get closest number value without going under\n * @returns {number}\n *\n */\nconst getClosestValue = function ( arr, closestTo ) {\n    // Get the highest number in arr in case it matches nothing.\n    let close = Math.max.apply( null, arr );\n    let i = arr.length;\n\n    for ( i; i--; ) {\n        // Check if it's higher than your number, but lower than your closest value\n        if ( arr[ i ] >= closestTo && arr[ i ] < close ) {\n            close = arr[ i ];\n        }\n    }\n\n    return close;\n};\n\n\n/**\n *\n * @public\n * @method getElementsInView\n * @param {Hobo} $nodes The elements to check\n * @memberof util\n * @description Get only visible elements\n * @returns {Hobo}\n *\n */\nconst getElementsInView = function ( $nodes ) {\n    let i = $nodes.length;\n    const $ret = $( [] );\n\n    for ( i; i--; ) {\n        if ( isElementLoadable( $nodes[ i ] ) ) {\n            $ret.push( $nodes[ i ] );\n        }\n    }\n\n    return $ret;\n};\n\n\n/**\n *\n * @description Update images that have already been loaded\n * @method updateImages\n * @param {Hobo} images The optional argument passed collection to reload\n * @memberof util\n *\n */\nconst updateImages = function ( images ) {\n    images = (images || $( `[${config.imageLoaderAttr}]` ));\n\n    if ( images.length ) {\n        images.removeAttr( config.imageLoaderAttr );\n\n        loadImages( images, noop );\n    }\n};\n\n\n/**\n *\n * @description Fresh query to lazyload images on page\n * @method loadImages\n * @param {object} images Optional collection of images to load\n * @param {function} handler Optional handler for load conditions\n * @param {boolean} useVariant Optional flag to skip loading size variants\n * @param {number} useWidth Optional manual width to determine variant against\n * @memberof util\n * @returns {instance}\n *\n */\nconst loadImages = function ( images, handler, useVariant, useWidth ) {\n    const rQuery = /\\?(.*)$/;\n    const map = function ( vnt ) {\n        return parseInt( vnt, 10 );\n    };\n    let $img = null;\n    let data = null;\n    let dims = null;\n    let vars = null;\n    let width = null;\n    let variant = null;\n    let source = null;\n    let i = null;\n\n    // Normalize the handler\n    handler = (handler || isElementInViewport);\n\n    // Normalize the images\n    images = (images || dom.page.find( config.lazyImageSelector ));\n\n    // Normalize the `useVariant` flag\n    if ( !useVariant && useVariant !== false ) {\n        useVariant = true;\n    }\n\n    // Get the right size image from Squarespace\n    // http://developers.squarespace.com/using-the-imageloader/\n    // Depending on the original upload size, we have these variants\n    // {original, 1500w, 1000w, 750w, 500w, 300w, 100w}\n    i = images.length;\n\n    for ( i; i--; ) {\n        $img = images.eq( i );\n        data = $img.data();\n        width = (useWidth || $img[ 0 ].clientWidth || $img[ 0 ].parentNode.clientWidth || window.innerWidth);\n        source = data.imgSrc.replace( rQuery, \"\" );\n\n        // Pre-process portrait vs landscape using originalSize\n        if ( data.originalSize ) {\n            dims = getOriginalDims( data.originalSize );\n\n            if ( dims.width > dims.height ) {\n                $img.addClass( \"image--wide\" );\n\n            } else {\n                $img.addClass( \"image--tall\" );\n            }\n        }\n\n        if ( useVariant && data.variants ) {\n            vars = data.variants.split( \",\" ).map( map );\n            variant = getClosestValue( vars, width );\n\n            // If the pixel density is higher, use a larger image ?\n            //if ( window.devicePixelRatio > 1 ) {\n            // Splice off the variant that was matched\n            //    vars.splice( vars.indexOf( variant ), 1 );\n\n            // Apply the new, larger variant as the format\n            //    variant = getClosestValue( vars, variant );\n            //}\n\n            $img[ 0 ].setAttribute( config.lazyImageAttr, `${source}?format=${variant}w` );\n        }\n    }\n\n    return new ImageLoader({\n        elements: images,\n        property: config.lazyImageAttr,\n        executor: handler\n    });\n};\n\n\n/**\n *\n * @description Get the applied transition duration from CSS\n * @method getTransitionDuration\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {number}\n *\n */\nconst getTransitionDuration = function ( el ) {\n    let ret = 0;\n    let duration = null;\n    let isSeconds = false;\n    let multiplyBy = 1000;\n\n    if ( el ) {\n        duration = getComputedStyle( el )[ \"transition-duration\" ];\n        isSeconds = String( duration ).indexOf( \"ms\" ) === -1;\n        multiplyBy = isSeconds ? 1000 : 1;\n\n        ret = parseFloat( duration ) * multiplyBy;\n    }\n\n    return ret;\n};\n\n\n/**\n *\n * @description All true all the time\n * @method noop\n * @memberof util\n * @returns {boolean}\n *\n */\nconst noop = function () {\n    return true;\n};\n\n\n/**\n *\n * @public\n * @method getOriginalDims\n * @memberof util\n * @param {string} original The original image dims\n * @description Get an object reference to original dims.\n *              Format: \"1600x1600\"\n * @returns {object}\n *\n */\nconst getOriginalDims = function ( original ) {\n    const dims = original.split( \"x\" );\n\n    return {\n        width: parseInt( dims[ 0 ], 10 ),\n        height: parseInt( dims[ 1 ], 10 )\n    };\n};\n\n\n/**\n *\n * @public\n * @method getPageKey\n * @memberof util\n * @description Get the unique page key for cache and such\n * @returns {object}\n *\n */\nconst getPageKey = function () {\n    let ret = null;\n\n    if ( window.location.pathname === config.appRoot ) {\n        ret = config.homepageKey;\n\n    } else {\n        ret = `${window.location.pathname}${window.location.search}`;\n    }\n\n    return ret;\n};\n\n\n/**\n *\n * @public\n * @method extendObject\n * @memberof util\n * @param {object} target The target object/array\n * @param {object} arrow The incoming object/array\n * @description Merge objects and arrays by cloning - non-mutable\n * @returns {object}\n *\n */\nconst extendObject = function ( target, arrow ) {\n    let i = null;\n\n    // Never mutate the target\n    const ret = Array.isArray( target ) ? [] : {};\n\n    // Merge Arrays\n    if ( Array.isArray( arrow ) ) {\n        i = target.length;\n\n        for ( i; i--; ) {\n            ret[ i ] = target[ i ];\n        }\n\n        i = arrow.length;\n\n        for ( i; i--; ) {\n            ret[ i ] = arrow[ i ];\n        }\n\n    // Merge Objects\n    } else {\n        for ( i in target ) {\n            if ( target.hasOwnProperty( i ) ) {\n                ret[ i ] = target[ i ];\n            }\n        }\n\n        for ( i in arrow ) {\n            if ( arrow.hasOwnProperty( i ) ) {\n                ret[ i ] = arrow[ i ];\n            }\n        }\n    }\n\n    return ret;\n};\n\n\n/**\n *\n * @method getDefaultHammerOptions\n * @memberof core.util\n * @description The default options for Hammer JS.\n *              Disables cssProps for non-touch experiences.\n * @returns {object}\n *\n */\nconst getDefaultHammerOptions = function () {\n    return detect.isDevice() ? {} : {\n        cssProps: {\n            contentZoomingString: false,\n            tapHighlightColorString: false,\n            touchCalloutString: false,\n            touchSelectString: false,\n            userDragString: false,\n            userSelectString: false\n        }\n    };\n};\n\n\n/**\n *\n * Get the applied transform values from CSS\n * @method getTransformValues\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {object}\n *\n */\nconst getTransformValues = function ( el ) {\n    if ( !el ) {\n        return null;\n    }\n\n    const transform = window.getComputedStyle( el )[ Hammer.prefixed( el.style, \"transform\" ) ];\n    const values = transform.replace( /matrix|3d|\\(|\\)|\\s/g, \"\" ).split( \",\" );\n    const ret = {};\n\n    // No Transform\n    if ( values[ 0 ] === \"none\" ) {\n        ret.x = 0;\n        ret.y = 0;\n        ret.z = 0;\n\n    // Matrix 3D\n    } else if ( values.length === 16 ) {\n        ret.x = parseFloat( values[ 12 ] );\n        ret.y = parseFloat( values[ 13 ] );\n        ret.z = parseFloat( values[ 14 ] );\n\n    } else {\n        ret.x = parseFloat( values[ 4 ] );\n        ret.y = parseFloat( values[ 5 ] );\n        ret.z = 0;\n    }\n\n    return ret;\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport {\n    px,\n    noop,\n    getPageKey,\n    loadImages,\n    translate3d,\n    extendObject,\n    updateImages,\n    isElementLoadable,\n    getElementsInView,\n    getTransformValues,\n    isElementInViewport,\n    getTransitionDuration,\n    getDefaultHammerOptions\n};\n","import env from \"./env\";\n\n\n/**\n *\n * @public\n * @method log\n * @description Normalized app console logger.\n *\n */\nconst log = function ( ...args ) {\n    if ( env.isDev() ) {\n        console.log( args );\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default log;\n","/*!\n *\n * A base set of easing methods\n * Most of which were found here:\n * https://gist.github.com/gre/1650294\n *\n * @Easing\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Easing = factory();\n    }\n    \n})(function () {\n\n    /**\n     *\n     * Easing functions\n     * @namespace Easing\n     * @memberof! <global>\n     *\n     */\n    var Easing = {\n        /**\n         *\n         * Produce a linear ease\n         * @method linear\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        linear: function ( t ) { return t; },\n        \n        /**\n         *\n         * Produce a swing ease like in jQuery\n         * @method swing\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        swing: function ( t ) { return (1-Math.cos( t*Math.PI ))/2; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInQuad\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInQuad: function ( t ) { return t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutQuad\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutQuad: function ( t ) { return t*(2-t); },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutQuad\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutQuad: function ( t ) { return t<0.5 ? 2*t*t : -1+(4-2*t)*t; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInCubic\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInCubic: function ( t ) { return t*t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutCubic\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutCubic: function ( t ) { return (--t)*t*t+1; },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutCubic\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutCubic: function ( t ) { return t<0.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInQuart\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInQuart: function ( t ) { return t*t*t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutQuart\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutQuart: function ( t ) { return 1-(--t)*t*t*t; },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutQuart\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutQuart: function ( t ) { return t<0.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t; },\n        \n        /**\n         *\n         * Accelerating from zero velocity\n         * @method easeInQuint\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInQuint: function ( t ) { return t*t*t*t*t; },\n        \n        /**\n         *\n         * Decelerating to zero velocity\n         * @method easeOutQuint\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeOutQuint: function ( t ) { return 1+(--t)*t*t*t*t; },\n        \n        /**\n         *\n         * Acceleration until halfway, then deceleration\n         * @method easeInOutQuint\n         * @param {number} t Difference in time\n         * @memberof Easing\n         * @returns a new t value\n         *\n         */\n        easeInOutQuint: function ( t ) { return t<0.5 ? 16*t*t*t*t*t : 1+16*(--t)*t*t*t*t; }\n    };\n    \n    \n    return Easing;\n\n\n});","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","import $ from \"properjs-hobo\";\nimport * as util from \"./util\";\n\n\nconst $_jsOverlay = $( \".js-overlay\" );\nconst $_jsProject = $( \".js-project-view\" );\nconst $_jsGallery = $( \".js-gallery\" );\n\n\n/**\n *\n * @public\n * @module dom\n * @description Holds high-level cached Nodes.\n *\n */\nconst dom = {\n    /**\n     *\n     * @public\n     * @member doc\n     * @memberof dom\n     * @description The cached document node.\n     *\n     */\n    doc: $( document ),\n\n\n    /**\n     *\n     * @public\n     * @member html\n     * @memberof dom\n     * @description The cached documentElement node.\n     *\n     */\n    html: $( document.documentElement ),\n\n\n    /**\n     *\n     * @public\n     * @member body\n     * @memberof dom\n     * @description The cached body node.\n     *\n     */\n    body: $( document.body ),\n\n\n    /**\n     *\n     * @public\n     * @member header\n     * @memberof dom\n     * @description The cached header node.\n     *\n     */\n    header: $( \".js-header\" ),\n\n\n    /**\n     *\n     * @public\n     * @member nav\n     * @memberof dom\n     * @description The cached nav node.\n     *\n     */\n    nav: $( \".js-nav\" ),\n\n\n    /**\n     *\n     * @public\n     * @member intro\n     * @memberof dom\n     * @description The cached intro node?\n     *\n     */\n    intro: $( \".js-intro\" ),\n\n\n    /**\n     *\n     * @public\n     * @member overlay\n     * @memberof dom\n     * @description The cached overlay node.\n     *\n     */\n    overlay: {\n        element: $_jsOverlay,\n        elementTitle: $_jsOverlay.find( \".js-overlay-title\" ),\n        elementTransitionDuration: util.getTransitionDuration( $_jsOverlay[ 0 ] )\n    },\n\n\n    /**\n     *\n     * @public\n     * @member gallery\n     * @memberof dom\n     * @description The cached gallery node.\n     *\n     */\n    gallery: {\n        element: $_jsGallery,\n        elementNode: $_jsGallery.find( \".js-gallery-node\" )\n    },\n\n\n    /**\n     *\n     * @public\n     * @member page\n     * @memberof dom\n     * @description The cached page container node.\n     *\n     */\n    page: $( \".js-page\" ),\n\n\n    /**\n     *\n     * @public\n     * @member project\n     * @memberof dom\n     * @description The project view node.\n     *\n     */\n    project: {\n        element: $_jsProject,\n        elementPane: $_jsProject.find( \".js-project-view-pane\" ),\n        elementTransitionDuration: util.getTransitionDuration( $_jsProject[ 0 ] )\n    },\n\n\n    /**\n     *\n     * @public\n     * @member root\n     * @memberof dom\n     * @description The cached root node.\n     *\n     */\n    root: $( \".js-root\" ),\n\n\n    /**\n     *\n     * @public\n     * @member main\n     * @memberof dom\n     * @description The cached main node.\n     *\n     */\n    main: $( \".js-main\" )\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default dom;","/*!\n *\n * A simple tween class using requestAnimationFrame\n *\n * @Tween\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Tween = factory();\n    }\n    \n})(function () {\n\n    var Easing = require( \"properjs-easing\" ),\n        defaults = {\n            ease: Easing.linear,\n            duration: 600,\n            from: 0,\n            to: 0,\n            delay: 0,\n            update: function () {},\n            complete: function () {}\n        };\n    \n    \n    /**\n     *\n     * Tween function\n     * @constructor Tween\n     * @requires raf\n     * @requires Easing\n     * @param {object} options Tween animation settings\n     * <ul>\n     * <li>duration - How long the tween will last</li>\n     * <li>from - Where to start the tween</li>\n     * <li>to - When to end the tween</li>\n     * <li>update - The callback on each iteration</li>\n     * <li>complete - The callback on end of animation</li>\n     * <li>ease - The easing function to use</li>\n     * <li>delay - How long to wait before animation</li>\n     * </ul>\n     * @memberof! <global>\n     *\n     */\n    var Tween = function ( options ) {\n        // Normalize options\n        options = (options || {});\n    \n        // Normalize options\n        for ( var i in defaults ) {\n            if ( options[ i ] === undefined ) {\n                options[ i ] = defaults[ i ];\n            }\n        }\n    \n        var tweenDiff = (options.to - options.from),\n            startTime = null,\n            rafTimer = null,\n            isStopped = false;\n    \n        function animate( rafTimeStamp ) {\n            if ( isStopped ) {\n                return;\n            }\n    \n            if ( startTime === null ) {\n                startTime = rafTimeStamp;\n            }\n    \n            var animDiff = (rafTimeStamp - startTime),\n                tweenTo = (tweenDiff * options.ease( animDiff / options.duration )) + options.from;\n    \n            if ( typeof options.update === \"function\" ) {\n                options.update( tweenTo );\n            }\n    \n            if ( animDiff > options.duration ) {\n                if ( typeof options.complete === \"function\" ) {\n                    options.complete( options.to );\n                }\n    \n                cancelAnimationFrame( rafTimer );\n    \n                rafTimer = null;\n    \n                return false;\n            }\n    \n            rafTimer = requestAnimationFrame( animate );\n        }\n    \n        setTimeout(function () {\n            rafTimer = requestAnimationFrame( animate );\n    \n        }, options.delay );\n    \n        this.stop = function () {\n            isStopped = true;\n    \n            cancelAnimationFrame( rafTimer );\n    \n            rafTimer = null;\n        };\n    };\n    \n    \n    return Tween;\n\n\n});","'use strict';\n\nif (!process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/**\n *\n * @public\n * @module config\n * @description Stores app-wide config values.\n *\n */\nconst config = {\n    /**\n     *\n     * @public\n     * @member rootUrlId\n     * @memberof config\n     * @description The urlId for \"/\".\n     *\n     */\n    rootUrlId: \"garberco\",\n\n\n    /**\n     *\n     * @public\n     * @member homepageKey\n     * @memberof config\n     * @description The cache key to use for homepage.\n     *\n     */\n    homepageKey: \"homepage\",\n\n\n    /**\n     *\n     * @public\n     * @member lazyImageSelector\n     * @memberof config\n     * @description The string selector used for images deemed lazy-loadable.\n     *\n     */\n    lazyImageSelector: \".js-lazy-image\",\n\n\n    /**\n     *\n     * @public\n     * @member lazyImageAttr\n     * @memberof config\n     * @description The string attribute for lazy image source URLs.\n     *\n     */\n    lazyImageAttr: \"data-img-src\",\n\n\n    /**\n     *\n     * @public\n     * @member imageLoaderAttr\n     * @memberof config\n     * @description The string attribute ImageLoader gives loaded images.\n     *\n     */\n    imageLoaderAttr: \"data-imageloader\",\n\n\n    /**\n     *\n     * @public\n     * @member offcanvasClasses\n     * @memberof config\n     * @description The string of offcanvas element classNames.\n     *\n     */\n    offcanvasClasses: \"is-offcanvas is-offcanvas--about is-offcanvas--index is-offcanvas--project\"\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default config;","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","import Controller from \"properjs-controller\";\n\n\n/**\n *\n * @description Single app instanceof [Controller]{@link https://github.com/ProperJS/Controller} for arbitrary event emitting\n * @member emitter\n * @memberof core\n *\n */\nconst emitter = new Controller();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default emitter;","import Easing from \"properjs-easing\";\nimport Tween from \"properjs-tween\";\nimport PageController from \"properjs-pagecontroller\";\nimport $ from \"properjs-hobo\";\nimport * as core from \"./core\";\nimport about from \"./about\";\nimport indexes from \"./indexes\";\nimport listing from \"./indexes/listing\";\nimport projects from \"./projects\";\nimport overlay from \"./overlay\";\nimport gallery from \"./gallery\";\nimport Project from \"./projects/Project\";\n\n\n/**\n *\n * @public\n * @namespace router\n * @description Handles async web app routing for nice transitions.\n *\n */\nconst router = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof router\n     * @description Initialize the router module.\n     *\n     */\n    init () {\n        this.state = {};\n        this.navData = core.dom.nav.data();\n        this.pageData = core.dom.page.data();\n        this.pageDuration = core.util.getTransitionDuration( core.dom.page[ 0 ] );\n        this.tweenScroll = null;\n        this.$rootPanel = core.dom.main.find( \".js-main--garberco\" );\n        this.prepPage();\n        this.bindEmptyHashLinks();\n        this.initPageController();\n\n        core.log( \"router initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method route\n     * @param {string} path The uri to route to\n     * @memberof router\n     * @description Trigger app to route a specific page. [Reference]{@link https://github.com/ProperJS/Router/blob/master/Router.js#L222}\n     *\n     */\n    route ( path ) {\n        this.controller.getRouter().trigger( path );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method push\n     * @param {string} path The uri to route to\n     * @param {function} cb Optional callback to fire\n     * @memberof router\n     * @description Trigger a silent route with a supplied callback.\n     *\n     */\n    push ( path, cb ) {\n        this.controller.routeSilently( path, (cb || core.util.noop) );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method redirect\n     * @memberof router\n     * @description Handle 404 / Invalid page hit.\n     *\n     */\n    redirect () {\n        window.location.href = window.location.origin;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method initPageController\n     * @memberof router\n     * @description Create the PageController instance.\n     *\n     */\n    initPageController () {\n        this.controller = new PageController( {} );\n\n        this.controller.setConfig([\n            \"*\"\n        ]);\n\n        this.controller.setModules([\n            about,\n            indexes,\n            listing,\n            projects\n        ]);\n\n        this.controller.on( \"page-controller-router-transition-out\", this.changePageOut.bind( this ) );\n        this.controller.on( \"page-controller-router-refresh-document\", this.changeContent.bind( this ) );\n        this.controller.on( \"page-controller-router-transition-in\", this.changePageIn.bind( this ) );\n        this.controller.on( \"page-controller-initialized-page\", this.initPage.bind( this ) );\n        this.controller.on( \"page-controller-router-samepage\", this.samePage.bind( this ) );\n\n        this.controller.initPage();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method prepPage\n     * @memberof router\n     * @description Perform actions before PageController init callback.\n     *\n     */\n    prepPage () {\n        this.root = null;\n\n        const path = window.location.pathname.split( \"/\" );\n        const segmentOne = path [ 1 ];\n\n        // Index?\n        // Shop?\n        // Indexes will already have the root gridwall loaded\n        // Offcanvas/Project paths will need to manually load the root index\n        if ( this.pageData.type !== \"index\" ) {\n\n            //Shop?\n\n            if ( segmentOne === \"shop\" ) {\n\n                this.root = \"/shop\";\n                this.loadRootIndex();\n\n            } else {\n\n                if ( this.pageData.type === \"offcanvas\" ) {\n                    this.root = \"/\";\n\n                } else {\n                    this.navData.appTree.forEach(( indexItem ) => {\n                        if ( indexItem.items ) {\n                            indexItem.items.forEach(( collectionItem ) => {\n                                if ( collectionItem.collection.id === this.pageData.id ) {\n                                    this.root = indexItem.collection.fullUrl;\n                                }\n                            });\n                        }\n                    });\n                    core.dom.html.removeClass( \"hide-index\" );\n                }\n\n                this.root = (this.root || \"/\");\n                this.loadRootIndex();\n\n            }\n\n        } else {\n            // Hide index button on Shop and Design\n            if ( segmentOne === \"shop\" || segmentOne === \"art-direction\") {\n                core.dom.html.addClass( \"hide-index\" );\n            }\n\n            this.root = window.location.pathname;\n        }\n\n        core.dom.root.attr( \"href\", this.root );\n\n        core.dom.root.on( \"click\", () => {\n            core.dom.html.removeClass( core.config.offcanvasClasses );\n\n            core.emitter.fire( \"app--root\" );\n        });\n\n        core.emitter.on( \"app--project-ended\", () => {\n            if ( !this.isPop ) {\n                this.route( this.root );\n            }\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method initPage\n     * @param {object} data The PageController data object\n     * @memberof router\n     * @description Perform actions after PageController init callback.\n     *\n     */\n    initPage ( /* data */ ) {\n        core.dom.nav.detach();\n        // core.dom.page.detach();\n\n        if ( !core.env.isConfig() ) {\n            core.dom.page.detach();\n        }\n\n        core.dom.html.removeClass( \"is-clipped\" );\n        core.dom.body.removeClass( \"is-clipped\" );\n\n        window.addEventListener( \"popstate\", this.handlePopstate.bind( this ), false );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method samePage\n     * @memberof router\n     * @description Handle logo click on root index, or homepage.\n     *\n     */\n    samePage () {\n        if ( window.location.pathname === this.root && !this.tweenScroll && this.$rootPanel[ 0 ].scrollTop > 0 ) {\n            this.tweenScroll = new Tween({\n                to: 0,\n                from: this.$rootPanel[ 0 ].scrollTop,\n                ease: Easing.easeInOutCubic,\n                update: ( top ) => {\n                    this.$rootPanel[ 0 ].scrollTop = top;\n                },\n                complete: () => {\n                    this.tweenScroll = null;\n                },\n                duration: 400\n            });\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method handlePopstate\n     * @memberof router\n     * @description Process actions to take on popstate.\n     *\n     */\n    handlePopstate () {\n        this.isPop = true;\n\n        let $tile = null;\n        let match = window.location.pathname.match( /^\\/$|^\\/about\\/$|^\\/index\\/$/g );\n\n        // GarberCo?\n        // About?\n        // Index?\n        if ( match && match[ 0 ] ) {\n            match = match[ 0 ].replace( /\\//g, \"\" );\n            match = match ? match : \"garberco\";\n\n            core.dom.main[ 0 ].id = `is-main--${match}`;\n\n            // GarberCo?\n            if ( match === core.config.rootUrlId ) {\n                core.dom.html.removeClass( core.config.offcanvasClasses );\n                //core.dom.html.removeClass( \"is-neverflow\" );\n            }\n\n            // Project?\n            if ( Project.isActive() ) {\n                core.emitter.fire( \"app--project-ended\" );\n            }\n\n            // Overlay?\n            overlay.close();\n\n        // Project?\n        } else {\n            $tile = $( `.js-index-tile[href*='${window.location.pathname}']` );\n            $tile.trigger( \"mouseenter\" );\n            $tile.trigger( \"click\" );\n        }\n\n        // Gallery?\n        gallery.close();\n\n        this.isPop = false;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method loadRootIndex\n     * @memberof router\n     * @description Load the parent Index for the current collection.\n     *\n     */\n    loadRootIndex () {\n        core.api.collection(\n            this.root,\n            { format: \"html\" },\n            { dataType: \"html\" }\n\n        ).then(( response ) => {\n            const doc = this.parseDoc( response );\n\n            core.emitter.fire( \"app--load-root\", doc.pageHtml );\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method loadFullIndex\n     * @param {function} cb The callback to fire\n     * @memberof router\n     * @description Load the parent Index JSON to render full Index view.\n     *\n     */\n    loadFullIndex ( cb ) {\n        core.api.collection(\n            this.root,\n            { format: \"json\" },\n            { dataType: \"json\" }\n\n        ).then( cb );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method parseDoc\n     * @param {string} html The responseText to parse out\n     * @memberof router\n     * @description Get the DOM information to cache for a request.\n     * @returns {object}\n     *\n     */\n    parseDoc ( html ) {\n        let doc = document.createElement( \"html\" );\n        let page = null;\n\n        doc.innerHTML = html;\n\n        doc = $( doc );\n        page = doc.find( \".js-page\" );\n\n        return {\n            $doc: doc,\n            $page: page,\n            pageData: page.data(),\n            pageHtml: page[ 0 ].innerHTML\n        };\n    },\n\n\n    /**\n     *\n     * @public\n     * @method bindEmptyHashLinks\n     * @memberof router\n     * @description Suppress #hash links.\n     *\n     */\n    bindEmptyHashLinks () {\n        core.dom.body.on( \"click\", \"[href^='#']\", ( e ) => e.preventDefault() );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method changePageOut\n     * @memberof router\n     * @description Trigger transition-out animation.\n     *\n     */\n    changePageOut () {\n        core.dom.html.addClass( \"is-routing\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method changeContent\n     * @param {object} data The PageController data object\n     * @memberof router\n     * @description Swap the new content into the DOM.\n     *\n     */\n    changeContent ( data ) {\n        const doc = this.parseDoc( data.response );\n\n        core.dom.page[ 0 ].innerHTML = doc.pageHtml;\n\n        core.emitter.fire( \"app--analytics-push\", doc );\n\n        this.pageData = doc.$page.data();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method changePageIn\n     * @param {object} data The data object supplied by PageController from PushState\n     * @memberof router\n     * @description Trigger transition-in animation.\n     *\n     */\n    changePageIn ( /* data */ ) {\n        this.execSquarespace();\n        core.dom.html.removeClass( \"is-routing\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method execSquarespace\n     * @memberof router\n     * @description Initialize system-blocks after ProperJS PageController cycles.\n     *\n     */\n    execSquarespace () {\n        window.Squarespace.initializeCommerce( window.Y );\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default router;","import * as core from \"../core\";\nimport overlay from \"../overlay\";\nimport Menu from \"../Menu\";\nimport Controller from \"properjs-controller\";\nimport bar from \"../bar\";\nimport VideoVimeo from \"../video/VideoVimeo\";\n\n\nlet isActive = false;\nconst animator = new Controller();\n\n\n/**\n *\n * @public\n * @class Project\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle an index.\n * @memberof projects\n *\n */\nclass Project {\n    constructor ( $node, data ) {\n        isActive = true;\n\n        this.$node = $node;\n        this.menu = new Menu( !core.env.isConfig() );\n        this.data = data;\n        this.$plates = this.$node.find( \".js-project-plate\" );\n        this.$images = this.$node.find( \".js-lazy-image\" );\n        this.$videos = this.$node.find( \".js-video\" );\n        this.isEnded = false;\n\n        this.bindEvents();\n        this.loadProject();\n        this.loadVideos();\n\n        core.log( \"Project\", this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof projects.Project\n     * @description Bind event handlers for open Project.\n     *\n     */\n    bindEvents () {\n\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadProject\n     * @memberof projects.Project\n     * @description Load images with {@link ImageController}.\n     *\n     */\n    loadProject () {\n        // Node must be in DOM for image size to work\n        core.dom.project.elementPane.append( this.$node );\n\n        core.images.handleImages( this.$images, this.onPreload.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadVideos\n     * @memberof projects.Project\n     * @description Load videos from vimeo.\n     *\n     */\n    loadVideos () {\n        this.$videos.forEach(( elem, i ) => {\n            const $video = this.$videos.eq( i );\n            const data = $video.data();\n\n            $video.data( \"instance\", new VideoVimeo( $video, data ) );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method killVideos\n     * @memberof projects.Project\n     * @description Kill videos from vimeo.\n     *\n     */\n    killVideos () {\n        this.$videos.forEach(( elem, i ) => {\n            const $video = this.$videos.eq( i );\n            const data = $video.data();\n\n            if ( data.instance ) {\n                data.instance.destroy();\n                data.instance = null;\n            }\n        });\n    }\n\n\n\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onPreload\n     * @memberof projects.Project\n     * @description Handle loaded project images.\n     *\n     */\n    onPreload () {\n        bar.stop();\n\n        this.cycleAnimation();\n\n        setTimeout( overlay.close(), (core.dom.project.elementTransitionDuration * 2) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method cycleAnimation\n     * @memberof projects.Project\n     * @description Run raf cycle to handle animations.\n     *\n     */\n    cycleAnimation () {\n        this.onUpdateEmitter();\n\n        animator.stop();\n        animator.go( this.onUpdateEmitter.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updatePlates\n     * @memberof projects.Project\n     * @description Update active plates for the project.\n     *\n     */\n    updatePlates () {\n        let $plate = null;\n        let i = this.$plates.length;\n\n        for ( i; i--; ) {\n            $plate = this.$plates.eq( i );\n\n            if ( core.util.isElementInViewport( $plate[ 0 ] ) ) {\n                $plate.addClass( \"is-active\" );\n\n            } else {\n                $plate.removeClass( \"is-active\" );\n            }\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updatePosition\n     * @memberof projects.Project\n     * @description Determine when to teardown a project.\n     *\n     */\n    updatePosition () {\n        const nodeRect = this.$node[ 0 ].getBoundingClientRect();\n\n        if ( core.dom.project.element[ 0 ].scrollTop !== 0 && Math.floor( nodeRect.bottom ) <= 0 && !this.isEnded ) {\n            this.isEnded = true;\n\n            core.dom.project.element.addClass( \"is-hidden\" );\n\n            core.emitter.fire( \"app--project-ended\" );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onUpdateEmitter\n     * @memberof projects.Project\n     * @description Handle the raf cycle.\n     *\n     */\n    onUpdateEmitter () {\n        this.updatePlates();\n        this.updatePosition();\n\n        core.emitter.fire( \"app--project-scroll\" );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof projects.Project\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {\n\n        this.killVideos();\n\n        Project.close();\n    }\n}\n\n\n\n/**\n *\n * @public\n * @static\n * @method isActive\n * @memberof projects.Project\n * @description Test if a project is active.\n * @returns {boolean}\n *\n */\nProject.isActive = function () {\n    return isActive;\n};\n\n\n/**\n *\n * @public\n * @static\n * @method open\n * @memberof projects.Project\n * @description Open the project view element.\n *\n */\nProject.open = function () {\n    isActive = true;\n\n    bar.load();\n\n    core.dom.html.addClass( \"is-offcanvas is-offcanvas--project\" );\n    core.dom.body.append( core.dom.project.element );\n\n    setTimeout( () => core.dom.project.element.addClass( \"is-active\" ), 10 );\n    setTimeout( () => core.dom.project.element.removeClass( \"is-noscroll\" ), core.dom.project.elementTransitionDuration );\n};\n\n\n/**\n *\n * @public\n * @static\n * @method close\n * @memberof projects.Project\n * @description Close the project view element.\n *\n */\nProject.close = function () {\n    isActive = false;\n\n    animator.stop();\n\n    core.dom.project.element.removeClass( \"is-active\" );\n\n    setTimeout( () => {\n        core.dom.html.removeClass( core.config.offcanvasClasses );\n        core.dom.project.element.detach().addClass( \"is-noscroll\" ).removeClass( \"is-hidden\" );\n        core.dom.project.elementPane[ 0 ].innerHTML = \"\";\n\n    }, core.dom.project.elementTransitionDuration );\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Project;\n","import * as core from \"./core\";\nimport Tween from \"properjs-tween\";\nimport Easing from \"properjs-easing\";\nimport $ from \"properjs-hobo\";\n\n\nlet _instance = null;\nconst $_jsBar = $( \"<div class=\\\"bar\\\"><div class=\\\"bar__inner\\\"></div></div>\" );\nconst $_jsInner = $_jsBar.find( \".bar__inner\" );\n\n\n/**\n *\n * @private\n * @class Bar\n * @classdesc Shimmed load bars set a high initial animation duration\n *            that can be stopped and completed upon request.\n * @memberof loading\n *\n */\nclass Bar {\n    constructor () {\n        this.tween = null;\n        this.timeout = 5000;\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method append\n     * @memberof loading.Bar\n     * @description Append the element to the DOM.\n     *\n     */\n    append () {\n        core.dom.body.append( $_jsBar );\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method load\n     * @memberof loading.Bar\n     * @description Initialize the load bar ui for progress shim.\n     *\n     */\n    load () {\n        this.append();\n\n        this.tween = new Tween({\n            from: 0,\n            to: window.innerWidth,\n            update: this.update.bind( this ),\n            complete: this.update.bind( this ),\n            ease: Easing.easeInOutCubic,\n            duration: this.timeout\n        });\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method stop\n     * @param {function} callback The function to call when Tween is complete\n     * @memberof loading.Bar\n     * @description Terminate the load bar animation.\n     *\n     */\n    stop ( callback ) {\n        this.tween.stop();\n        this.tween = new Tween({\n            from: this.getFrom(),\n            to: window.innerWidth,\n            update: this.update.bind( this ),\n            complete: this.complete.bind( this, callback ),\n            ease: Easing.easeInOutCubic,\n            duration: 50\n        });\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method update\n     * @param {number} value The new value to tween to\n     * @memberof loading.Bar\n     * @description Animate/Tween the load bar ui.\n     *\n     */\n    update ( value ) {\n        $_jsInner[ 0 ].style.width = core.util.px( value );\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method complete\n     * @param {function} callback The function to call when transition is complete\n     * @memberof loading.Bar\n     * @description Complete the load bar ui sequence and detach the node.\n     *\n     */\n    complete ( callback ) {\n        $_jsBar.addClass( \"is-done\" );\n\n        setTimeout( () => {\n            $_jsBar\n                .detach()\n                .removeClass( \"is-done\" );\n            $_jsInner.attr( \"style\", \"\" );\n\n            callback();\n\n        }, core.util.getTransitionDuration( $_jsBar[ 0 ] ) );\n    }\n\n\n    /**\n     *\n     * @instance\n     * @method getFrom\n     * @memberof loading.Bar\n     * @description Get the current value to tween from.\\\n     * @returns {number}\n     *\n     */\n    getFrom () {\n        return $_jsInner[ 0 ].clientWidth;\n    }\n}\n\n\n/**\n *\n * @public\n * @namespace bar\n * @description Performs a loader bar interaction.\n * @memberof loading\n *\n */\nconst bar = {\n    /**\n     *\n     * @public\n     * @method load\n     * @param {string} position The placement position for the load bar.\n     * @param {string} color The optional color tone for the load bar.\n     * @memberof loading.bar\n     * @description Shims a \"loading\" progress bar based on... nothing!\n     *\n     */\n    load ( position, color ) {\n        _instance = new Bar( position, color );\n        _instance.load();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method stop\n     * @memberof loading.bar\n     * @description Stops load bar animation and removes the bar instance.\n     *\n     */\n    stop () {\n        if ( _instance ) {\n            _instance.stop(() => {\n                _instance = null;\n            });\n        }\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default bar;","/*\n * Copyright Joyent, Inc. and other Node contributors.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to permit\n * persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n * USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n'use strict';\n\nvar punycode = require('punycode/');\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n/*\n * define these here so at least they only have to be\n * compiled once on the first module load.\n */\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n  portPattern = /:[0-9]*$/,\n\n  // Special case for a simple path URL\n  simplePathPattern = /^(\\/\\/?(?!\\/)[^?\\s]*)(\\?[^\\s]*)?$/,\n\n  /*\n   * RFC 2396: characters reserved for delimiting URLs.\n   * We actually just auto-escape these.\n   */\n  delims = [\n    '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'\n  ],\n\n  // RFC 2396: characters not allowed for various reasons.\n  unwise = [\n    '{', '}', '|', '\\\\', '^', '`'\n  ].concat(delims),\n\n  // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n  autoEscape = ['\\''].concat(unwise),\n  /*\n   * Characters that are never ever allowed in a hostname.\n   * Note that any invalid chars are also handled, but these\n   * are the ones that are *expected* to be seen, so we fast-path\n   * them.\n   */\n  nonHostChars = [\n    '%', '/', '?', ';', '#'\n  ].concat(autoEscape),\n  hostEndingChars = [\n    '/', '?', '#'\n  ],\n  hostnameMaxLen = 255,\n  hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n  hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n  // protocols that can allow \"unsafe\" and \"unwise\" chars.\n  unsafeProtocol = {\n    javascript: true,\n    'javascript:': true\n  },\n  // protocols that never have a hostname.\n  hostlessProtocol = {\n    javascript: true,\n    'javascript:': true\n  },\n  // protocols that always contain a // bit.\n  slashedProtocol = {\n    http: true,\n    https: true,\n    ftp: true,\n    gopher: true,\n    file: true,\n    'http:': true,\n    'https:': true,\n    'ftp:': true,\n    'gopher:': true,\n    'file:': true\n  },\n  querystring = require('qs');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && typeof url === 'object' && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function (url, parseQueryString, slashesDenoteHost) {\n  if (typeof url !== 'string') {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  /*\n   * Copy chrome, IE, opera backslash-handling behavior.\n   * Back slashes before the query string get converted to forward slashes\n   * See: https://code.google.com/p/chromium/issues/detail?id=25916\n   */\n  var queryIndex = url.indexOf('?'),\n    splitter = queryIndex !== -1 && queryIndex < url.indexOf('#') ? '?' : '#',\n    uSplit = url.split(splitter),\n    slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  /*\n   * trim before proceeding.\n   * This is to support parse stuff like \"  http://foo.com  \\n\"\n   */\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  /*\n   * figure out if it's got a host\n   * user@server is *always* interpreted as a hostname, and url\n   * resolution will treat //foo/bar as host=foo,path=bar because that's\n   * how the browser resolves relative URLs.\n   */\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@/]+@[^@/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] && (slashes || (proto && !slashedProtocol[proto]))) {\n\n    /*\n     * there's a hostname.\n     * the first instance of /, ?, ;, or # ends the host.\n     *\n     * If there is an @ in the hostname, then non-host chars *are* allowed\n     * to the left of the last @ sign, unless some host-ending character\n     * comes *before* the @-sign.\n     * URLs are obnoxious.\n     *\n     * ex:\n     * http://a@b@c/ => user:a@b host:c\n     * http://a@b?@c => user:a host:c path:/?@c\n     */\n\n    /*\n     * v0.12 TODO(isaacs): This is not quite how Chrome does things.\n     * Review our test case against browsers more comprehensively.\n     */\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }\n    }\n\n    /*\n     * at this point, either we have an explicit point where the\n     * auth portion cannot go past, or the last @ char is the decider.\n     */\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      /*\n       * atSign must be in auth portion.\n       * http://a@b/c@d => host:b auth:a path:/c@d\n       */\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    /*\n     * Now we have a portion which is definitely the auth.\n     * Pull that off.\n     */\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) { hostEnd = rest.length; }\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    /*\n     * we've indicated that there is a hostname,\n     * so even if it's empty, it has to be present.\n     */\n    this.hostname = this.hostname || '';\n\n    /*\n     * if hostname begins with [ and ends with ]\n     * assume that it's an IPv6 address.\n     */\n    var ipv6Hostname = this.hostname[0] === '[' && this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              /*\n               * we replace non-ASCII char with a temporary placeholder\n               * we need this to make sure size of hostname is not\n               * broken by replacing non-ASCII by nothing\n               */\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      /*\n       * IDNA Support: Returns a punycoded representation of \"domain\".\n       * It only converts parts of the domain name that\n       * have non-ASCII characters, i.e. it doesn't matter if\n       * you call it with a domain that already is ASCII-only.\n       */\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    /*\n     * strip [ and ] from the hostname\n     * the host field still retains them, though\n     */\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  /*\n   * now rest is set to the post-host stuff.\n   * chop off any delim chars.\n   */\n  if (!unsafeProtocol[lowerProto]) {\n\n    /*\n     * First, make 100% sure that any \"autoEscape\" chars get\n     * escaped, even if encodeURIComponent doesn't think they\n     * need to be.\n     */\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1) { continue; }\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  // to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  /*\n   * ensure it's an object, and not a string url.\n   * If it's an obj, this is a no-op.\n   * this way, you can call url_format() on strings\n   * to clean up potentially wonky urls.\n   */\n  if (typeof obj === 'string') { obj = urlParse(obj); }\n  if (!(obj instanceof Url)) { return Url.prototype.format.call(obj); }\n  return obj.format();\n}\n\nUrl.prototype.format = function () {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n    pathname = this.pathname || '',\n    hash = this.hash || '',\n    host = false,\n    query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ? this.hostname : '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query && typeof this.query === 'object' && Object.keys(this.query).length) {\n    query = querystring.stringify(this.query, {\n      arrayFormat: 'repeat',\n      addQueryPrefix: false\n    });\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') { protocol += ':'; }\n\n  /*\n   * only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n   * unless they had them to begin with.\n   */\n  if (this.slashes || (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') { pathname = '/' + pathname; }\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') { hash = '#' + hash; }\n  if (search && search.charAt(0) !== '?') { search = '?' + search; }\n\n  pathname = pathname.replace(/[?#]/g, function (match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function (relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) { return relative; }\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function (relative) {\n  if (typeof relative === 'string') {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  /*\n   * hash is always overridden, no matter what.\n   * even href=\"\" will remove it.\n   */\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol') { result[rkey] = relative[rkey]; }\n    }\n\n    // urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] && result.hostname && !result.pathname) {\n      result.pathname = '/';\n      result.path = result.pathname;\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    /*\n     * if it's a known url protocol, then changing\n     * the protocol does weird things\n     * first, if it's not file:, then we MUST have a host,\n     * and if there was a path\n     * to begin with, then we MUST have a path.\n     * if it is file:, then the host is dropped,\n     * because that's known to be hostless.\n     * anything else is assumed to be absolute.\n     */\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift())) { }\n      if (!relative.host) { relative.host = ''; }\n      if (!relative.hostname) { relative.hostname = ''; }\n      if (relPath[0] !== '') { relPath.unshift(''); }\n      if (relPath.length < 2) { relPath.unshift(''); }\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = result.pathname && result.pathname.charAt(0) === '/',\n    isRelAbs = relative.host || relative.pathname && relative.pathname.charAt(0) === '/',\n    mustEndAbs = isRelAbs || isSourceAbs || (result.host && relative.pathname),\n    removeAllDots = mustEndAbs,\n    srcPath = result.pathname && result.pathname.split('/') || [],\n    relPath = relative.pathname && relative.pathname.split('/') || [],\n    psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  /*\n   * if the url is a non-slashed url, then relative\n   * links like ../.. should be able\n   * to crawl up to the hostname, as well.  This is strange.\n   * result.protocol has already been set by now.\n   * Later on, put the first path part into the host field.\n   */\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') { srcPath[0] = result.host; } else { srcPath.unshift(result.host); }\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') { relPath[0] = relative.host; } else { relPath.unshift(relative.host); }\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = relative.host || relative.host === '' ? relative.host : result.host;\n    result.hostname = relative.hostname || relative.hostname === '' ? relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    /*\n     * it's relative\n     * throw away the existing file, and take the new path instead.\n     */\n    if (!srcPath) { srcPath = []; }\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (relative.search != null) {\n    /*\n     * just pull out the search.\n     * like href='?foo'.\n     * Put this after the other two cases because it simplifies the booleans\n     */\n    if (psychotic) {\n      result.host = srcPath.shift();\n      result.hostname = result.host;\n      /*\n       * occationaly the auth can get stuck only in host\n       * this especially happens in cases like\n       * url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n       */\n      var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.hostname = authInHost.shift();\n        result.host = result.hostname;\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    // to support http.request\n    if (result.pathname !== null || result.search !== null) {\n      result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    /*\n     * no path at all.  easy.\n     * we've already handled the other stuff above.\n     */\n    result.pathname = null;\n    // to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  /*\n   * if a url ENDs in . or .., then it must get a trailing slash.\n   * however, if it ends in anything else non-slashy,\n   * then it must NOT get a trailing slash.\n   */\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (result.host || relative.host || srcPath.length > 1) && (last === '.' || last === '..') || last === '';\n\n  /*\n   * strip single dots, resolve double dots to parent dir\n   * if the path tries to go above the root, `up` ends up > 0\n   */\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' && (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' || (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = isAbsolute ? '' : srcPath.length ? srcPath.shift() : '';\n    result.host = result.hostname;\n    /*\n     * occationaly the auth can get stuck only in host\n     * this especially happens in cases like\n     * url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n     */\n    var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.hostname = authInHost.shift();\n      result.host = result.hostname;\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (srcPath.length > 0) {\n    result.pathname = srcPath.join('/');\n  } else {\n    result.pathname = null;\n    result.path = null;\n  }\n\n  // to support request.http\n  if (result.pathname !== null || result.search !== null) {\n    result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function () {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\n/** @type {import('.')} */\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true) || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","import $ from \"properjs-hobo\";\nimport * as core from \"./core\";\nimport Menu from \"./Menu\";\nimport debounce from \"properjs-debounce\";\nimport overlay from \"./overlay\";\nimport bar from \"./bar\";\nimport Hammer from \"hammerjs\";\nimport Easing from \"properjs-easing\";\nimport Tween from \"properjs-tween\";\nimport VideoVimeo from \"./video/VideoVimeo\";\n\n\n\n/**\n *\n * @public\n * @module gallery\n * @description Handles single view images.\n *\n */\nconst gallery = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof gallery\n     * @description Initialize the gallery element.\n     *\n     */\n    init () {\n        this.tween = null;\n        this.menu = new Menu( core.dom.gallery.element, true );\n\n        // Image\n        this.$image = $( new Image() );\n        this.$image[ 0 ].className = \"gallery__image figure__image image\";\n\n        // Video\n        this.videoData = null;\n        this.$videoWrap = $( document.createElement( \"div\" ) );\n        this.$videoWrap[ 0 ].className = \"_video gallery__video\";\n        this.$video = $( document.createElement( \"video\" ) );\n        this.$video[ 0 ].className = \"_video__element\";\n        this.$videoWrap.append( this.$video );\n\n        core.dom.gallery.elementNode.append( this.$image );\n        core.dom.gallery.elementNode.append( this.$videoWrap );\n\n        if ( core.detect.isDevice() ) {\n            this.bindSwipe();\n\n        } else {\n            this.bindClick();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method bindSwipe\n     * @memberof gallery\n     * @description Bind Hammerjs touch events.\n     *\n     */\n    bindSwipe () {\n        this._onTap = this.onTap.bind( this );\n        this._onSwipe = this.onSwipe.bind( this );\n        this._onPanmove = this.onPanmove.bind( this );\n        this._onPanend = this.onPanend.bind( this );\n\n        this.tap = new Hammer( core.dom.gallery.element[ 0 ], core.util.getDefaultHammerOptions() );\n        this.tap.on( \"tap\", this._onTap );\n\n        this.swipe = new Hammer( core.dom.gallery.elementNode[ 0 ], core.util.getDefaultHammerOptions() );\n        this.swipe.on( \"panmove\", this._onPanmove );\n        this.swipe.on( \"panend\", this._onPanend );\n        this.swipe.on( \"swipe\", this._onSwipe );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method bindClick\n     * @memberof gallery\n     * @description Bind Mouse events.\n     *\n     */\n    bindClick () {\n        core.dom.gallery.element.on( \"click\", debounce( this.onClick.bind( this ), 200, true ) );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onTap\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle tap event.\n     *\n     */\n    onTap ( e ) {\n        if ( e.target !== this.$video[ 0 ] ) {\n            core.emitter.fire( \"app--gallery-background\" );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onPanmove\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle panning event.\n     *\n     */\n    onPanmove ( e ) {\n        e.preventDefault();\n\n        if ( !this.tween ) {\n            core.util.translate3d(\n                core.dom.gallery.elementNode[ 0 ],\n                core.util.px( (e.deltaX / 3) ),\n                0,\n                0\n            );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onPanend\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle end of pan event.\n     *\n     */\n    onPanend () {\n        if ( !this.tween ) {\n            const transform = core.util.getTransformValues( core.dom.gallery.elementNode[ 0 ] );\n            const isLeft = (transform.x < 0);\n\n            this.tween = new Tween({\n                to: 0,\n                from: Math.abs( transform.x ),\n                ease: Easing.easeInOutCubic,\n                update: ( x ) => {\n                    core.util.translate3d(\n                        core.dom.gallery.elementNode[ 0 ],\n                        core.util.px( (isLeft ? -x : x) ),\n                        0,\n                        0\n                    );\n                },\n                complete: () => {\n                    this.tween = null;\n                },\n                duration: 200\n            });\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onSwipe\n     * @param {object} e The Event object\n     * @memberof gallery\n     * @description Handle `swipe` event.\n     *\n     */\n    onSwipe ( e ) {\n        e.preventDefault();\n\n        const transform = core.util.getTransformValues( core.dom.gallery.elementNode[ 0 ] );\n        const isLeft = (e.direction === Hammer.DIRECTION_LEFT);\n\n        if ( !this.tween ) {\n            this.tween = new Tween({\n                to: window.innerWidth,\n                from: Math.abs( transform.x ),\n                ease: Easing.easeInOutCubic,\n                update: ( x ) => {\n                    core.util.translate3d(\n                        core.dom.gallery.elementNode[ 0 ],\n                        core.util.px( (isLeft ? -x : x) ),\n                        0,\n                        0\n                    );\n                },\n                complete: () => {\n                    this.empty();\n\n                    core.emitter.fire( \"app--gallery-image\", (isLeft ? Hammer.DIRECTION_RIGHT : Hammer.DIRECTION_LEFT) );\n\n                    setTimeout( () => {\n                        this.tween = null;\n\n                        core.util.translate3d(\n                            core.dom.gallery.elementNode[ 0 ],\n                            0,\n                            0,\n                            0\n                        );\n\n                    }, (overlay.isActive() ? core.dom.overlay.elementTransitionDuration : 10) );\n                },\n                duration: 200\n            });\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof onClick\n     * @param {object} e The Event object\n     * @description Handle gallery click event.\n     *\n     */\n    onClick ( e ) {\n        if ( e.target === core.dom.gallery.elementNode[ 0 ] || overlay.isActive() ) {\n            this.handleClick( e );\n\n        } else {\n            core.emitter.fire( \"app--gallery-background\" );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof handleClick\n     * @param {object} e The Event object\n     * @description Handle gallery click, move forward/backward.\n     *\n     */\n    handleClick ( e ) {\n        const rect = (this.videoData ? this.$video[ 0 ] : this.$image[ 0 ]).getBoundingClientRect();\n        let direction = null;\n\n        if ( e.clientX <= (rect.width / 2 + rect.left) && !overlay.isActive() ) {\n            direction = Hammer.DIRECTION_LEFT;\n\n        } else {\n            direction = Hammer.DIRECTION_RIGHT;\n        }\n\n        core.emitter.fire( \"app--gallery-image\", direction );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method open\n     * @memberof gallery\n     * @description Open the gallery.\n     *\n     */\n    open () {\n        if ( !this.menu.isActive() ) {\n            this.menu.open();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method close\n     * @memberof gallery\n     * @description Close the gallery.\n     *\n     */\n    close () {\n        if ( this.menu.isActive() ) {\n            this.menu.close();\n\n            this.empty();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method empty\n     * @memberof gallery\n     * @description Empty the gallery.\n     *\n     */\n    empty () {\n        this.$image[ 0 ].src = \"\";\n\n        if ( this.videoData ) {\n            this.$video[ 0 ].innerHTML = \"\";\n            this.videoData = null;\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method setImage\n     * @param {Hobo} $image The image to create a full view of.\n     * @memberof gallery\n     * @description Apply an image to the gallery view.\n     *\n     */\n    setImage ( $image ) {\n        this.empty();\n\n        const data = $image.data();\n\n        core.dom.gallery.element.removeClass( \"is-video\" );\n\n        bar.load();\n        this.open();\n        this.$image.removeAttr( core.config.imageLoaderAttr ).attr({\n            \"data-img-src\": data.imgSrc,\n            \"data-variants\": data.variants,\n            \"data-original-size\": data.originalSize\n        });\n\n        core.util.loadImages( this.$image, core.util.noop, true, window.innerWidth ).on( \"done\", () => {\n            bar.stop();\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method setVideo\n     * @param {object} vData The vimeo api data.\n     * @memberof gallery\n     * @description Apply a video to the gallery view.\n     *\n     */\n    setVideo ( vData ) {\n        this.empty();\n        this.videoData = vData;\n\n        const files = VideoVimeo.logVideoFiles( this.videoData );\n        const file = VideoVimeo.getVideoFile( files );\n\n        core.dom.gallery.element.addClass( \"is-video\" );\n\n        this.open();\n        this.$videoWrap[ 0 ].style.paddingBottom = `${((this.videoData.height / this.videoData.width) * 100)}%`;\n\n        // Avoid always playing the first video loaded each time\n        if ( core.detect.isDevice() ) {\n            this.$video[ 0 ].setAttribute( \"poster\", this.videoData.pictures.sizes[ this.videoData.pictures.sizes.length - 1 ].link );\n            this.$video[ 0 ].setAttribute( \"controls\", true );\n        }\n\n        this.$video[ 0 ].src = file;\n        this.$video[ 0 ].load();\n        this.$video[ 0 ].play();\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default gallery;\n","import dom from \"./dom\";\nimport log from \"./log\";\n\n\n/**\n *\n * @public\n * @module detect\n * @description Handles basic detection of touch devices.\n *\n */\nconst detect = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof detect\n     * @description Initializes the detect module.\n     *\n     */\n    init () {\n        this._isTouch = (\"ontouchstart\" in window) || (window.DocumentTouch && document instanceof window.DocumentTouch);\n        this._isMobile = (/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|Opera Mini/gi.test( window.navigator.userAgent ));\n\n        if ( this._isTouch ) {\n            dom.html.addClass( \"is-touchable\" );\n\n        } else {\n            dom.html.addClass( \"is-hoverable\" );\n        }\n\n        log( \"detect initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isMobile\n     * @memberof detect\n     * @description Check for high-end mobile device user agents.\n     * @returns {boolean}\n     *\n     */\n    isMobile () {\n        return this._isMobile;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isTouch\n     * @memberof detect\n     * @description Check whether this is a touch device or not.\n     * [See Modernizr]{@link https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.js}\n     * @returns {boolean}\n     *\n     */\n    isTouch () {\n        return this._isTouch;\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isDevice\n     * @memberof detect\n     * @description Must be `isMobile` and `isTouch`.\n     * @returns {boolean}\n     *\n     */\n    isDevice () {\n        return (this.isTouch() && this.isMobile());\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isStandalone\n     * @memberof detect\n     * @description Must be window.standalone.\n     * @returns {boolean}\n     *\n     */\n    isStandalone () {\n        return (\"standalone\" in window);\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default detect;","const DEV = \"development\";\nconst PROD = \"production\";\n\n\n\n/**\n *\n * @public\n * @module env\n * @description Set the app environment.\n *\n */\nconst env = {\n    /**\n     *\n     * @member DEV\n     * @memberof core.env\n     * @description The development environment CONST.\n     *\n     */\n    DEV,\n\n\n    /**\n     *\n     * @member PROD\n     * @memberof core.env\n     * @description The production environment CONST.\n     *\n     */\n    PROD,\n\n\n    /**\n     *\n     * @member ENV\n     * @memberof core.env\n     * @description The applied environment ref.\n     *\n     */\n    ENV: (/^localhost|squarespace|^[0-9]{0,3}\\.[0-9]{0,3}\\.[0-9]{0,3}\\.[0-9]{0,3}/g.test( document.domain ) ? DEV : PROD),\n\n\n    /**\n     *\n     * @method isConfig\n     * @memberof env\n     * @description Determine whether we are in Squarespace /config land or not.\n     * @returns {boolean}\n     *\n     */\n    isConfig () {\n        return (window.parent.location.pathname.indexOf( \"/config\" ) !== -1);\n    },\n\n\n    /**\n     *\n     * @method get\n     * @memberof core.isDev\n     * @description Returns the dev mode status.\n     * @returns {boolean}\n     *\n     */\n    isDev () {\n        return (this.ENV === DEV);\n    },\n\n\n    /**\n     *\n     * @method get\n     * @memberof core.isProd\n     * @description Returns the dev mode status.\n     * @returns {boolean}\n     *\n     */\n    isProd () {\n        return (this.ENV === PROD);\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default env;\n","/*!\n *\n * Parse query string into object literal representation\n *\n * @compat: jQuery, Ender, Zepto\n * @author: @kitajchuk\n *\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.paramalama = factory();\n    }\n    \n})(function () {\n    \n    var paramalama = function ( str ) {\n        var query = decodeURIComponent( str ).match( /[#|?].*$/g ),\n            ret = {};\n        \n        if ( query ) {\n            query = query[ 0 ].replace( /^\\?|^#|^\\/|\\/$|\\[|\\]/g, \"\" );\n            query = query.split( \"&\" );\n            \n            for ( var i = query.length; i--; ) {\n                var pair = query[ i ].split( \"=\" ),\n                    key = pair[ 0 ],\n                    val = pair[ 1 ];\n                \n                if ( ret[ key ] ) {\n                    // #2 https://github.com/kitajchuk/paramalama/issues/2\n                    // This supposedly will work as of ECMA-262\n                    // This works since we are not passing objects across frame boundaries\n                    // and we are not considering Array-like objects. This WILL be an Array.\n                    if ( {}.toString.call( ret[ key ] ) !== \"[object Array]\" ) {\n                        ret[ key ] = [ ret[ key ] ];\n                    }\n                    \n                    ret[ key ].push( val );\n                    \n                } else {\n                    ret[ key ] = val;\n                }\n            }\n        }\n        \n        return ret;\n    };\n    \n    if ( typeof $ !== \"undefined\" ) {\n        $.paramalama = paramalama;\n    }\n\n    return paramalama;\n    \n});\n","import log from \"./log\";\n\n\n// Singleton\nlet _instance = null;\nlet _initialized = false;\n\n// Session Storage\nlet _cache = {};\nconst _access = \"app-cache\";\nconst _session = window.sessionStorage;\n\n\n/**\n *\n * @public\n * @class Store\n * @param {object} options The Store settings\n * @classdesc Handles how data / content is cached and stored for webapp.\n *\n */\nclass Store {\n    constructor ( options ) {\n        if ( !_instance ) {\n            _instance = this;\n\n            this._opts = options;\n            this._init();\n        }\n\n        return _instance;\n    }\n\n\n    /**\n     *\n     * @private\n     * @instance\n     * @method _init\n     * @memberof Store\n     * @description One time Store initialization\n     *\n     */\n    _init () {\n        if ( _initialized ) {\n            return;\n        }\n\n        _initialized = true;\n\n        this.flush();\n\n        log( \"Singleton Store initialized\", this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method flush\n     * @memberof Store\n     * @description Manually flush the Local Storage cache\n     *\n     */\n    flush () {\n        // New empty cache\n        _cache = {};\n\n        // Store the new cache object\n        this.save();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method save\n     * @memberof Store\n     * @description Perform the actual synchronous write to Local Storage\n     *\n     */\n    save () {\n        if ( !this._opts.enableStorage || !Store.isStorageSupported ) {\n            log( \"Cache Storage disabled - Not writing to SessionStorage\" );\n            return;\n        }\n\n        _session.setItem( _access, JSON.stringify( _cache ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method slug\n     * @param {string} uri The string to slugify\n     * @memberof Store\n     * @description Slug a uri string\n     * @returns {string}\n     *\n     */\n    slug ( uri ) {\n        uri = uri.replace( /^\\/|\\/$/g, \"\" ).replace( /\\/|\\?|&|=|\\s/g, \"-\" ).toLowerCase();\n\n        return uri;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method set\n     * @param {string} id The index key\n     * @param {mixed} val The value to store\n     * @memberof Store\n     * @description Set a key's value in the cache\n     *\n     */\n    set ( id, val ) {\n        id = this.slug( id );\n\n        _cache[ id ] = val;\n\n        this.save();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method get\n     * @param {string} id The index key\n     * @memberof Store\n     * @description Get a key's value from the cache\n     * @returns {mixed}\n     *\n     */\n    get ( id ) {\n        id = (id && this.slug( id ));\n\n        return (id ? this.getValue( _cache[ id ] ) : _cache);\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method getValue\n     * @param {mixed} val The accessed value\n     * @memberof Store\n     * @description Get a value so cache is non-mutable from outside\n     * @returns {mixed}\n     *\n     */\n    getValue ( val ) {\n        const ret = val;\n\n        return ret;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method remove\n     * @param {string} id The index key\n     * @memberof Store\n     * @description Remove a key/val pair from the cache\n     *\n     */\n    remove ( id ) {\n        delete _cache[ id ];\n    }\n}\n\n\n\n/**\n *\n * @public\n * @static\n * @member crumb\n * @memberof Store\n * @description Crumb CSRF token value for website\n *\n */\nStore.crumb = (function () {\n    const ret = RegExp( `(^|; )${encodeURIComponent( \"crumb\" )}=([^;]*)` ).exec( document.cookie );\n\n    return ret ? ret[ 2 ] : null;\n\n})();\n\n\n\n/**\n *\n * @public\n * @static\n * @member isStorageSupported\n * @memberof Store\n * @description Boolean to test local/session storage support\n *\n */\nStore.isStorageSupported = (function () {\n    let ret = true;\n\n    try {\n        _session.setItem( \"app-test\", 1 );\n        _session.removeItem( \"app-test\" );\n\n    } catch ( err ) {\n        ret = false;\n    }\n\n    return ret;\n})();\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Store;\n","import ResizeController from \"properjs-resizecontroller\";\n\n\n/**\n *\n * @description Single app instanceof [ResizeController]{@link https://github.com/ProperJS/ResizeController} for raf resize handling\n * @member resizer\n * @memberof core\n *\n */\nconst resizer = new ResizeController();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default resizer;","/*!\n *\n * Debounce methods\n * Sourced from here:\n * http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n *\n * @debounce\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.debounce = factory();\n    }\n    \n})(function () {\n\n\n    /**\n     *\n     * Limit method calls\n     * @memberof! <global>\n     * @method debounce\n     * @param {function} callback The method handler\n     * @param {number} threshold The timeout delay in ms\n     * @param {boolean} execAsap Call function at beginning or end of detection period\n     *\n     */\n    var debounce = function ( callback, threshold, execAsap ) {\n        var timeout = null;\n        \n        return function debounced() {\n            var args = arguments,\n                context = this;\n            \n            function delayed() {\n                if ( !execAsap ) {\n                    callback.apply( context, args );\n                }\n                \n                timeout = null;\n            }\n            \n            if ( timeout ) {\n                clearTimeout( timeout );\n                \n            } else if ( execAsap ) {\n                callback.apply( context, args );\n            }\n            \n            timeout = setTimeout( delayed, (threshold || 100) );\n        };\n    };\n    \n    \n    return debounce;\n\n\n});","import * as core from \"./core\";\n\n\n/**\n *\n * @public\n * @class Menu\n * @classdesc Handle normalized open/close for overlay menus.\n * @param {Hobo} $node The menu element\n *\n */\nclass Menu {\n    constructor ( $node, detached ) {\n        this.$node = $node;\n        this.tDuration = core.util.getTransitionDuration( this.$node[ 0 ] );\n        this.isOpen = false;\n        this.isDetach = detached;\n        //this.scrollPos = core.scroller.getScrollY();\n\n        if ( this.isDetach ) {\n            this.$node.detach();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method open\n     * @memberof menus.Menu\n     * @description Open the menu.\n     *\n     */\n    open () {\n        this.isOpen = true;\n\n        core.dom.html.addClass( \"is-menu-open\" );\n\n        if ( this.isDetach ) {\n            core.dom.body.append( this.$node );\n        }\n\n        // 0.4 => Broadcast the open menu\n        core.emitter.fire( \"app--menu-opened\" );\n\n        setTimeout( () => this.$node.addClass( \"is-active\" ), 10 );\n        setTimeout( () => {\n            this.$node.addClass( \"is-active-events\" );\n            core.dom.html.addClass( \"is-clipped\" );\n            core.dom.body.addClass( \"is-clipped\" );\n\n        }, (this.tDuration * 2) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method close\n     * @memberof menus.Menu\n     * @description Close the menu.\n     *\n     */\n    close () {\n        this.$node.removeClass( \"is-active is-active-events\" );\n        core.dom.html.removeClass( \"is-clipped\" );\n        core.dom.body.removeClass( \"is-clipped\" );\n\n        // 0.3 => Broadcast the closed menu\n        core.emitter.fire( \"app--menu-closed\" );\n\n        setTimeout( () => {\n            this.isOpen = false;\n            core.dom.html.removeClass( \"is-menu-open\" );\n\n            if ( this.isDetach ) {\n                this.$node.detach();\n            }\n\n        }, (this.tDuration * 2) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method toggle\n     * @memberof menus.Menu\n     * @description Open or Close the menu.\n     *\n     */\n    toggle () {\n        if ( this.isOpen ) {\n            this.close();\n\n        } else {\n            this.open();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method isActive\n     * @memberof menus.Menu\n     * @description Check the state of the menu.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return this.isOpen;\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Menu;\n","import * as core from \"../core\";\nimport mediabox from \"./mediabox\";\nimport AutoplayHandler from \"./AutoplayHandler\";\n\nconst Vimeo = require(\"vimeo\").Vimeo;\nconst client = new Vimeo(\n    \"9d4f4417c518c95db3f8c0461eb7da3e59e7b289\",\n    \"23AxUag/dzswqGCSY6rJdoWMsw2MnYadh4fecPP9JJiXEOS/cVaAkRrsh755tu4gEZPon9tS+j0eyN8x+2Orke5W0aGarrnfjONsurvJt8Wdv9mMQNPfz9AwpKGi+Onn\",\n    \"15807db98b40203e65427ac71121c89a\"\n);\n\n/**\n *\n * @public\n * @class VideoVimeo\n * @memberof video\n * @classdesc Video default for third-party service embeds.\n * @param {Hobo} $node The element to inject the video module into\n * @param {object} data The video data to work with\n *\n */\nclass VideoVimeo {\n    constructor ($node, data) {\n        this.$node = $node;\n        this.$video = this.$node.find(\".js-video-element\");\n        this.$poster = this.$node.find(\".js-video-poster\");\n        this.$playback = this.$node.find(\".js-video-playback\");\n        this.data = data;\n        this._files = {};\n        this._video = null;\n\n        this.loadVimeoData();\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method loadVimeoData\n   * @memberof VideoVimeo\n   * @description Attempt to utilize the Vimeo JS API for source files.\n   *\n   */\n    loadVimeoData () {\n        const vimeoId = this.data.vimeoUrl.split(\"/\").pop();\n\n        const _this = this;\n\n        client.request(\n            {\n                method: \"GET\",\n                path: `/videos/${vimeoId}`,\n            },\n            (error, body, status_code, headers) => {\n                _this.handleVimeoData(body);\n            }\n        );\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method handleVimeoData\n   * @param {object} vData The response data from Vimeo's API\n   * @memberof VideoVimeo\n   * @description Process Vimeo API data and find an HD version to use.\n   *\n   */\n    handleVimeoData (vData) {\n        this.vData = vData;\n\n        // Organize video files\n        this._files = VideoVimeo.logVideoFiles(vData);\n\n        // Assign source file to data\n        this.data.sourceUrl = VideoVimeo.getVideoFile(this._files);\n\n        // Assign poster thumbnail\n        this.data.posterUrl =\n      this.vData.pictures.sizes[ this.vData.pictures.sizes.length - 1 ].link;\n\n        if (core.detect.isDevice()) {\n            this.initMobile();\n        } else {\n            this.initVideo();\n        }\n\n        this.applyAspect();\n        this.createMediaNode(this.data.id, this.data.sourceUrl, this.$video[ 0 ]);\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method initMobile\n   * @memberof VideoVimeo\n   * @description Initialize videos for modile devices.\n   *\n   */\n    initMobile () {\n        this.$video[ 0 ].setAttribute(\"controls\", true);\n        this.$video[ 0 ].setAttribute(\"loop\", false);\n        this.$video[ 0 ].setAttribute(\"poster\", this.data.posterUrl);\n        this.$poster.remove();\n        this.$playback.remove();\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method initVideo\n   * @memberof VideoVimeo\n   * @description Initialize videos for browsers.\n   *\n   */\n    initVideo () {\n        this.$video.on(\"loadedmetadata\", () => {\n            if (this.data.autoplayLoop) {\n                this.bindAutoplayLoop();\n            } else if (this.data.clickToPlay) {\n                this.$video[ 0 ].removeAttribute(\"controls\");\n                this.bindAutoplayLoop(true);\n                this.bindClickToPlay();\n            }\n        });\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method loadThumbFile\n   * @memberof VideoVimeo\n   * @description Load poster image from vimeo.\n   *\n   */\n    loadThumbFile () {\n        this.$poster.attr(\"data-img-src\", this.data.posterUrl);\n\n        core.util.loadImages(this.$poster);\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method bindAutoplayLoop\n   * @param {boolean} muted Whether or not the video should be muted\n   * @memberof VideoVimeo\n   * @description Handle autoplay loop video option.\n   *\n   */\n    bindAutoplayLoop (muted = false) {\n        this._autoplayHandler = new AutoplayHandler(\n            this.$node,\n            this.data.id,\n            muted\n        );\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method bindClickToPlay\n   * @memberof VideoVimeo\n   * @description Handle click-to-play video option.\n   *\n   */\n    bindClickToPlay () {\n        this.$video.on(\"click\", () => {\n            // If it ain't active... make it active\n            if (!this.$node[ 0 ].classList.contains(\"is-active\")) {\n                requestAnimationFrame(() => {\n                    if (this._autoplayHandler) {\n                        this._autoplayHandler.destroy();\n                    }\n\n                    // unmute the video\n                    mediabox.setVolume(this.data.id, 1);\n\n                    // play the video, set controls, and reset time\n                    this.$video[ 0 ].setAttribute(\"controls\", true);\n                    this.$video[ 0 ].currentTime = 0;\n                    this.$node.addClass(\"is-active\");\n                    this.$node.addClass(\"is-playing\");\n                });\n            } else if (this.$node[ 0 ].classList.contains(\"is-playing\")) {\n                this.$node.removeClass(\"is-playing\");\n            } else {\n                this.$node.addClass(\"is-playing\");\n            }\n        });\n\n        mediabox.addMediaEvent( this.data.id, \"play\", () => {\n            if (this.$node[ 0 ].classList.contains(\"is-active\")) {\n                this.$node.addClass(\"is-playing\");\n            }\n        });\n\n        mediabox.addMediaEvent( this.data.id, \"pause\", () => {\n            if (this.$node[ 0 ].classList.contains(\"is-active\")) {\n                this.$node.removeClass(\"is-playing\");\n            }\n        });\n\n        mediabox.addMediaEvent( this.data.id, \"ended\", () => {\n            mediabox.stopMedia( this.data.id ).setMediaProp( this.data.id, \"currentTime\", 0 );\n\n            this.$node.removeClass( \"is-active is-playing\" );\n        });\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method createMediaNode\n   * @param {string} id The media id\n   * @param {string} url The media source url\n   * @param {element} node The <video /> element\n   * @memberof VideoVimeo\n   * @description Execute the MediaBox implementation adding this video to the `library`.\n   *\n   */\n    createMediaNode (id, url, node) {\n        mediabox.addVideo({\n            id,\n            src: url.split(\",\"),\n            element: node,\n            channel: \"vid\",\n        });\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method applyAspect\n   * @memberof VideoVimeo\n   * @description Apply the video's aspect ratio.\n   *\n   */\n    applyAspect () {\n        this.$node[ 0 ].style.paddingBottom = `${\n            (this.vData.height / this.vData.width) * 100\n        }%`;\n    }\n\n    /**\n   *\n   * @public\n   * @instance\n   * @method destroy\n   * @memberof VideoVimeo\n   * @description Removes events and media for the video instance.\n   *\n   */\n    destroy () {\n        this.$video.off(\"click loadedmetadata\");\n\n        if (this._autoplayHandler) {\n            this._autoplayHandler.destroy();\n        }\n\n        if (mediabox.getMedia(this.data.id)) {\n            mediabox.destroyMedia(this.data.id);\n        }\n\n        if (this._onScroll) {\n            core.emitter.off(\"app--project-scroll\", this._onScroll);\n        }\n    }\n}\n\n/**\n *\n * @public\n * @static\n * @method logVideoFiles\n * @param {object} vData The api response from Vimeo\n * @memberof VideoVimeo\n * @description Organize the files array into something easier to use.\n * @returns {object}\n *\n */\n\nVideoVimeo.logVideoFiles = function (vData) {\n    console.log(vData);\n    let i = vData.files.length;\n    const files = {};\n\n    for (i; i--; ) {\n        if (\n            !files[ vData.files[ i ].quality ] ||\n      (files[ vData.files[ i ].quality ] &&\n        vData.files[ i ].size > files[ vData.files[ i ].quality ].size)\n        ) {\n            files[ vData.files[ i ].quality ] = vData.files[ i ];\n        }\n    }\n\n    return files;\n};\n\n/**\n *\n * @public\n * @static\n * @method getVideoFile\n * @param {object} files The logged video files\n * @memberof VideoVimeo\n * @description Get the file to play.\n * @returns {string}\n *\n */\nVideoVimeo.getVideoFile = function (files) {\n    return (\n        core.detect.isDevice() ? files.mobile || files.sd : files.hd || files.sd\n    ).link;\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexport default VideoVimeo;\n","import MediaBox from \"properjs-mediabox\";\n\n\n/**\n *\n * @description Single app instanceof [MediaBox]{@link https://github.com/ProperJS/MediaBox} for custom audio/video\n * @member mediabox\n * @memberof video\n *\n */\nconst mediabox = new MediaBox();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default mediabox;\n","/**\n *   Copyright 2013 Vimeo\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\");\n *   you may not use this file except in compliance with the License.\n *   You may obtain a copy of the License at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   Unless required by applicable law or agreed to in writing, software\n *   distributed under the License is distributed on an \"AS IS\" BASIS,\n *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *   See the License for the specific language governing permissions and\n *   limitations under the License.\n */\nvar vimeoModule = require('./lib/vimeo')\nmodule.exports.vimeo_module = vimeoModule\nmodule.exports.Vimeo = vimeoModule.Vimeo\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\nexports.blobConstructor = false\ntry {\n\tnew Blob([new ArrayBuffer(1)])\n\texports.blobConstructor = true\n} catch (e) {}\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// For some strange reason, Safari 7.0 reports typeof global.ArrayBuffer === 'object'.\n// Safari 7.1 appears to have fixed this bug.\nvar haveArrayBuffer = typeof global.ArrayBuffer !== 'undefined'\nvar haveSlice = haveArrayBuffer && isFunction(global.ArrayBuffer.prototype.slice)\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || (haveArrayBuffer && checkTypeSupport('arraybuffer'))\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && haveSlice && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && haveArrayBuffer &&\n\tcheckTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nexports.vbArray = isFunction(global.VBArray)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, fetchTimer) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(new Buffer(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tif (result.done) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(new Buffer(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text:vbarray': // For IE9\n\t\t\tif (xhr.readyState !== rStates.DONE)\n\t\t\t\tbreak\n\t\t\ttry {\n\t\t\t\t// This fails in IE8\n\t\t\t\tresponse = new global.VBArray(xhr.responseBody).toArray()\n\t\t\t} catch (e) {}\n\t\t\tif (response !== null) {\n\t\t\t\tself.push(new Buffer(response))\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// Falls through in IE8\t\n\t\tcase 'text':\n\t\t\ttry { // This will fail when readyState = 3 in IE9. Switch mode and wait for readyState = 4\n\t\t\t\tresponse = xhr.responseText\n\t\t\t} catch (e) {\n\t\t\t\tself._mode = 'text:vbarray'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = new Buffer(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tself.push(null)\n\t}\n}\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, { hasUnpiped: false });\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        pna.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        pna.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        pna.nextTick(emitErrorNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        pna.nextTick(emitErrorNT, _this, err);\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar isReactNative = function isReactNative() {\n  return typeof navigator !== \"undefined\" && typeof navigator.product === \"string\" && navigator.product.toLowerCase() === \"reactnative\";\n};\n\nexports.default = isReactNative;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getStorage = getStorage;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global window, localStorage */\n\nvar hasStorage = false;\ntry {\n  hasStorage = \"localStorage\" in window;\n\n  // Attempt to store and read entries from the local storage to detect Private\n  // Mode on Safari on iOS (see #49)\n  var key = \"tusSupport\";\n  localStorage.setItem(key, localStorage.getItem(key));\n} catch (e) {\n  // If we try to access localStorage inside a sandboxed iframe, a SecurityError\n  // is thrown. When in private mode on iOS Safari, a QuotaExceededError is\n  // thrown (see #49)\n  if (e.code === e.SECURITY_ERR || e.code === e.QUOTA_EXCEEDED_ERR) {\n    hasStorage = false;\n  } else {\n    throw e;\n  }\n}\n\nvar canStoreURLs = exports.canStoreURLs = hasStorage;\n\nvar LocalStorage = function () {\n  function LocalStorage() {\n    _classCallCheck(this, LocalStorage);\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"setItem\",\n    value: function setItem(key, value, cb) {\n      cb(null, localStorage.setItem(key, value));\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(key, cb) {\n      cb(null, localStorage.getItem(key));\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key, cb) {\n      cb(null, localStorage.removeItem(key));\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nfunction getStorage() {\n  return hasStorage ? new LocalStorage() : null;\n}","require( \"../sass/screen.scss\" );\n\n\nimport * as core from \"./core\";\nimport router from \"./router\";\nimport overlay from \"./overlay\";\nimport gallery from \"./gallery\";\nimport intro from \"./intro\";\nimport main from \"./main\";\n\n\n/**\n *\n * @public\n * @class App\n * @classdesc Load the App application Class to handle it ALL.\n *\n */\nclass App {\n    constructor () {\n        this.core = core;\n        this.main = main;\n        this.router = router;\n        this.overlay = overlay;\n        this.gallery = gallery;\n        this.intro = intro;\n        this.analytics = new core.Analytics();\n\n        if ( !this.core.dom.page.length ) {\n            //this.router.redirect();\n\n        } else {\n            this.bindEvents();\n            this.initModules();\n        }\n\n        if ( core.env.isConfig() ) {\n            core.dom.html.addClass( \"is-config\" );\n        }\n\n        core.log( \"App\", this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initModules\n     * @memberof App\n     * @description Initialize modules.\n     *\n     */\n    initModules () {\n        this.core.detect.init( this );\n        this.core.resizes.init( this );\n        //this.core.scrolls.init( this );\n        this.main.init( this );\n        this.router.init( this );\n        this.overlay.init( this );\n        this.gallery.init( this );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof App\n     * @description Bind top-level app events.\n     *\n     */\n    bindEvents () {\n        this._onPreloadDone = this.onPreloadDone.bind( this );\n\n        this.core.emitter.on( \"app--preload-done\", this._onPreloadDone );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onPreloadDone\n     * @memberof App\n     * @description Handle intro teardown.\n     *\n     */\n    onPreloadDone () {\n        this.core.emitter.off( \"app--preload-done\", this._onPreloadDone );\n\n        this.intro.teardown();\n    }\n}\n\n\n\n/******************************************************************************\n * Bootstrap\n*******************************************************************************/\n// window.Squarespace.onInitialize( window.Y, () => {\n//     window.app = new App();\n// });\n\n\n\n/******************************************************************************\n * Expose\n*******************************************************************************/\nwindow.app = new App();\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default window.app;\n","/*!\n *\n *\n * Hobo\n * A very small, modular DOM utility for modern web apps.\n * @hobo-dist npm run build -- is eq not one next prev attr last first index parent filter detach append remove trigger prepend closest children removeAttr toggleClass\n *\n * @links\n * https://developer.mozilla.org/en-US/docs/Web/API/Node\n * https://developer.mozilla.org/en-US/docs/Web/API/Element\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n *\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n * https://github.com/jakearchibald/es6-promise\n * http://www.html5rocks.com/en/tutorials/es6/promises/\n *\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.hobo = factory();\n    }\n\n})(function () {\n\n    var Hobo = require( \"../lib/Hobo\" ),\n        utils = require( \"../lib/utils\" );\n\n\n    // Core Hobo methods:\n    Hobo.prototype.on = require( \"../lib/core/on\" );\n    Hobo.prototype.off = require( \"../lib/core/off\" );\n    Hobo.prototype.data = require( \"../lib/core/data\" );\n    Hobo.prototype.find = require( \"../lib/core/find\" );\n    Hobo.prototype.addClass = require( \"../lib/core/addClass\" );\n    Hobo.prototype.removeClass = require( \"../lib/core/removeClass\" );\n\n\n    // Extended Hobo methods:\n    Hobo.prototype.is = require( \"../lib/extended/is\" );\n    Hobo.prototype.eq = require( \"../lib/extended/eq\" );\n    Hobo.prototype.not = require( \"../lib/extended/not\" );\n    Hobo.prototype.one = require( \"../lib/extended/one\" );\n    Hobo.prototype.next = require( \"../lib/extended/next\" );\n    Hobo.prototype.prev = require( \"../lib/extended/prev\" );\n    Hobo.prototype.attr = require( \"../lib/extended/attr\" );\n    Hobo.prototype.last = require( \"../lib/extended/last\" );\n    Hobo.prototype.first = require( \"../lib/extended/first\" );\n    Hobo.prototype.index = require( \"../lib/extended/index\" );\n    Hobo.prototype.parent = require( \"../lib/extended/parent\" );\n    Hobo.prototype.filter = require( \"../lib/extended/filter\" );\n    Hobo.prototype.detach = require( \"../lib/extended/detach\" );\n    Hobo.prototype.append = require( \"../lib/extended/append\" );\n    Hobo.prototype.remove = require( \"../lib/extended/remove\" );\n    Hobo.prototype.trigger = require( \"../lib/extended/trigger\" );\n    Hobo.prototype.prepend = require( \"../lib/extended/prepend\" );\n    Hobo.prototype.closest = require( \"../lib/extended/closest\" );\n    Hobo.prototype.children = require( \"../lib/extended/children\" );\n    Hobo.prototype.removeAttr = require( \"../lib/extended/removeAttr\" );\n    Hobo.prototype.toggleClass = require( \"../lib/extended/toggleClass\" );\n\n\n    /**\n     *\n     * @global\n     * @public\n     * @method hobo\n     * @description Wrapper for `Hobo` instances.\n     * @param {string} selector The parameter passed to `querySelectorAll`\n     * @param {element} context The Element used to call `querySelectorAll`\n     * @returns {Hobo}\n     *\n     */\n    hobo = function ( selector, context ) {\n        return new Hobo( selector, context );\n    };\n\n\n    // Attach Hobo utilities to `wrapper` method\n    hobo.ajax = require( \"../lib/core/ajax\" );\n\n    // Attach Hobo internal utils to `wrapper` method\n    hobo.utils = utils;\n\n\n    return hobo;\n\n});\n","var matchElement = require( \"properjs-matchelement\" ),\n    utils = require( \"../utils\" );\n\n\n/**\n *\n * @private\n * @method bind\n * @description Bind a standard DOM Event.\n * @param {element} node\n * @param {string} event\n * @param {string} selector\n * @param {function} callback\n * @this {Hobo}\n *\n */\nvar bind = function ( node, event, selector, callback ) {\n    // Unique ID for each node event\n    var eventId = (utils.makeId() + \"EVENT\"),\n\n        // The true event name\n        eventType = event,\n\n        // Normalize event handler with a small wrapper function\n        eventHandler = function ( e ) {\n            // Default context is `this` element\n            var context = (selector ? matchElement( e.target, selector, true ) : this);\n\n            // Handle `mouseenter` and `mouseleave`\n            if ( event === \"mouseenter\" || event === \"mouseleave\" ) {\n                var relatedElement = (event === \"mouseenter\" ? e.fromElement : e.toElement);\n\n                if ( context && ( relatedElement !== context && !context.contains( relatedElement ) ) ) {\n                    callback.call( context, e );\n                }\n\n            // Fire callback if context element\n            } else if ( context ) {\n                callback.call( context, e );\n            }\n        };\n\n    // Support `mouseenter` and `mouseleave`\n    if ( event === \"mouseenter\" ) {\n        eventType = \"mouseover\";\n\n    } else if ( event === \"mouseleave\" ) {\n        eventType = \"mouseout\";\n    }\n\n    // Each handler/callback pair gets stored in an `events` index\n    this._events[ event ][ eventId ] = {\n        id: eventId,\n        type: eventType,\n        node: node,\n        handler: eventHandler,\n        callback: callback\n    };\n\n    node.addEventListener( eventType, eventHandler, false );\n};\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method on\n * @description Bind a standard DOM Event. Honor delegation as a primary.\n * @param {string} events \n * @param {string} selector \n * @param {function} callback\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( events, selector, callback ) {\n    var self = this;\n\n    // Normalize `selector` and `callback`\n    if ( !callback ) {\n        callback = selector;\n        selector = this._selector;\n    }\n\n    // Iterate over event(s)\n    // Space separated event list is supported\n    // Example: \"DOMMouseScroll mousewheel\"\n    events.split( \" \" ).forEach(function ( event ) {\n        // Does this event type have an index yet\n        if ( !self._events[ event ] ) {\n            self._events[ event ] = {};\n        }\n\n        self.forEach(function ( node ) {\n            bind.call( self, node, event, selector, callback );\n        });\n    });\n\n    return this;\n};","/**\n *\n * @private\n * @method unbind\n * @description Unbind a standard DOM Event.\n * @param {element} node\n * @param {string} event\n * @param {function} callback\n * @this {Hobo}\n *\n */\nvar unbind = function ( node, event, callback ) {\n    var type,\n        evo,\n        id;\n\n    // Remove a single handler for an event type\n    if ( callback ) {\n        for ( id in this._events[ event ] ) {\n            if ( this._events[ event ].hasOwnProperty( id ) ) {\n                evo = this._events[ event ][ id ];\n\n                // Match the nodes, Match the callback\n                if ( evo.node === node && evo.callback === callback ) {\n                    node.removeEventListener( evo.type, evo.handler, false );\n\n                    delete this._events[ event ][ id ];\n                }\n            }\n        }\n\n    // Remove all handlers for an event type\n    } else {\n        for ( id in this._events[ event ] ) {\n            if ( this._events[ event ].hasOwnProperty( id ) ) {\n                evo = this._events[ event ][ id ];\n\n                // Match the nodes\n                if ( evo.node === node ) {\n                    node.removeEventListener( evo.type, evo.handler, false );\n\n                    delete this._events[ event ][ id ];\n                }\n            }\n        }\n    }\n};\n\n\n/**\n *\n * @private\n * @method teardown\n * @description Unbind all events for instance.\n * @param {element} node\n * @this {Hobo}\n *\n */\nvar teardown = function ( node ) {\n    var type,\n        evo,\n        id;\n\n    for ( type in this._events ) {\n        if ( this._events.hasOwnProperty( type ) ) {\n            for ( id in this._events[ type ] ) {\n                if ( this._events[ type ].hasOwnProperty( id ) ) {\n                    evo = this._events[ type ][ id ];\n\n                    // Match the nodes\n                    if ( evo.node === node ) {\n                        node.removeEventListener( evo.type, evo.handler, false );\n\n                        delete this._events[ type ][ id ];\n                    }\n                }\n            }\n        }\n    }\n};\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method off\n * @description Un-Bind a standard DOM Event.\n * @param {string} events The event type\n * @param {function} callback The supplied callback\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( events, callback ) {\n    var self = this;\n\n    // Iterate over event(s)\n    // Space separated event list is supported\n    // Example: \"DOMMouseScroll mousewheel\"\n    // off() can be called with no args, account for this and remove ALL events\n    (events ? events.split( \" \" ) : [null]).forEach(function ( event ) {\n        self.forEach(function ( node ) {\n            // Explicit `null` check for teardown\n            if ( event === null ) {\n                teardown.call( self, node );\n\n            } else {\n                unbind.call( self, node, event, callback );\n            }\n        });\n    });\n\n    return this;\n};","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method data\n * @description Get / set data values with nodes.\n * @param {string} key The access key\n * @param {string} value The value to be stored\n * @returns {mixed}\n *\n */\nmodule.exports = function ( key, value ) {\n    // Any `non-unique` data keys resolve to the first unique occurrence\n    // Exactly how jQuery handles `.data( ... )` on multi-node collections\n\n    var ret = this,\n        obj = null;\n\n    // Storing data from an Object\n    if ( typeof key === \"object\" ) {\n        obj = key;\n\n        this.forEach(function ( node ) {\n            utils.storeData( obj, node );\n        });\n\n    // Storing data as a `key:value` pair\n    } else if ( value ) {\n        obj = {};\n        obj[ key ] = value;\n\n        this.forEach(function ( node ) {\n            utils.storeData( obj, node );\n        });\n\n    // Accessing data by `key`\n    } else if ( key ) {\n        this.forEach(function ( node ) {\n            if ( obj !== null ) {\n                return;\n            }\n\n            obj = utils.retrieveData( key, node );\n\n        });\n\n        ret = obj;\n\n    // Accessing all data\n    // Merges all `unique` data for a Hobo set\n    } else {\n        obj = {};\n\n        // Object is mutated here by `mergeData`\n        this.forEach(function ( node ) {\n            utils.mergeData( obj, node );\n        });\n\n        ret = obj;\n    }\n\n    return ret;\n};","var Hobo = require( \"../Hobo\" ),\n    utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method find\n * @description Query into a Hobo instance for new nodes.\n * @param {string} selector The selector to query for\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var ret = this;\n\n    // If we are `finding` within a multi-node collection...\n    // Here its probably faster to grab the nodes within each Node\n    // and then just let the context be the document for the new instance. \n    if ( this.length > 1 ) {\n        ret = [];\n\n        this.forEach(function ( node ) {\n            ret = ret.concat( utils.makeArray( node.querySelectorAll( selector ) ) );\n        });\n\n        ret = new Hobo( ret, null );\n\n    // Single node collection\n    // Empty node collection\n    } else {\n        ret = new Hobo( (this.length ? selector : []), (this.length ? this[ 0 ] : null) );\n    }\n\n    return ret;\n};","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method addClass\n * @description Add one or more classNames to the nodes.\n * @param {string} classes The space-separated classNames\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( classes ) {\n    this.forEach(function ( element ) {\n        var newClass = classes.split( \" \" ),\n            elsClass = utils.getClass( element ).split( \" \" );\n\n        newClass.forEach(function ( klass ) {\n            if ( elsClass.indexOf( klass ) === -1 ) {\n                elsClass.push( klass );\n            }\n        });\n\n        utils.setClass( element, utils.trimString( elsClass.join( \" \" ) ) );\n    });\n\n    return this;\n};\n","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method removeClass\n * @description Remove one or more classNames from the nodes.\n * @param {string} classes The space-separated classNames\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( classes ) {\n    this.forEach(function ( element ) {\n        // Explicit check for `undefined`\n        // Using `!classes` would be bad in this case\n        // Calling `removeClass( \"\" )` should not wipe the entire className\n        if ( classes === undefined ) {\n            utils.setClass( element, \"\" );\n\n        } else {\n            var oldClass = classes.split( \" \" ),\n                elsClass = utils.getClass( element ).split( \" \" );\n\n            oldClass.forEach(function ( klass ) {\n                if ( elsClass.indexOf( klass ) !== -1 ) {\n                    elsClass.splice( elsClass.indexOf( klass ), 1 );\n                }\n            });\n\n            utils.setClass( element, utils.trimString( elsClass.join( \" \" ) ) );\n        }\n    });\n\n    return this;\n};\n","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method is\n * @param {string} selector The selector to match elements against\n * @description Determine if a node set is this selector.\n * @returns {boolean}\n *\n */\nmodule.exports = function ( selector ) {\n    return (matchElement( this[ 0 ], selector ) ? true : false);\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method eq\n * @param {number} i The indexOf the element\n * @description Get the element at the index as a Hobo instance.\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( i ) {\n    return i < this.length \n            ? new Hobo(\n                this[ i ],\n                this._context\n            ) \n            : this;\n};","var matchElement = require( \"properjs-matchelement\" ),\n    Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method not\n * @param {string} selector The selector to filter out elements\n * @description Filter out elements that are NOT this selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var keepers = new Hobo( [], this._context );\n\n    // Hobo instance\n    if ( selector instanceof Hobo ) {\n        this.forEach(function ( node ) {\n            var pushNode = true;\n\n            selector.forEach(function ( elem ) {\n                if ( node === elem ) {\n                    pushNode = false;\n                }\n            });\n\n            if ( pushNode ) {\n                keepers.push( node );\n            }\n        });\n\n    } else {\n        this.forEach(function ( node, i ) {\n            if ( typeof selector === \"function\" ) {\n                if ( selector( i, node ) ) {\n                    keepers.push( node );\n                }\n\n            } else if ( !matchElement( node, selector ) ) {\n                keepers.push( node );\n            }\n        });\n    }\n\n    return keepers;\n};","var matchElement = require( \"properjs-matchelement\" ),\n    utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method one\n * @description Bind a standard DOM Event only ONE time.\n * @param {string} event \n * @param {string} selector \n * @param {function} callback\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( event, selector, callback ) {\n    var self = this;\n\n    if ( !callback ) {\n        callback = selector;\n        selector = this._selector;\n    }\n\n    return this.on( event, selector, function once ( e ) {\n        // Apply `this` - which is the Element context\n        callback.call( this, e );\n\n        self.off( event, once );\n    });\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method next\n * @param {string} selector Optional selector to match\n * @description Get the next sibling, test against selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var ret = [];\n\n    this.forEach(function ( node ) {\n        var nextNode = node.nextSibling;\n\n        while ( nextNode && nextNode.nodeType !== 1 ) {\n            nextNode = nextNode.nextSibling;\n        }\n\n        if ( nextNode && (!selector || (selector && matchElement( nextNode, selector ))) ) {\n            ret.push( nextNode );\n        }\n    });\n\n    return new Hobo( ret, this._context );\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method prev\n * @param {string} selector Optional selector to match\n * @description Get the previous sibling, test against selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var ret = [];\n\n    this.forEach(function ( node ) {\n        var prevNode = node.previousSibling;\n\n        while ( prevNode && prevNode.nodeType !== 1 ) {\n            prevNode = prevNode.previousSibling;\n        }\n\n        if ( prevNode && (!selector || (selector && matchElement( prevNode, selector ))) ) {\n            ret.push( prevNode );\n        }\n    });\n\n    return new Hobo( ret, this._context );\n};\n","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method addAttr\n * @param {element} node The element to set attribute on\n * @param {string} key The attribute\n * @param {mixed} value The value to set\n * @description Get or Set an attribute(s) on a DOM node\n * @returns {string}\n *\n */\nvar addAttr = function ( node, key, value ) {\n    node.setAttribute( key, value );\n\n    // Apply data()?\n    if ( utils.rData.test( key ) ) {\n        // storeData expects a {data object}\n        var obj = {};\n\n        obj[ key.replace( utils.rData, \"\" ) ] = value;\n\n        utils.storeData( obj, node );\n    }\n};\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method attr\n * @param {string} key The attribute\n * @param {mixed} value The value to set\n * @description Get or Set an attribute(s) on a DOM node\n * @returns {string}\n *\n */\nmodule.exports = function ( key, value ) {\n    var ret = this;\n\n    // Value can be an {object}\n    if ( typeof key === \"object\" ) {\n        for ( var i in key ) {\n            this.forEach(function ( node ) {\n                addAttr( node, i, key[ i ] );\n            });\n        }\n\n    // Value could possibly be \"\" or 0\n    } else if ( value !== undefined ) {\n        this.forEach(function ( node ) {\n            addAttr( node, key, value );\n        });\n\n    } else {\n        ret = this[ 0 ].getAttribute( key );\n    }\n\n    return ret;\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method last\n * @description Get hobo instance of the last element.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    return new Hobo( this[ (this.length - 1) ], this._context );\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method first\n * @description Get hobo instance of the first element.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    return new Hobo( this[ 0 ], this._context );\n};","/**\n *\n * @instance\n * @memberof Hobo\n * @method index\n * @description Get the nodes index compared to its DOM siblings.\n *              Possibly this should be its index in the Hobo set?\n * @returns {number}\n *\n */\nmodule.exports = function () {\n    return [].indexOf.call(\n        this[ 0 ].parentNode.children,\n        this[ 0 ]\n    );\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method parent\n * @param {string} selector Optional selector to match\n * @description Get a Hobo instance of the parent node of this instance.\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var parents = [];\n\n    this.forEach(function ( node ) {\n        if ( !selector || (selector && matchElement( node.parentNode, selector )) ) {\n            parents.push( node.parentNode );\n        }\n    });\n\n    return new Hobo( parents, null );\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method filter\n * @param {string} selector The selector to match elements against\n * @description Filter out the elements that match the selector.\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var filtered = [];\n\n    this.forEach(function ( node ) {\n        if ( matchElement( node, selector ) ) {\n            filtered.push( node );\n        }\n    });\n\n    return new Hobo( filtered, null );\n};","/**\n *\n * @instance\n * @memberof Hobo\n * @method detach\n * @description Detach the nodes from the DOM\n *              This method does NOT remove events or data.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    this.forEach(function ( node ) {\n        if ( node.parentNode ) {\n            node.parentNode.removeChild( node );\n        }\n    });\n\n    return this;\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method append\n * @param {mixed} appendage What to append? Hobo, Element...\n * @description Append the nodes to the DOM\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( appendage ) {\n    // Selector string, wrap in new Hobo instance\n    if ( typeof appendage === \"string\" ) {\n        appendage = new Hobo( appendage );\n    }\n\n    this.forEach(function ( node ) {\n        // Hobo instance OR Array OR Array-like object with forEach\n        if ( appendage instanceof Hobo || (appendage.length && typeof appendage.forEach === \"function\") ) {\n            appendage.forEach(function ( append ) {\n                if ( append.nodeType && append.nodeType === 1 ) {\n                    node.appendChild( append );\n                }\n            });\n\n        } else if ( appendage.nodeType ) {\n            node.appendChild( appendage );\n        }\n    });\n\n    return this;\n};\n","/**\n *\n * @instance\n * @memberof Hobo\n * @method remove\n * @description Remove the nodes from the DOM\n *              This method will remove events and data.\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    // Remove Events\n    this.off();\n\n    this.forEach(function ( node ) {\n        // Remove Data\n        // Could this cause issues ?\n        delete node.hoboDataMap;\n\n        if ( node.parentNode ) {\n            node.parentNode.removeChild( node );\n        }\n    });\n\n    return this;\n};","/**\n *\n * @instance\n * @memberof Hobo\n * @method trigger\n * @description Dispatch a simulated event.\n * @param {string} event The event to dispatch\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( event ) {\n    var self = this,\n        evo,\n        id;\n\n    this.forEach(function ( node ) {\n        for ( id in self._events[ event ] ) {\n            if ( self._events[ event ].hasOwnProperty( id ) ) {\n                evo = self._events[ event ][ id ];\n\n                // Match the nodes\n                if ( evo.node === node ) {\n                    evo = document.createEvent( \"Events\" );\n\n                    evo.initEvent( event, true, false );\n\n                    node.dispatchEvent( evo );\n                }\n            }\n        }\n    });\n\n    return this;\n};","var Hobo = require( \"../Hobo\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method prepend\n * @param {mixed} prependage What to prepend? Hobo, Element...\n * @description Append the nodes to the DOM\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( prependage ) {\n    // Selector string, wrap in new Hobo instance\n    if ( typeof prependage === \"string\" ) {\n        prependage = new Hobo( prependage );\n    }\n\n    this.forEach(function ( node ) {\n        // Hobo instance OR Array OR Array-like object with forEach\n        if ( prependage instanceof Hobo || (prependage.length && typeof prependage.forEach === \"function\") ) {\n            prependage.forEach(function ( prepend ) {\n                if ( prepend.nodeType && prepend.nodeType === 1 ) {\n                    // https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n                    // Context node inserts first element BEFORE second element\n                    node.insertBefore( prepend, node.firstChild );\n                }\n            });\n\n        } else if ( prependage.nodeType ) {\n            node.insertBefore( prependage, node.firstChild );\n        }\n    });\n\n    return this;\n};","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method closest\n * @param {string} selector The selector to try and match\n * @description Find the first ancestor element with this selector\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( selector ) {\n    var closest = [];\n\n    this.forEach(function ( node ) {\n        var match = matchElement( node, selector, true );\n\n        if ( match ) {\n            closest.push( match );\n        }\n    });\n\n    return new Hobo( closest, null );\n};","var Hobo = require( \"../Hobo\" ),\n    utils = require( \"../utils\" );\n\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method children\n * @description Gather all child nodes that are NOT text nodes\n * @returns {Hobo}\n *\n */\nmodule.exports = function () {\n    var children = [],\n        len,\n        i;\n\n    this.forEach(function ( node ) {\n        i = 0;\n        len = node.children.length;\n\n        for ( i; i < len; i++ ) {\n            children.push( node.children[ i ] );\n        }\n    });\n\n    return new Hobo( children, this._context );\n};","var utils = require( \"../utils\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method removeAttr\n * @param {string} attr The attribute to remove\n * @description Remove the specified attribute from each node in the set.\n * @returns {Hobo}\n *\n * @note This method needs to update data() in case we remove data-attr's\n *\n */\nmodule.exports = function ( attr ) {\n    this.forEach(function ( node ) {\n        node.removeAttribute( attr );\n\n        // Remove data()?\n        if ( utils.rData.test( attr ) ) {\n            utils.removeData( attr.replace( utils.rData, \"\" ), node );\n        }\n    });\n\n    return this;\n};\n","var Hobo = require( \"../Hobo\" ),\n    matchElement = require( \"properjs-matchelement\" );\n\n\n/**\n *\n * @instance\n * @memberof Hobo\n * @method toggleClass\n * @description Add or remove the specified classNames.\n * @param {string} classes The space-separated classNames\n * @returns {Hobo}\n *\n */\nmodule.exports = function ( classes ) {\n    classes = classes.split( \" \" );\n\n    this.forEach(function ( node ) {\n        classes.forEach(function ( klass ) {\n            if ( matchElement( node, (\".\" + klass) ) ) {\n                new Hobo( node, null ).removeClass( klass );\n\n            } else {\n                new Hobo( node, null ).addClass( klass );\n            }\n        });\n    });\n\n    return this;\n};","var utils = require( \"../utils\" );\nvar AjaxPromise = function () {\n    var self = this;\n\n    this._promise = new Promise(function ( resolve, reject ) {\n        self._resolve = resolve;\n        self._reject = reject;\n    });\n};\nAjaxPromise.prototype.then = function ( fn ) {\n    this._then = fn;\n    return this;\n};\nAjaxPromise.prototype.catch = function ( fn ) {\n    this._catch = fn;\n    return this;\n};\nAjaxPromise.prototype.resolve = function ( arg ) {\n    if ( this._then ) {\n        this._then( arg );\n        this._resolve( arg );\n    }\n\n    return this;\n};\nAjaxPromise.prototype.reject = function ( err ) {\n    if ( this._catch ) {\n        this._catch( err );\n        this._reject( err );\n    }\n\n    return this;\n};\nAjaxPromise.prototype.abort = function () {\n    if ( this._xhr ) {\n        this._reject( \"Rejecting on XMLHttpRequest.abort()\" );\n        this._xhr.abort();\n    }\n\n    return this;\n};\n\n\n/**\n *\n * @static\n * @memberof Hobo\n * @method ajax\n * @description Perform standar XHR with a native Promise.\n *              dataType can be `html`, `json`, `jsonp`.\n * @param {object} config The ajax config object\n *                        url       => string, default: window.location.href\n *                        data      => object, default: null\n *                        dataType  => string, default: \"html\"\n *                        method    => string, default: \"GET\"\n *                        jsonp     => string, default: \"callback\"\n *                        headers   => object, default: null\n * @returns {Promise}\n *\n */\nmodule.exports = function ( config ) {\n    var params = (config.data || null),\n        dataType = (config.dataType || \"html\"),\n        method = (config.method || \"GET\").toUpperCase(),\n        url = (config.url || window.location.href),\n        headers = (config.headers || null),\n        payload = (config.payload || null),\n        ajaxPromise = new AjaxPromise();\n\n    // Handle params\n    // Params will be one of the following:\n    // Serialized querystring\n    // Instanceof FormData\n    // Null\n    if ( params && !(FormData && params instanceof FormData) ) {\n        params = utils.serializeData( config.data );\n    }\n\n    // Handle JSON payloads\n    if ( payload && typeof payload !== \"string\" ) {\n        payload = JSON.stringify( payload );\n    }\n\n    // Handle params in GET URL\n    if ( method === \"GET\" && params ) {\n        url += (\"?\" + params);\n    }\n\n    // Normalize response handling\n    var handleResponse = function ( response ) {\n        if ( dataType === \"json\" ) {\n            try {\n                response = JSON.parse( response );\n\n            } catch ( error ) {\n                // ajaxPromise.reject( (\"Rejecting on JSON.parse error : \" + error) );\n                ajaxPromise.reject( response );\n            }\n        }\n\n        ajaxPromise.resolve( response );\n    };\n\n    // JSONP\n    if ( dataType === \"jsonp\" ) {\n        var jsonpCallbackValue = (utils.makeId() + \"JSONP\"),\n            jsonpCallbackKey = (config.jsonp || \"callback\"),\n            jsonpScript = document.createElement( \"script\" );\n\n        jsonpScript.src = (url + (/\\?/.test( url ) ? \"&\" : \"?\") + jsonpCallbackKey + \"=\" + jsonpCallbackValue);\n\n        window[ jsonpCallbackValue ] = function ( response ) {\n            document.getElementsByTagName( \"head\" )[ 0 ].removeChild( jsonpScript );\n            jsonpScript = null;\n            delete window[ jsonpCallbackValue ];\n\n            handleResponse( response );\n        };\n\n        document.getElementsByTagName( \"head\" )[ 0 ].appendChild( jsonpScript );\n\n    // XHR\n    } else {\n        var xhr = new XMLHttpRequest();\n\n        xhr.open( method, url, true );\n\n        if ( headers ) {\n            for ( var header in headers ) {\n                if ( headers.hasOwnProperty( header ) ) {\n                    xhr.setRequestHeader( header, headers[ header ] );\n                }\n            }\n        }\n\n        xhr.onreadystatechange = function ( e ) {\n            if ( this.readyState === 4 ) {\n                // Two-Hundo's are A-Okay with Hobo\n                if ( /^20/.test( this.status ) ) {\n                    handleResponse( this.responseText );\n\n                } else {\n                    // ajaxPromise.reject( (\"Rejecting on server status code : \" + this.status) );\n                    ajaxPromise.reject( this.responseText );\n                }\n            }\n        };\n\n        xhr.send( (params || payload) );\n\n        ajaxPromise._xhr = xhr;\n    }\n\n    return ajaxPromise;\n};\n","/*!\n *\n * Handle lazy-loading images with contextual load conditions.\n *\n * @ImageLoader\n * @author: kitajchuk\n *\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.ImageLoader = factory();\n    }\n\n})(function () {\n\n    var Controller = require( \"properjs-controller\" );\n\n\n    /**\n     *\n     * Handle lazy-loading images with unique callback conditions\n     * @memberof! <global>\n     * @requires raf\n     * @constructor ImageLoader\n     * @param {object} options Controller settings\n     * <ul>\n     * <li>elements - The collection of elements to load against</li>\n     * <li>property - The property to pull the image source from</li>\n     * <li>transitionDelay - The timeout before transition starts</li>\n     * <li>transitionDuration - The length of the animation</li>\n     * </ul>\n     *\n     */\n    var ImageLoader = function ( options ) {\n        var self = this;\n\n        if ( !options ) {\n            throw new Error( \"ImageLoader Class requires options to be passed\" );\n        }\n\n        // Up, up and away...\n        Controller.call( this );\n\n        /**\n         *\n         * The method to determine if an image should load itself\n         * @memberof ImageLoader\n         * @member _executor\n         * @private\n         *\n         */\n        this._executor = (options.executor || function ( elem ) {\n            return elem;\n        });\n\n        /**\n         *\n         * The Collection to load against\n         * @memberof ImageLoader\n         * @member _elements\n         * @private\n         *\n         */\n        this._elements = options.elements;\n\n        /**\n         *\n         * The property to get image source from\n         * @memberof ImageLoader\n         * @member _property\n         * @private\n         *\n         */\n        this._property = (options.property || \"data-src\");\n\n        /**\n         *\n         * The way to load, async or sync\n         * Using \"sync\" loading requires calling .start() on the instance\n         * and the \"handle\" event will not be utilized, rather each image\n         * will be loaded in succession as the previous finishes loading\n         * @memberof ImageLoader\n         * @member _loadType\n         * @private\n         *\n         */\n        this._loadType = (options.loadType || \"async\");\n\n        /**\n         *\n         * The current amount of elements lazy loaded\n         * @memberof ImageLoader\n         * @member _numLoaded\n         * @private\n         *\n         */\n        this._numLoaded = 0;\n\n        /**\n         *\n         * The total amount of elements to lazy load\n         * @memberof ImageLoader\n         * @member _num2Load\n         * @private\n         *\n         */\n        this._num2Load = (this._elements ? this._elements.length : 0);\n\n        /**\n         *\n         * The delay to execute lazy loading on an element in ms\n         * @memberof ImageLoader\n         * @member _transitionDelay\n         * @default 100\n         * @private\n         *\n         */\n        this._transitionDelay = (options.transitionDelay || 0);\n\n        /**\n         *\n         * The duration on a lazy loaded elements fade in in ms\n         * @memberof ImageLoader\n         * @member _transitionDuration\n         * @default 600\n         * @private\n         *\n         */\n        this._transitionDuration = (options.transitionDuration || 400);\n\n        /**\n         *\n         * This flags that all elements have been loaded\n         * @memberof ImageLoader\n         * @member _resolved\n         * @private\n         *\n         */\n        this._resolved = false;\n\n        // Break out if no elements in collection\n        if ( !this._elements.length ) {\n            return this;\n        }\n\n        // Only run animation frame for async loading\n        if ( this._loadType === \"async\" ) {\n            this.initAsync();\n\n        } else {\n            this.initSync();\n        }\n    };\n\n\n    /**\n     *\n     * @extends Controller\n     *\n     */\n    ImageLoader.prototype = Object.create( Controller.prototype );\n\n\n    /**\n     *\n     * Support asynchronous loading of a set of images\n     * @memberof ImageLoader\n     * @method initAsync\n     *\n     */\n    ImageLoader.prototype.initAsync = function () {\n        var self = this;\n\n        this.go(function () {\n            if ( self._resolved ) {\n                self.stop();\n\n            } else {\n                self.handle();\n            }\n        });\n    };\n\n    /**\n     *\n     * Support batch synchronous loading of a set of images\n     * @memberof ImageLoader\n     * @method initSync\n     *\n     */\n    ImageLoader.prototype.initSync = function () {\n        var self = this;\n\n        function syncLoad() {\n            var elem = self._elements[ self._numLoaded ];\n\n            self._numLoaded++;\n\n            self.load( elem, function ( error ) {\n                if ( !error && !self._resolved ) {\n                    syncLoad();\n                }\n            });\n        }\n\n        syncLoad();\n    };\n\n    /**\n     *\n     * Perform the image loading and set correct values on element\n     * @method load\n     * @memberof ImageLoader\n     * @param {object} $elem element object\n     * @param {function} callback optional callback for each load\n     * @fires done\n     *\n     */\n    ImageLoader.prototype.load = function ( element, callback ) {\n        var self = this,\n            image = null,\n            timeout = null,\n            isImage = (element.nodeName === \"IMG\"),\n            source = element.getAttribute( this._property );\n\n        element.setAttribute( \"data-imageloader\", true );\n\n        if ( isImage ) {\n            image = element;\n\n        } else {\n            image = new Image();\n        }\n\n        timeout = setTimeout(function () {\n            clearTimeout( timeout );\n\n            image.onload = function () {\n                self.fire( \"load\", element );\n\n                if ( !isImage ) {\n                    element.style.backgroundImage = (\"url(\" + source + \")\");\n\n                    image = null;\n                }\n\n                timeout = setTimeout(function () {\n                    clearTimeout( timeout );\n\n                    if ( (self._numLoaded === self._num2Load) && !self._resolved ) {\n                        self._resolve( true );\n\n                    } else if ( typeof callback === \"function\" ) {\n                        // Errors first\n                        callback( false );\n                    }\n\n                }, self._transitionDuration );\n            };\n\n            image.onerror = function () {\n                self.fire( \"error\", element );\n\n                if ( (self._numLoaded === self._num2Load) && !self._resolved ) {\n                    self._resolve( true );\n\n                } else if ( typeof callback === \"function\" ) {\n                    // Errors first\n                    callback( true );\n                }\n            };\n\n            image.src = source;\n\n        }, this._transitionDelay );\n\n        return this;\n    };\n\n    /**\n     *\n     * Handles element iterations and loading based on callbacks\n     * @memberof ImageLoader\n     * @method handle\n     *\n     */\n    ImageLoader.prototype.handle = function () {\n        var elems = this.getNotLoaded(),\n            self = this;\n\n        for ( var i = 0, len = elems.length; i < len; i++ ) {\n            if ( self._executor( elems[ i ] ) ) {\n                self._numLoaded++;\n\n                self.load( elems[ i ] );\n            }\n        }\n    };\n\n    /**\n     *\n     * Get all images in the set that have yet to be loaded\n     * @memberof ImageLoader\n     * @method getNotLoaded\n     *\n     */\n    ImageLoader.prototype.getNotLoaded = function () {\n        var elems = [];\n\n        for ( var i = 0, len = this._elements.length; i < len; i++ ) {\n            if ( !this._elements[ i ].getAttribute( \"data-imageloader\" ) ) {\n                elems.push( this._elements[ i ] );\n            }\n        }\n\n        return elems;\n    };\n\n    /**\n     *\n     * Resolve an instance and remove it from the stack\n     * @memberof ImageLoader\n     * @method _resolve\n     *\n     */\n    ImageLoader.prototype._resolve = function () {\n        // Resolved state\n        this._resolved = true;\n\n        // Fires the predefined \"done\" event\n        this.fire( \"done\" );\n    };\n\n\n    return ImageLoader;\n\n\n});","import dom from \"./dom\";\nimport config from \"./config\";\nimport emitter from \"./emitter\";\nimport ImageController from \"./ImageController\";\n\n\n/**\n *\n * @public\n * @namespace images\n * @memberof core\n * @description Handles separation of image pre-loading and image lazy-loading.\n *\n */\nconst images = {\n    /**\n     *\n     * @public\n     * @method handlePreload\n     * @memberof core.images\n     * @param {function} callback The passed callback from `handleImages`\n     * @description Method handles the `done` preloading event cycle.\n     *\n     */\n    handlePreload ( callback ) {\n        if ( typeof callback === \"function\" ) {\n            callback();\n        }\n\n        emitter.fire( \"app--preload-done\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method handleLazyload\n     * @memberof core.images\n     * @description Method handles the `done` lazyloading event cycle.\n     *\n     */\n    handleLazyload () {\n        emitter.fire( \"app--lazyload-done\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method handleImages\n     * @memberof core.images\n     * @param {object} $images Optionally, the image collection to load\n     * @param {function} callback Optionally, a callback to fire when loading is done\n     * @description Method handles separation of pre-load and lazy-load.\n     *\n     */\n    handleImages ( $images, callback ) {\n        $images = ($images || dom.page.find( config.lazyImageSelector ));\n\n        if ( $images.length ) {\n            const imageController = new ImageController( $images );\n\n            imageController.on( \"preload\", this.handlePreload.bind( this, callback ) );\n            imageController.on( \"lazyload\", this.handleLazyload.bind( this ) );\n\n        } else {\n            this.handlePreload( callback );\n        }\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default images;","import * as util from \"./util\";\nimport log from \"./log\";\nimport Controller from \"properjs-controller\";\n\n\n/**\n *\n * @public\n * @class ImageController\n * @param {Hobo} $images The image collection to load\n * @classdesc Handles breaking out the preload vs lazyload batches\n * @memberof core\n *\n */\nclass ImageController extends Controller {\n    constructor ( $images ) {\n        super();\n\n        this.$preload = util.getElementsInView( $images );\n        this.$lazyload = $images.not( this.$preload );\n\n        if ( this.$preload.length ) {\n            this.handlePreload();\n\n        } else {\n            this.fire( \"preload\" );\n        }\n\n        if ( this.$lazyload.length ) {\n            this.handleLazyload();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @method handlePreload\n     * @memberof core.ImageController\n     * @description ImageLoader instance for preload batch.\n     *\n     */\n    handlePreload () {\n        log( \"ImageController preload queue:\", this.$preload.length );\n\n        this.preLoader = util.loadImages( this.$preload, util.noop );\n        this.preLoader.on( \"done\", () => {\n            log( \"ImageController preloaded:\", this.$preload.length );\n\n            this.fire( \"preload\" );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @method handleLazyload\n     * @memberof core.ImageController\n     * @description ImageLoader instance for lazyload batch.\n     *\n     */\n    handleLazyload () {\n        log( \"ImageController lazyload queue:\", this.$lazyload.length );\n\n        this.lazyLoader = util.loadImages( this.$lazyload, util.isElementLoadable );\n        this.lazyLoader.on( \"done\", () => {\n            log( \"ImageController lazyloaded:\", this.$lazyload.length );\n\n            this.fire( \"lazyload\" );\n        });\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default ImageController;","import $ from \"properjs-hobo\";\nimport paramalama from \"paramalama\";\nimport * as util from \"./util\";\n\n\nconst _rSlash = /^\\/|\\/$/g;\n\n\n/**\n *\n * @public\n * @module api\n * @description Provide some api methods for accessing content via JS.\n *\n */\nconst api = {\n    /**\n     *\n     * @public\n     * @member data\n     * @memberof core.api\n     * @description URLs this little api needs to use.\n     *\n     */\n    data: {\n        squarespace: {\n            url: location.origin,\n            api: [location.origin, \"api\"].join( \"/\" )\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @member dataType\n     * @memberof core.api\n     * @description Default dataType for the `request` api method.\n     *\n     */\n    dataType: \"json\",\n\n\n    /**\n     *\n     * @public\n     * @member format\n     * @memberof core.api\n     * @description Default format for the `request` api method.\n     *\n     */\n    format: \"json\",\n\n\n    /**\n     *\n     * @public\n     * @member method\n     * @memberof core.api\n     * @description Default method for the `request` api method.\n     *\n     */\n    method: \"GET\",\n\n\n    /**\n     *\n     * @public\n     * @method endpoint\n     * @param {string} uri The collection uri\n     * @memberof core.api\n     * @description Creates the fullUrl from a collection uri.\n     * @returns {string}\n     *\n     */\n    endpoint ( uri ) {\n        return [this.data.squarespace.url, uri.replace( _rSlash, \"\" )].join( \"/\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method apipoint\n     * @param {string} uri The API uri\n     * @memberof core.api\n     * @description Creates the fullUrl from an API uri.\n     * @returns {string}\n     *\n     */\n    apipoint ( uri ) {\n        return [this.data.squarespace.api, uri.replace( _rSlash, \"\" )].join( \"/\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method request\n     * @param {string} url The API URL\n     * @param {object} params Merge params to send\n     * @param {object} options Merge config to pass to $.ajax()\n     * @memberof core.api\n     * @description Creates the fullUrl from an API uri.\n     * @returns {object}\n     *\n     */\n    request ( url, params, options ) {\n        const data = util.extendObject(\n            {\n                format: this.format,\n                nocache: true\n            },\n            params\n        );\n        const opts = util.extendObject(\n            {\n                url,\n                data,\n                dataType: this.dataType,\n                method: this.method\n            },\n            options\n        );\n\n        return $.ajax( opts );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method collection\n     * @param {string} uri The collection uri\n     * @param {object} params Merge params to send\n     * @param {object} options Merge options to send\n     * @memberof core.api\n     * @description Retrieves items from a given collection.\n     *              Returned Promise resolves with a data {object}\n     * @returns {Promise}\n     *\n     */\n    collection ( uri, params, options ) {\n        return new Promise(( resolve, reject ) => {\n            let collection = {};\n            const seg = uri.split( \"?\" )[ 0 ];\n\n            // This clones for us - non-mutable\n            params = util.extendObject( {}, params );\n\n            // Merges any query string params from URI\n            params = util.extendObject( params, paramalama( uri ) );\n\n            // Tackle the `+` issue with taxonomies\n            if ( params.tag ) {\n                params.tag = params.tag.replace( /\\+/g, \" \" );\n            }\n\n            if ( params.category ) {\n                params.category = params.category.replace( /\\+/g, \" \" );\n            }\n\n            this.request( this.endpoint( seg ), params, options )\n                .then( ( data ) => {\n                    // Resolve with `responseText`\n                    if ( typeof data === \"string\" ) {\n                        resolve( data );\n\n                    } else {\n                        // Collection?\n                        collection = {\n                            collection: data.collection,\n                            item: (data.item || null),\n                            items: (data.items || null),\n                            pagination: (data.pagination || null)\n                        };\n\n                        resolve( collection );\n                    }\n\n                })\n                .catch( ( error ) => {\n                    reject( error );\n                });\n        });\n    },\n\n\n    /**\n     *\n     * @public\n     * @method vimeo\n     * @param {string} id The vimeo video ID\n     * @memberof core.api\n     * @description Retrieves vimeo video information.\n     *              Returned Promise resolves with api data {object}\n     * @returns {Promise}\n     *\n     */\n    vimeo ( id ) {\n        return $.ajax({\n            url: `https://api.vimeo.com/videos/${id}`,\n            method: \"GET\",\n            data: {\n                access_token: \"4fe810e95b5a32a53133739750ef23e4\"\n            },\n            dataType: \"json\"\n        });\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default api;\n","import Store from \"./Store\";\n\n\n/**\n *\n * @public\n * @module cache\n * @description Return Singleton instances of the cache Store.\n *\n */\nexport default new Store({\n    // If TRUE the Store will use LocalStorage...\n    enableStorage: false\n});","import * as core from \"../core\";\nimport $ from \"properjs-hobo\";\nimport Store from \"../core/Store\";\n\n\n// Singleton\nlet _instance = null;\n\n\n/**\n *\n * @public\n * @class Analytics\n * @classdesc Handles Squarespace Metrics and Google Analytics.\n *            @see {@link https://developers.google.com/analytics/devguides/collection/analyticsjs/}\n * @memberof core\n *\n */\nclass Analytics {\n    constructor () {\n        if ( !_instance ) {\n            core.emitter.on( \"app--analytics-push\", this.pushTrack.bind( this ) );\n\n            core.log( \"Analytics initialized\" );\n\n            this.apiEndpoint = \"/api/census/RecordHit\";\n\n            _instance = this;\n        }\n\n        return _instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @method pushTrack\n     * @param {object} doc The doc object created by router {$doc, $page, pageData, pageHtml}\n     * @memberof class.Analytics\n     * @description Parse static context from responseText and track it.\n     *\n     */\n    pushTrack ( doc ) {\n        const pageTitle = (doc.pageData.itemTitle || doc.pageData.collectionTitle);\n        const websiteId = doc.pageData.websiteId;\n        const pageData = doc.pageData.itemId ? { itemId: doc.pageData.itemId } : { collectionId: doc.pageData.collectionId };\n\n        // Squarespace Metrics\n        if ( core.env.isProd() ) {\n            this.recordHit( websiteId, pageData, pageTitle ).then(( res ) => {\n                core.log( \"Analytics\", res );\n\n            }).catch(( error ) => {\n                core.log( \"warn\", error );\n            });\n        }\n\n        this.setDocumentTitle( pageTitle );\n    }\n\n\n    /**\n     *\n     * @public\n     * @method setDocumentTitle\n     * @param {string} title The new title for the document\n     * @memberof class.Analytics\n     * @description Update the documents title.\n     *\n     */\n    setDocumentTitle ( title ) {\n        document.title = title;\n    }\n\n\n    /**\n     *\n     * @public\n     * @method recordHit\n     * @param {string} websiteId The site ID\n     * @param {object} pageData IDs for either collection or item\n     * @param {string} websiteTitle Page title for tracking\n     * @memberof class.Analytics\n     * @description Record sqs metrics for async page requests.\n     *              Returned Promise resolves with a data {object}\n     * @returns {Promise}\n     *\n     */\n    recordHit ( websiteId, pageData, websiteTitle ) {\n        const datas = {\n            url: window.location.href,\n            queryString: window.location.search,\n            userAgent: window.navigator.userAgent,\n            referrer: \"\",\n            localStorageSupported: Store.isStorageSupported,\n            viewportInnerHeight: window.innerHeight,\n            viewportInnerWidth: window.innerWidth,\n            screenHeight: window.screen.height,\n            screenWidth: window.screen.width,\n            title: websiteTitle,\n            websiteId,\n            templateId: websiteId\n        };\n\n        if ( pageData.itemId ) {\n            datas.itemId = pageData.itemId;\n\n        } else {\n            datas.collectionId = pageData.collectionId;\n        }\n\n        return $.ajax({\n            url: `${this.apiEndpoint}?crumb=${Store.crumb}`,\n            method: \"POST\",\n            data: {\n                event: \"View\",\n                data: JSON.stringify( datas )\n            },\n            dataType: \"json\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            }\n        });\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default Analytics;\n","/*!\n *\n * Window resize / orientationchange event controller\n *\n * @ResizeController\n * @author: kitajchuk\n *\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.ResizeController = factory();\n    }\n    \n})(function () {\n\n    var Controller = require( \"properjs-controller\" ),\n\n        // Orientation?\n        _hasOrientation = (\"orientation\" in window),\n\n        // Current window viewport\n        _currentView = null,\n\n        // Singleton\n        _instance = null;\n\n    /**\n     *\n     * Window resize / orientationchange event controller\n     * @constructor ResizeController\n     * @augments Controller\n     * @requires Controller\n     * @memberof! <global>\n     *\n     * @fires resize\n     * @fires resizedown\n     * @fires resizeup\n     * @fires resizewidth\n     * @fires resizeheight\n     * @fires orientationchange\n     * @fires orientationportrait\n     * @fires orientationlandscape\n     *\n     */\n    var ResizeController = function () {\n        // Singleton\n        if ( !_instance ) {\n            _instance = this;\n\n            // Initial viewport settings\n            _currentView = _instance.getViewport();\n\n            // Call on parent cycle\n            this.go(function () {\n                var currentView = _instance.getViewport(),\n                    isStill = (currentView.width === _currentView.width && currentView.height === _currentView.height),\n                    isResize = (currentView.width !== _currentView.width || currentView.height !== _currentView.height),\n                    isResizeUp = (currentView.width > _currentView.width || currentView.height > _currentView.height),\n                    isResizeDown = (currentView.width < _currentView.width || currentView.height < _currentView.height),\n                    isResizeWidth = (currentView.width !== _currentView.width),\n                    isResizeHeight = (currentView.height !== _currentView.height),\n                    isOrientation = (currentView.orient !== _currentView.orient),\n                    isOrientationPortrait = (currentView.orient !== _currentView.orient && currentView.orient !== 90),\n                    isOrientationLandscape = (currentView.orient !== _currentView.orient && currentView.orient === 90);\n\n                // Fire blanket resize event\n                if ( isResize ) {\n                    /**\n                     *\n                     * @event resize\n                     *\n                     */\n                    _instance.fire( \"resize\" );\n                }\n\n                // Fire resizeup and resizedown\n                if ( isResizeDown ) {\n                    /**\n                     *\n                     * @event resizedown\n                     *\n                     */\n                    _instance.fire( \"resizedown\" );\n\n                } else if ( isResizeUp ) {\n                    /**\n                     *\n                     * @event resizeup\n                     *\n                     */\n                    _instance.fire( \"resizeup\" );\n                }\n\n                // Fire resizewidth and resizeheight\n                if ( isResizeWidth ) {\n                    /**\n                     *\n                     * @event resizewidth\n                     *\n                     */\n                    _instance.fire( \"resizewidth\" );\n\n                } else if ( isResizeHeight ) {\n                    /**\n                     *\n                     * @event resizeheight\n                     *\n                     */\n                    _instance.fire( \"resizeheight\" );\n                }\n\n                // Fire blanket orientationchange event\n                if ( isOrientation ) {\n                    /**\n                     *\n                     * @event orientationchange\n                     *\n                     */\n                    _instance.fire( \"orientationchange\" );\n                }\n\n                // Fire orientationportrait and orientationlandscape\n                if ( isOrientationPortrait ) {\n                    /**\n                     *\n                     * @event orientationportrait\n                     *\n                     */\n                    _instance.fire( \"orientationportrait\" );\n\n                } else if ( isOrientationLandscape ) {\n                    /**\n                     *\n                     * @event orientationlandscape\n                     *\n                     */\n                    _instance.fire( \"orientationlandscape\" );\n                }\n\n                _currentView = currentView;\n            });\n        }\n\n        return _instance;\n    };\n\n    ResizeController.prototype = new Controller();\n\n    /**\n     *\n     * Returns the current window viewport specs\n     * @memberof ResizeController\n     * @method getViewport\n     * @returns object\n     *\n     */\n    ResizeController.prototype.getViewport = function () {\n        return {\n            width: window.innerWidth,\n            height: window.innerHeight,\n            orient: _hasOrientation ? Math.abs( window.orientation ) : null\n        };\n    };\n\n    /**\n     *\n     * Tells if the viewport is in protrait mode\n     * @memberof ResizeController\n     * @method isPortrait\n     * @returns boolean\n     *\n     */\n    ResizeController.prototype.isPortrait = function () {\n        var orient = this.getViewport().orient;\n\n        return (orient !== null && orient !== 90);\n    };\n\n    /**\n     *\n     * Tells if the viewport is in landscape mode\n     * @memberof ResizeController\n     * @method isLandscape\n     * @returns boolean\n     *\n     */\n    ResizeController.prototype.isLandscape = function () {\n        var orient = this.getViewport().orient;\n\n        return (orient !== null && orient === 90);\n    };\n\n\n    return ResizeController;\n\n});","import log from \"./log\";\nimport * as util from \"./util\";\nimport emitter from \"./emitter\";\nimport resizer from \"./resizer\";\nimport throttle from \"properjs-throttle\";\nimport debounce from \"properjs-debounce\";\n\n\nconst _throttled = 50;\nconst _debounced = 300;\n\n\n/**\n *\n * @public\n * @namespace resizes\n * @memberof core\n * @description Handles app-wide emission of various resize detection events.\n *\n */\nconst resizes = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof core.resizes\n     * @description Method binds event listeners for resize controller.\n     *\n     */\n    init () {\n        resizer.on( \"resize\", throttle( onThrottle, _throttled ) );\n\n        // Hook into resize of `width` only for this handler\n        // @bug: iOS window size changes when Safari's chrome switches between full and minimal-ui.\n        resizer.on( \"resizewidth\", debounce( onDebounce, _debounced ) );\n\n        log( \"resizes initialized\" );\n    }\n};\n\n\n/**\n *\n * @private\n * @method onDebounce\n * @memberof core.resizes\n * @description Debounced resize events.\n *\n */\nconst onDebounce = function () {\n    emitter.fire( \"app--resize-debounced\" );\n\n    util.updateImages();\n};\n\n\n/**\n *\n * @private\n * @method onThrottle\n * @memberof core.resizes\n * @description Method handles the window resize event via [ResizeController]{@link https://github.com/ProperJS/ResizeController}.\n *\n */\nconst onThrottle = function () {\n    emitter.fire( \"app--resize\" );\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default resizes;","/*!\n *\n * Throttle callbacks\n *\n * @throttle\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.throttle = factory();\n    }\n    \n})(function () {\n\n\n    /**\n     *\n     * Rev limit your method calls\n     * @requires debounce\n     * @memberof! <global>\n     * @method throttle\n     * @param {function} callback The method handler\n     * @param {number} threshold The timeout delay in ms\n     *\n     */\n    var throttle = function ( callback, threshold ) {\n        var wait = false;\n\n        return function () {\n            if ( !wait ) {\n                callback.call();\n                wait = true;\n\n                setTimeout(function () {\n                    wait = false;\n\n                }, (threshold || 100) );\n            }\n        };\n    };\n    \n    \n    return throttle;\n\n\n});","/*!\n *\n * Asynchronous webpage transitioning with pushstate management.\n *\n * @PageController\n * @author: kitajchuk\n *\n * @module\n * - init\n * - isActive\n * - onload\n * - unload\n *\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.PageController = factory();\n    }\n\n})(function () {\n\n    // Useful stuff\n    var Router = require( \"properjs-router\" ),\n        Controller = require( \"properjs-controller\" ),\n\n        _router = null,\n        _config = [],\n        _modules = [],\n        _synced = {\n            active: [],\n            inactive: []\n        },\n        _initialized = false,\n        _timeBefore = null,\n        _timeDelay = 0,\n        _eventPrefix = \"page-controller-\",\n        _currentRoute = null,\n        _isFirstRoute = true,\n        _currentQuery = null,\n        _currentToString = null,\n        _isSamePage = false,\n        _silentMode = false,\n        _silentCallback = null,\n        _isRoutingActive = false,\n\n        // Singleton\n        _instance = null,\n\n\n    // Private functions\n    fire = function ( event, arg ) {\n        if ( !_silentMode ) {\n            _instance.fire( (_eventPrefix + event), arg );\n        }\n    },\n\n\n    isFunction = function ( fn ) {\n        return (typeof fn === \"function\");\n    },\n\n\n    isSameObject = function ( o1, o2 ) {\n        return (JSON.stringify( o1 ) === JSON.stringify( o2 ));\n    },\n\n\n    execInit = function ( method ) {\n        // One time module initialization\n        for ( var i = _modules.length; i--; ) {\n            if ( !_modules[ i ].__initialized && isFunction( _modules[ i ].init ) ) {\n                _modules[ i ].__initialized = true;\n                _modules[ i ].init();\n            }\n        }\n    },\n\n\n    execUnload = function () {\n        if ( _silentMode ) {\n            return;\n        }\n\n        // Unload currently active modules only\n        for ( var i = _synced.active.length; i--; ) {\n            if ( isFunction( _synced.active[ i ].unload ) ) {\n                _synced.active[ i ].unload();\n            }\n        }\n    },\n\n\n    execOnload = function () {\n        if ( _silentMode ) {\n            return;\n        }\n\n        // Unload newly active modules only\n        for ( var i = _synced.active.length; i--; ) {\n            if ( isFunction( _synced.active[ i ].onload ) ) {\n                _synced.active[ i ].onload();\n            }\n        }\n    },\n\n\n    getRouteDataToString = function ( data ) {\n        var ret = data.uri,\n            i;\n\n        for ( i in data.query ) {\n            ret += \"-\" + i + \"-\" + data.query[ i ];\n        }\n\n        for ( i in data.params ) {\n            ret += \"-\" + i + \"-\" + data.params[ i ];\n        }\n\n        return ret;\n    },\n\n\n    /**\n     * @fires page-controller-router-synced-modules\n     */\n    syncModules = function () {\n        if ( _silentMode ) {\n            return;\n        }\n\n        _synced.active = [];\n        _synced.inactive = [];\n\n        for ( var i = _modules.length; i--; ) {\n            var module = _modules[ i ];\n\n            if ( isFunction( module.isActive ) ) {\n                // isActive method should rebuild module variables\n                if ( module.isActive() ) {\n                    _synced.active.push( module );\n\n                } else {\n                    _synced.inactive.push( module );\n                }\n            }\n        }\n\n        fire( \"router-synced-modules\", _synced );\n    },\n\n\n    onRouterResponse = function ( data ) {\n        if ( _isRoutingActive ) {\n            return;\n        }\n\n        _isRoutingActive = true;\n\n        function __route() {\n            if ( (Date.now() - _timeBefore) >= _instance._options.transitionTime ) {\n                _instance.stop();\n\n                handleRouterResponse( data );\n            }\n        }\n\n        _instance.go( __route );\n    },\n\n\n    onPopGetRouter = function ( data ) {\n        if ( _isRoutingActive ) {\n            return;\n        }\n\n        onPreGetRouter( data.request );\n    \n        setTimeout( function () {\n            handleRouterResponse( data );\n\n        }, _instance._options.transitionTime );\n    },\n\n\n    /**\n     * @fires page-controller-router-transition-out\n     * @fires page-controller-router-samepage\n     */\n    onPreGetRouter = function ( data ) {\n        if ( _isRoutingActive ) {\n            return;\n        }\n\n        var isSameRequest = (_currentToString === getRouteDataToString( data ));\n\n        if ( isSameRequest ) {\n            fire( \"router-samepage\", {\n                request: data\n            });\n            _isSamePage = true;\n            return;\n        }\n\n        _timeBefore = Date.now();\n\n        if ( !_isFirstRoute ) {\n            fire( \"router-transition-out\", {\n                request: data\n            });\n        }\n    },\n\n\n    /**\n     * @fires page-controller-router-refresh-document\n     * @fires page-controller-router-transition-in\n     */\n    handleRouterResponse = function ( res ) {\n        if ( _isSamePage ) {\n            _isSamePage = false;\n            _isRoutingActive = false;\n            return;\n        }\n\n        var data = {\n            response: res.response.responseText,\n            request: res.request,\n            status: res.status\n        };\n\n        _currentRoute = data.request.uri;\n        _currentQuery = data.request.query;\n        _currentToString = getRouteDataToString( data.request );\n\n        // Think of this as window.onload, happens once\n        if ( _isFirstRoute ) {\n            _isFirstRoute = false;\n            _isRoutingActive = false;\n            syncModules();\n            execOnload();\n\n            fire( \"initialized-page\", data );\n\n        // All other Router sequences fall here\n        } else {\n            // Allow transition duration to take place\n            setTimeout(function () {\n                // 0.1 Sync modules and unload active ones\n                syncModules();\n                execUnload();\n\n                // 0.2 Refresh the document content\n                fire( \"router-refresh-document\", data );\n\n                // 0.3 Sync modules and onload newly active ones\n                syncModules();\n                execOnload();\n\n                // 0.4 Trigger transition of content to come back in\n                fire( \"router-transition-in\", data );\n\n                _isRoutingActive = false;\n\n                // 0.5 Check `silent` mode\n                if ( _silentMode ) {\n                    _silentMode = false;\n\n                    if ( isFunction( _silentCallback ) ) {\n                        _silentCallback( data );\n                        _silentCallback = null;\n                    }\n                }\n\n            }, _instance._options.transitionTime );\n        }\n    };\n\n\n    /**\n     *\n     * Page transition manager\n     * @constructor PageController\n     * @augments Controller\n     * @requires Controller\n     * @requires Router\n     * @memberof! <global>\n     * @param {object} options Settings for control features\n     * <ul>\n     * <li>transitionTime</li>\n     * <li>routerOptions</li>\n     * </ul>\n     *\n     */\n    var PageController = function ( options ) {\n        // Singleton\n        if ( !_instance ) {\n            _instance = this;\n\n            /**\n             *\n             * The default options\n             * @memberof _options\n             * @member _routerOptions\n             * @private\n             *\n             */\n            this._options = {\n                transitionTime: _timeDelay,\n                routerOptions: {\n                    pushStateOptions: {}\n                }\n            };\n\n            // Normalize usage options passed in\n            options = (options || {});\n\n            // Merge usage options with defaults\n            if ( options.transitionTime ) {\n                this._options.transitionTime = options.transitionTime;\n            }\n\n            if ( options.routerOptions ) {\n                for ( var i in options.routerOptions ) {\n                    this._options.routerOptions[ i ] = options.routerOptions[ i ];\n                }\n            }\n        }\n\n        return _instance;\n    };\n\n    PageController.prototype = new Controller();\n\n    /**\n     *\n     * Initialize controller on page\n     * @memberof PageController\n     * @method initPage\n     *\n     */\n    PageController.prototype.initPage = function () {\n        if ( _initialized ) {\n            return;\n        }\n\n        _initialized = true;\n\n        /**\n         *\n         * Instance of Router\n         * @private\n         *\n         */\n        _router = new Router( this._options.routerOptions );\n\n        if ( _router._matcher.parse( window.location.href, _config ).matched ) {\n            _router.bind();\n\n            for ( var i = _config.length; i--; ) {\n                _router.get( _config[ i ], onRouterResponse );\n            }\n\n            _router.on( \"preget\", onPreGetRouter );\n            _router.on( \"popget\", onPopGetRouter );\n\n            execInit();\n        }\n    };\n\n    /**\n     *\n     * Trigger the router on a uri and run PageController `silently`, so no events fire.\n     * @memberof PageController\n     * @method routeSilently\n     * @param {string} uri The route to trigger\n     * @param {function} cb The optional callback to fire when done\n     *\n     */\n    PageController.prototype.routeSilently = function ( uri, cb ) {\n        _silentMode = true;\n        _silentCallback = cb;\n        _router.trigger( uri );\n    };\n\n    /**\n     *\n     * Set the Router configuration\n     * @memberof PageController\n     * @method setConfig\n     * @param {object} config The config for MatchRoute\n     *\n     */\n    PageController.prototype.setConfig = function ( config ) {\n        _config = config;\n    };\n\n    /**\n     *\n     * Set the module configuration\n     * @memberof PageController\n     * @method setModules\n     * @param {object} modules The array of module objects\n     *\n     */\n    PageController.prototype.setModules = function ( modules ) {\n        if ( !modules ) {\n            return;\n        }\n\n        for ( var i = modules.length; i--; ) {\n            this.addModule( modules[ i ] );\n        }\n    };\n\n    /**\n     *\n     * Add to the module configuration\n     * @memberof PageController\n     * @method addModule\n     * @param {object} module The module object to add\n     *\n     */\n    PageController.prototype.addModule = function ( module ) {\n        if ( _modules.indexOf( module ) === -1 && isFunction( module.isActive ) && isFunction( module.onload ) && isFunction( module.unload ) ) {\n            _modules.push( module );\n\n        } else {\n            throw new Error( \"PageController ERROR - All registered modules require isActive, onload and unload methods.\" );\n        }\n    };\n\n    /**\n     *\n     * Returns the array of modules\n     * @memberof PageController\n     * @method getModules\n     * @returns array\n     *\n     */\n    PageController.prototype.getModules = function () {\n        return _modules;\n    };\n\n    /**\n     *\n     * Returns the MatchRoute config\n     * @memberof PageController\n     * @method getConfig\n     * @returns array\n     *\n     */\n    PageController.prototype.getConfig = function () {\n        return _config;\n    };\n\n    /**\n     *\n     * Returns the instances Router\n     * @memberof PageController\n     * @method getRouter\n     * @returns Router\n     *\n     */\n    PageController.prototype.getRouter = function () {\n        return _router;\n    };\n\n    /**\n     *\n     * Returns the instances PushState\n     * @memberof PageController\n     * @method getPusher\n     * @returns PushState\n     *\n     */\n    PageController.prototype.getPusher = function () {\n        return _router._pusher;\n    };\n\n    /**\n     *\n     * Returns the instances MatchRoute\n     * @memberof PageController\n     * @method getMatcher\n     * @returns MatchRoute\n     *\n     */\n    PageController.prototype.getMatcher = function () {\n        return _router._matcher;\n    };\n\n    /**\n     *\n     * Returns the current route pathed\n     * @memberof PageController\n     * @method getRoute\n     * @returns string\n     *\n     */\n    PageController.prototype.getRoute = function () {\n        return _currentRoute;\n    };\n\n    /**\n     *\n     * Returns the current query params object\n     * @memberof PageController\n     * @method getQuery\n     * @returns string\n     *\n     */\n    PageController.prototype.getQuery = function () {\n        return _currentQuery;\n    };\n\n    return PageController;\n\n});","/*!\n *\n * Handles basic get routing\n *\n * @Router\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.Router = factory();\n    }\n\n})(function () {\n\n    var PushState = require( \"properjs-pushstate\" ),\n        MatchRoute = require( \"properjs-matchroute\" ),\n        matchElement = require( \"properjs-matchelement\" ),\n        _initDelay = 200,\n        _triggerEl,\n        _activeEl;\n\n\n    /**\n     *\n     * A simple router Class\n     * @constructor Router\n     * @requires PushState\n     * @requires MatchRoute\n     * @requires matchElement\n     * @memberof! <global>\n     *\n     */\n    var Router = function () {\n        return this.init.apply( this, arguments );\n    };\n\n    Router.prototype = {\n        constructor: Router,\n\n        /**\n         *\n         * Expression match http/https\n         * @memberof Router\n         * @member _rHTTPs\n         * @private\n         *\n         */\n        _rHTTPs: /^http[s]?:\\/\\/.*?\\//,\n\n        /**\n         *\n         * Expression match common file types...\n         * @memberof Router\n         * @member _rFiles\n         * @private\n         *\n         */\n        _rFiles: /\\.(jpg|jpeg|png|gif|pdf|csv|txt|md|doc|docx|xls|xlsx|webm|mp4|mp3)$/gi,\n\n        /**\n         *\n         * Expression match this documents domain\n         * @memberof Router\n         * @member _rDomain\n         * @private\n         *\n         */\n        _rDomain: new RegExp( document.domain ),\n\n        /**\n         *\n         * Flag routing state\n         * @memberof Router\n         * @member _isRouting\n         * @private\n         *\n         */\n        _isRouting: false,\n\n        /**\n         *\n         * Router init constructor method\n         * @memberof Router\n         * @method init\n         * @param {object} options Settings for PushState\n         * <ul>\n         * <li>options.caching</li>\n         * <li>options.proxy</li>\n         * <li>options.proxy.domain</li>\n         * <li>options.handle404</li>\n         * <li>options.handle500</li>\n         * <li>options.pushStateOptions</li>\n         * </ul>\n         *\n         * @fires preget\n         * @fires popget\n         * @fires get\n         *\n         */\n        init: function ( options ) {\n            /**\n             *\n             * Router Store user options\n             * @memberof Router\n             * @member _options\n             * @private\n             *\n             */\n            this._options = {\n                async: true,\n                proxy: false,\n                caching: true,\n                handle404: true,\n                handle500: true,\n                pushStateOptions: {}\n            };\n\n            // Normalize usage options passed in\n            options = (options || {});\n\n            // Merge usage options with defaults\n            for ( var i in options ) {\n                this._options[ i ] = options[ i ];\n            }\n\n            /**\n             *\n             * Internal MatchRoute instance\n             * @memberof Router\n             * @member _matcher\n             * @private\n             *\n             */\n            this._matcher = new MatchRoute();\n\n            /**\n             *\n             * Internal PushState instance\n             * @memberof Router\n             * @member _pusher\n             * @private\n             *\n             */\n            this._pusher = new PushState( this._options.pushStateOptions );\n\n            /**\n             *\n             * Event handling callbacks\n             * @memberof Router\n             * @member _callbacks\n             * @private\n             *\n             */\n            this._callbacks = {};\n\n            /**\n             *\n             * Stored XHR responses\n             * @memberof Router\n             * @member _responses\n             * @private\n             *\n             */\n            this._responses = {};\n\n            /**\n             *\n             * Router unique ID\n             * @memberof Router\n             * @member _uid\n             * @private\n             *\n             */\n            this._uid = 0;\n\n            /**\n             *\n             * Router is READY status ?\n             * @memberof Router\n             * @member _ready\n             * @private\n             *\n             */\n            this._ready = false;\n        },\n\n        /**\n         *\n         * Create PushState instance and add event listener\n         * @memberof Router\n         * @method bind\n         *\n         */\n        bind: function () {\n            var self = this,\n                // Ensure this first cache URL is clean as a whistle\n                url = window.location.href.replace( window.location.hash, \"\" );\n\n            // Bind GET requests to links\n            document.addEventListener( \"click\", function ( e ) {\n                self._handleClick( this, e );\n\n            }, false );\n\n            // Bind popstate event for history\n            this._pusher.on( \"popstate\", function ( url, state ) {\n                self._handlePopstate( url, state );\n            });\n\n            // Fire first route\n            // Async this in order to allow .get() to work after instantiation\n            if ( this._options.async && this._options.handle404 ) {\n                this._route( url, function ( response, status ) {\n                    self._ready = true;\n                });\n\n            // Shim a little and bypass true XHR here if not handling 404s\n            } else {\n                setTimeout(function () {\n                    // https://developer.mozilla.org/en-US/docs/Web/API/XMLSerializer\n                    var doc = new XMLSerializer().serializeToString( document );\n                    var xhr = {\n                        status: 200,\n                        responseText: doc\n                    };\n\n                    self._fire( \"get\", url, xhr, xhr.status );\n                    self._cache( url, xhr );\n                    self._ready = true;\n\n                }, _initDelay );\n            }\n        },\n\n        /**\n         *\n         * Add an event listener\n         * Binding \"beforeget\" and \"afterget\" wraps the XHR request\n         * @memberof Router\n         * @method on\n         * @param {string} event The event to bind to\n         * @param {function} callback The function to call\n         *\n         */\n        on: function ( event, callback ) {\n            this._bind( event, callback );\n        },\n\n        /**\n         *\n         * Remove an event listener\n         * @memberof Router\n         * @method off\n         * @param {string} event The event to unbind\n         * @param {function} callback The function to reference\n         *\n         */\n        off: function ( event, callback ) {\n            this._unbind( event, callback );\n        },\n\n        /**\n         *\n         * Support router triggers by url\n         * @memberof Router\n         * @method trigger\n         * @param {string} url The url to route to\n         *\n         */\n        trigger: function ( url ) {\n            if ( !_triggerEl ) {\n                _triggerEl = document.createElement( \"a\" );\n            }\n\n            _triggerEl.href = url;\n\n            this._handleClick( _triggerEl, {\n                target: _triggerEl\n            });\n        },\n\n        /**\n         *\n         * Bind a GET request route\n         * @memberof Router\n         * @method get\n         * @param {string} route route to match\n         * @param {function} callback function to call when route is requested\n         *\n         */\n        get: function ( route, callback ) {\n            // Add route to matcher\n            this._matcher.config( [route] );\n\n            // Bind the route to the callback\n            if ( callback._routerRoutes ) {\n                callback._routerRoutes.push( route );\n\n            } else {\n                callback._routerRoutes = [route];\n            }\n\n            // When binding multiple routes to a single\n            // callback, we need to make sure the callbacks\n            // routes array is updated above but the callback\n            // only gets added to the list once.\n            if ( callback._routerRoutes.length === 1 ) {\n                this._bind( \"get\", callback );\n            }\n        },\n\n        getActiveEl: function () {\n            return _activeEl;\n        },\n\n        /**\n         *\n         * Get a sanitized route for a url\n         * @memberof Router\n         * @method getRouteForUrl\n         * @param {string} url The url to use\n         * @returns {string}\n         *\n         */\n        getRouteForUrl: function ( url ) {\n            return this._matcher._cleanRoute( url );\n        },\n\n        /**\n         *\n         * Get the match data for a url against the routes config\n         * @memberof Router\n         * @method getRouteDataForUrl\n         * @param {string} url The url to use\n         * @returns {object}\n         *\n         */\n        getRouteDataForUrl: function ( url ) {\n            return this._matcher.parse( url, this._matcher.getRoutes() ).params;\n        },\n\n        /**\n         *\n         * Get a unique ID\n         * @memberof Router\n         * @method getUID\n         * @returns number\n         *\n         */\n        getUID: function () {\n            this._uid = (this._uid + 1);\n\n            return this._uid;\n        },\n\n        /**\n         * Compatible event preventDefault\n         * @memberof Router\n         * @method _preventDefault\n         * @param {object} e The event object\n         * @private\n         *\n         */\n        _preventDefault: function ( e ) {\n            if ( e.preventDefault ) {\n                e.preventDefault();\n\n            } else {\n                e.returnValue = false;\n            }\n        },\n\n        /**\n         * GET click event handler\n         * @memberof Router\n         * @method _handleClick\n         * @param {object} el The event context element\n         * @param {object} e The event object\n         * @private\n         *\n         * @fires get\n         *\n         */\n        _handleClick: function ( el, e ) {\n            var elem = (matchElement( el, \"a\", true ) || matchElement( e.target, \"a\", true )),\n                isMatched = elem && this._matcher.test( elem.href ),\n                isDomain = elem && this._rDomain.test( elem.href ),\n                isProxy = elem && this._options.proxy && this._options.proxy.domain,\n                isHashed = elem && elem.href.indexOf( \"#\" ) !== -1,\n                isIgnore = elem && elem.className.indexOf( \"js-router--ignore\" ) !== -1,\n                isMetaKey = elem && e.metaKey,\n                isBlank = elem && elem.target === \"_blank\",\n                isFile = elem && isDomain && elem.href.match( this._rFiles );\n\n            // 0.1 => Ensure url passes MatchRoute config\n            // 0.2 => Ensure url is on the Document's Domain\n            // 0.X => Allow proxy domain's to go through this checkpoint\n            if ( (isMatched && isDomain) || isProxy ) {\n                // 0.3 => Ensure url is not a #hash\n                // 0.4 => Ensure the element does not contain a `js-router--ignore` className\n                // 0.5 => Ensure the Event.metaKey is not TRUE - Command+click\n                // 0.6 => Ensure the element target is not for a new tab\n                // 0.7 => Ensure url is not a file link on the same document domain\n                if ( !isHashed && !isIgnore && !isMetaKey && !isBlank && !isFile ) {\n                    _activeEl = elem;\n\n                    this._preventDefault( e );\n\n                    if ( !this._isRouting ) {\n                        this._route( elem.href );\n                    }\n                }\n            }\n        },\n\n        /**\n         * Handle history popstate event from PushState\n         * @memberof Router\n         * @method _handlePopstate\n         * @param {string} url The url popped to\n         * @param {object} state The PushState state object\n         * @private\n         *\n         * @fires get\n         *\n         */\n        _handlePopstate: function ( url, state ) {\n            // Hook around browsers firing popstate on pageload\n            if ( this._ready ) {\n                for ( var i = this._callbacks.get.length; i--; ) {\n                    var dat = this._matcher.parse( url, this._callbacks.get[ i ]._routerRoutes );\n\n                    if ( dat.matched ) {\n                        break;\n                    }\n                }\n\n                data = {\n                    route: this._matcher._cleanRoute( url ),\n                    response: this._responses[ url ],\n                    request: dat,\n                    status: this._responses[ url ].status\n                };\n\n                this._fire( \"popget\", url, data );\n\n            } else {\n                this._ready = true;\n            }\n        },\n\n        /**\n         * Execute the route\n         * @memberof Router\n         * @method _route\n         * @param {string} url The url in question\n         * @param {function} callback Optional, fired with done\n         * @private\n         *\n         */\n        _route: function ( url, callback ) {\n            var self = this,\n                urls = {\n                    // For XHR\n                    request: url,\n\n                    // For pushState and Cache\n                    original: url\n                };\n\n            this._isRouting = true;\n\n            this._matchUrl( urls.original );\n\n            // Handle proxy first since we modify the request URL\n            // Basically, just piece together a URL that swaps this domain with proxy domain\n            if ( this._options.proxy && this._options.proxy.domain ) {\n                // Use window.location.host so it includes port for localhost\n                urls.request = (this._options.proxy.domain + \"/\" + urls.request.replace( this._rHTTPs, \"\" ));\n            }\n\n            this._getUrl( urls, function ( response, status ) {\n                self._isRouting = false;\n\n                // Push the URL to window History\n                self._pusher.push( urls.original );\n\n                // Fire event for routing\n                self._fire( \"get\", urls.original, response, status );\n\n                if ( typeof callback === \"function\" ) {\n                    callback( response, status );\n                }\n            });\n        },\n\n        /**\n         * Match a URL and fire \"preget\"\n         * @memberof Router\n         * @method _matchUrl\n         * @param {string} url The url in question\n         * @private\n         *\n         */\n        _matchUrl: function ( url ) {\n            if ( !this._ready ) {\n                return;\n            }\n\n            for ( var i = this._callbacks.get.length; i--; ) {\n                var data = this._matcher.parse( url, this._callbacks.get[ i ]._routerRoutes );\n\n                if ( data.matched ) {\n                    this._fire( \"preget\", url, data );\n                    break;\n                }\n            }\n        },\n\n        /**\n         *\n         * Request a url with an XMLHttpRequest\n         * @memberof Router\n         * @method _getUrl\n         * @param {object} urls The urls to request / push / cache\n         * @param {function} callback The function to call when done\n         * @private\n         *\n         */\n        _getUrl: function ( urls, callback ) {\n            var handler = function ( res, stat ) {\n                    try {\n                        // Cache if option enabled\n                        self._cache( urls.original, res );\n\n                        if ( typeof callback === \"function\" ) {\n                            callback( res, stat );\n                        }\n\n                    } catch ( error ) {}\n                },\n                xhr = null,\n                self = this;\n\n            // Cached response ?\n            if ( this._responses[ urls.original ] ) {\n                handler( this._responses[ urls.original ], this._responses[ urls.original ].status );\n\n            // Fresh request ?\n            } else if ( this._options.async ) {\n                xhr = new XMLHttpRequest();\n\n                xhr.open( \"GET\", urls.request, true );\n\n                xhr.onreadystatechange = function ( e ) {\n                    if ( this.readyState === 4 ) {\n                        if ( this.status === 200 ) {\n                            handler( this, 200 );\n\n                        } else if ( this.status === 404 && self._options.handle404 ) {\n                            handler( this, 404 );\n\n                        } else if ( this.status === 500 && self._options.handle500 ) {\n                            handler( this, 500 );\n                        }\n                    }\n                };\n\n                xhr.send();\n\n            } else {\n                handler( { responseText: \"\" }, 200 );\n            }\n        },\n\n        /**\n         *\n         * Cache an XHR response object\n         * @memberof Router\n         * @method _cache\n         * @param {string} url The url to cache for\n         * @param {object} res The XHR object\n         * @private\n         *\n         */\n        _cache: function ( url, res ) {\n            // Caching is enabled, Not currently cached yet\n            if ( this._options.caching && !this._responses[ url ] ) {\n                this._responses[ url ] = res;\n            }\n        },\n\n        /**\n         *\n         * Bind an event to a callback\n         * @memberof Router\n         * @method _bind\n         * @param {string} event what to bind on\n         * @param {function} callback fired on event\n         * @private\n         *\n         */\n        _bind: function ( event, callback ) {\n            if ( typeof callback === \"function\" ) {\n                if ( !this._callbacks[ event ] ) {\n                    this._callbacks[ event ] = [];\n                }\n\n                callback._jsRouterID = this.getUID();\n\n                this._callbacks[ event ].push( callback );\n            }\n        },\n\n        /**\n         *\n         * Unbind an event to a callback(s)\n         * @memberof Router\n         * @method _bind\n         * @param {string} event what to bind on\n         * @param {function} callback fired on event\n         * @private\n         *\n         */\n        _unbind: function ( event, callback ) {\n            if ( !this._callbacks[ event ] ) {\n                return this;\n            }\n\n            // Remove a single callback\n            if ( callback ) {\n                for ( var i = 0, len = this._callbacks[ event ].length; i < len; i++ ) {\n                    if ( callback._jsRouterID === this._callbacks[ event ][ i ]._jsRouterID ) {\n                        this._callbacks[ event ].splice( i, 1 );\n\n                        break;\n                    }\n                }\n\n            // Remove all callbacks for event\n            } else {\n                for ( var j = this._callbacks[ event ].length; j--; ) {\n                    this._callbacks[ event ][ j ] = null;\n                }\n\n                delete this._callbacks[ event ];\n            }\n        },\n\n        /**\n         *\n         * Fire an event to a callback\n         * @memberof Router\n         * @method _fire\n         * @param {string} event what to bind on\n         * @param {string} url fired on event\n         * @param {string} response html from responseText\n         * @param {number} status The request status\n         * @private\n         *\n         */\n        _fire: function ( event, url, response, status ) {\n            var i;\n\n            // GET events have routes and are special ;-P\n            if ( event === \"get\" ) {\n                for ( i = this._callbacks[ event ].length; i--; ) {\n                    var data = this._matcher.parse( url, this._callbacks[ event ][ i ]._routerRoutes );\n\n                    if ( data.matched ) {\n                        this._callbacks[ event ][ i ].call( this, {\n                            route: this._matcher._cleanRoute( url ),\n                            response: response,\n                            request: data,\n                            status: status\n                        });\n                    }\n                }\n\n            // Fires basic timing events \"preget\", \"popget\"\n            } else if ( this._callbacks[ event ] ) {\n                for ( i = this._callbacks[ event ].length; i--; ) {\n                    this._callbacks[ event ][ i ].call( this, response );\n                }\n            }\n        }\n    };\n\n\n    return Router;\n\n});\n","/*!\n *\n * Handles history pushstate/popstate with async option\n * If history is not supported, falls back to hashbang!\n *\n * @PushState\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n\n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.PushState = factory();\n    }\n\n})(function () {\n\n    /**\n     *\n     * A simple pushState Class\n     * @constructor PushState\n     * @memberof! <global>\n     *\n     */\n    var PushState = function () {\n        return this.init.apply( this, arguments );\n    };\n\n    PushState.prototype = {\n        constructor: PushState,\n\n        /**\n         *\n         * Flag whether pushState is enabled\n         * @memberof PushState\n         * @member _pushable\n         * @private\n         *\n         */\n        _pushable: (\"history\" in window && \"pushState\" in window.history),\n\n        /**\n         *\n         * Fallback to hashchange if needed. Support:\n         * <ul>\n         * <li>Internet Explorer 8</li>\n         * <li>Firefox 3.6</li>\n         * <li>Chrome 5</li>\n         * <li>Safari 5</li>\n         * <li>Opera 10.6</li>\n         * </ul>\n         * @memberof PushState\n         * @member _hashable\n         * @private\n         *\n         */\n        _hashable: (\"onhashchange\" in window),\n\n        /**\n         *\n         * PushState init constructor method\n         * @memberof PushState\n         * @method PushState.init\n         * @param {object} options Settings for PushState\n         * <ul>\n         * <li>options.forceHash</li>\n         * </ul>\n         *\n         * @fires backstate\n         * @fires forwardstate\n         * @fires popstate\n         *\n         */\n        init: function ( options ) {\n            /**\n             *\n             * Ensure this first cache URL is clean as a whistle\n             * @memberof PushState\n             * @member _initUrl\n             * @private\n             *\n             */\n            this._initUrl = window.location.href.replace( window.location.hash, \"\" );\n\n            /**\n             *\n             * User options for usage\n             * @memberof PushState\n             * @member _options\n             * @private\n             *\n             */\n            this._options = (options || {});\n\n            /**\n             *\n             * Flag whether state is enabled\n             * @memberof PushState\n             * @member _enabled\n             * @private\n             *\n             */\n            this._enabled = false;\n\n            /**\n             *\n             * Flag when hash is changed by PushState\n             * This allows appropriate replication of popstate\n             * @memberof PushState\n             * @member _ishashpushed\n             * @private\n             *\n             */\n            this._ishashpushed = false;;\n\n            /**\n             *\n             * Unique ID ticker\n             * @memberof PushState\n             * @member _uid\n             * @private\n             *\n             */\n            this._uid = 0;\n\n            /**\n             *\n             * Stored state objects\n             * @memberof PushState\n             * @member _states\n             * @private\n             *\n             */\n            this._states = {};\n\n            /**\n             *\n             * Event callbacks\n             * @memberof PushState\n             * @member _callbacks\n             * @private\n             *\n             */\n            this._callbacks = {};\n\n            // Set initial state\n            this._states[ this._initUrl ] = {\n                uid: this.getUID()\n            };\n\n            // Enable popstate management\n            this._stateEnable();\n        },\n\n        /**\n         *\n         * Bind a callback to an event\n         * @memberof PushState\n         * @method on\n         * @param {string} event The event to bind to\n         * @param {function} callback The function to call\n         *\n         */\n        on: function ( event, callback ) {\n            if ( typeof callback === \"function\" ) {\n                if ( !this._callbacks[ event ] ) {\n                    this._callbacks[ event ] = [];\n                }\n\n                callback._pushstateID = this.getUID();\n                callback._pushstateType = event;\n\n                this._callbacks[ event ].push( callback );\n            }\n        },\n\n        /**\n         *\n         * Unbind a callback to an event\n         * @memberof PushState\n         * @method off\n         * @param {string} event The event that was bound\n         * @param {function} callback The function to remove\n         *\n         */\n        off: function ( event, callback ) {\n            if ( this._callbacks[ event ] ) {\n                for ( var i = this._callbacks[ event ].length; i--; ) {\n                    if ( this._callbacks[ event ][ i ]._pushstateID === callback._pushstateID ) {\n                        this._callbacks[ event ].splice( i, 1 );\n                        break;\n                    }\n                }\n            }\n        },\n\n        /**\n         *\n         * Push onto the History state\n         * @memberof PushState\n         * @method push\n         * @param {string} url address to push to history\n         *\n         */\n        push: function ( url ) {\n            // Dont push current URL\n            if ( url === window.location.href ) {\n                return;\n            }\n\n            this._push( url );\n\n            this._states[ url ] = {\n                uid: this.getUID()\n            };\n        },\n\n        /**\n         *\n         * Manually go back in history state\n         * @memberof PushState\n         * @method goBack\n         *\n         * @fires backstate\n         *\n         */\n        goBack: function () {\n            window.history.back();\n\n            this._fire( \"backstate\" );\n        },\n\n        /**\n         *\n         * Manually go forward in history state\n         * @memberof PushState\n         * @method goForward\n         *\n         * @fires forwardstate\n         *\n         */\n        goForward: function () {\n            window.history.forward();\n\n            this._fire( \"forwardstate\" );\n        },\n\n        /**\n         *\n         * Get a unique ID\n         * @memberof PushState\n         * @method getUID\n         * @returns number\n         *\n         */\n        getUID: function () {\n            this._uid = (this._uid + 1);\n\n            return this._uid;\n        },\n\n        /**\n         *\n         * Calls window.history.pushState\n         * @memberof PushState\n         * @method _push\n         * @param {string} url The url to push\n         * @private\n         *\n         */\n        _push: function ( url ) {\n            if ( this._pushable && !this._options.forceHash ) {\n                window.history.pushState( this._states[ url ], \"\", url );\n\n            } else {\n                // This replace ensures we get the following:\n                // \"/\":         root\n                // \"/foo/bar/\": uri path\n                var hashUri = url.replace( window.location.origin, \"\" );\n\n                // Fix for root hash uri.\n                // Ensure we dont get the following:\n                // \"/foo/bar/#/foo/bar/\"\n                // Rather we would get the following:\n                // \"/foo/bar/#/\"\n                if ( hashUri === window.location.pathname ) {\n                    hashUri = \"/\";\n                }\n\n                this._ishashpushed = true;\n\n                window.location.hash = hashUri;\n            }\n        },\n\n        /**\n         *\n         * Fire an events callbacks\n         * @memberof PushState\n         * @method _fire\n         * @param {string} event The event to fire\n         * @param {string} url The current url\n         * @private\n         *\n         */\n        _fire: function ( event, url ) {\n            if ( this._callbacks[ event ] ) {\n                for ( var i = this._callbacks[ event ].length; i--; ) {\n                    this._callbacks[ event ][ i ].apply( this, [].slice.call( arguments, 1 ) );\n                }\n            }\n        },\n\n        /**\n         *\n         * Bind this instances state handler\n         * @memberof PushState\n         * @method _stateEnabled\n         * @private\n         *\n         * @fires popstate\n         *\n         */\n        _stateEnable: function () {\n            if ( this._enabled ) {\n                return this;\n            }\n\n            var self = this,\n                handler = function () {\n                    var url = window.location.href,\n                        roots = [\"#/\", \"#\", \"\"];\n\n                    // Ensure we clean out the hash for Router\n                    // Example:\n                    // Start:  http://localhost/foo/#/bar/\n                    // Result: http://localhost/foo/bar/\n                    if ( self._options.forceHash ) {\n                        // Shave the hash from the end of the URL\n                        url = url.replace( window.location.hash, \"\" );\n\n                        // Shave the hash root from the end of the URL\n                        url = url.replace( window.location.pathname, \"\" );\n\n                        // Empty hash means we have gone back to root\n                        if ( roots.indexOf( window.location.hash ) !== -1 ) {\n                            // Append the hash root to the URL\n                            url = (url + window.location.pathname);\n\n                        } else {\n                            // Append the applied hash pathname to the URL\n                            url = (url + window.location.hash.replace( \"#\", \"\" ));\n                        }\n                    }\n\n                    self._fire( \"popstate\", url, self._states[ url ] );\n                };\n\n            this._enabled = true;\n\n            if ( this._pushable && !this._options.forceHash ) {\n                window.addEventListener( \"popstate\", function ( e ) {\n                    handler();\n\n                }, false );\n\n            } else if ( this._hashable ) {\n                // For hashstate we should apply initial hash on page load\n                this._push( this._initUrl );\n\n                window.addEventListener( \"hashchange\", function ( e ) {\n                    if ( !self._ishashpushed ) {\n                        handler();\n\n                    } else {\n                        self._ishashpushed = false;\n                    }\n\n                }, false );\n            }\n        }\n    };\n\n    return PushState;\n\n});","/*!\n *\n * Handles wildcard route matching against urls with !num and !slug condition testing\n *\n * @MatchRoute\n * @author: kitajchuk\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.MatchRoute = factory();\n    }\n    \n})(function () {\n\n    var paramalama = require( \"paramalama\" ),\n\n    /**\n     *\n     * Handles wildcard route matching against urls with !num and !slug condition testing\n     * <ul>\n     * <li>route = \"/some/random/path/:myvar\"</li>\n     * <li>route = \"/some/random/path/:myvar!num\"</li>\n     * <li>route = \"/some/random/path/:myvar!slug\"</li>\n     * </ul>\n     * @constructor MatchRoute\n     * @memberof! <global>\n     * @requires paramalama\n     *\n     */\n    MatchRoute = function () {\n        return this.init.apply( this, arguments );\n    };\n    \n    MatchRoute.prototype = {\n        constructor: MatchRoute,\n        \n        /**\n         *\n         * Expression match http/https\n         * @memberof MatchRoute\n         * @member _rHTTPs\n         * @private\n         *\n         */\n        _rHTTPs: /^http[s]?:\\/\\/.*?\\//,\n        \n        /**\n         *\n         * Expression match trail slashes\n         * @memberof MatchRoute\n         * @member _rTrails\n         * @private\n         *\n         */\n        _rTrails: /^\\/|\\/$/g,\n        \n        /**\n         *\n         * Expression match hashbang/querystring\n         * @memberof MatchRoute\n         * @member _rHashQuery\n         * @private\n         *\n         */\n        _rHashQuery: /#.*$|\\?.*$/g,\n        \n        /**\n         *\n         * Expression match wildcards\n         * @memberof MatchRoute\n         * @member _rWild\n         * @private\n         *\n         */\n        _rWild: /^:/,\n        \n        /**\n         *\n         * Expressions to match wildcards with supported conditions\n         * @memberof MatchRoute\n         * @member _wilders\n         * @private\n         *\n         */\n        _wilders: {\n            num: /^[0-9]+$/,\n            slug: /^[A-Za-z]+[A-Za-z0-9-_.]*$/\n        },\n        \n        \n        /**\n         *\n         * MatchRoute init constructor method\n         * @memberof MatchRoute\n         * @method init\n         * @param {array} routes Config routes can be passed on instantiation\n         *\n         */\n        init: function ( routes ) {\n            /**\n             *\n             * The routes config array\n             * @memberof MatchRoute\n             * @member _routes\n             * @private\n             *\n             */\n            this._routes = ( routes ) ? this._cleanRoutes( routes ) : [];\n        },\n    \n        /**\n         *\n         * Get the internal route array\n         * @memberof MatchRoute\n         * @method MatchRoute.getRoutes\n         * @returns {array}\n         *\n         */\n        getRoutes: function () {\n            return this._routes;\n        },\n        \n        /**\n         *\n         * Update routes config array\n         * @memberof MatchRoute\n         * @method config\n         * @param {array} routes to match against\n         *\n         */\n        config: function ( routes ) {\n            // Force array on routes\n            routes = ( typeof routes === \"string\" ) ? [ routes ] : routes;\n    \n            this._routes = this._routes.concat( this._cleanRoutes( routes ) );\n            \n            return this;\n        },\n        \n        /**\n         *\n         * Test a url against a routes config for match validation\n         * @memberof MatchRoute\n         * @method test\n         * @param {string} url to test against routes\n         * @returns True or False\n         *\n         */\n        test: function ( url ) {\n            return this.parse( url, this._routes ).matched;\n        },\n        \n        /**\n         *\n         * Match a url against a routes config for matches\n         * @memberof MatchRoute\n         * @method params\n         * @param {string} url to test against routes\n         * @returns Array of matching routes\n         *\n         */\n        params: function ( url ) {\n            return this.parse( url, this._routes ).params;\n        },\n        \n        /**\n         *\n         * Compare a url against a specific route\n         * @memberof MatchRoute\n         * @method compare\n         * @param {string} route compare route\n         * @param {string} url compare url\n         * @returns MatchRoute.parse()\n         *\n         */\n        compare: function ( route, url ) {\n            return this.parse( url, [route] );\n        },\n        \n        /**\n         *\n         * Parse a url for matches against config array\n         * @memberof MatchRoute\n         * @method parse\n         * @param {string} url to test against routes\n         * @param {array} routes The routes to test against\n         * @returns Object witch match bool and matches array\n         *\n         */\n        parse: function ( url, routes ) {\n            var segMatches,\n                isStar,\n                params,\n                match,\n                route = this._cleanRoute( url ),\n                ruris,\n                regex,\n                cond,\n                uris = route.split( \"/\" ),\n                uLen = uris.length,\n                iLen = routes.length,\n                ret;\n            \n            for ( var i = 0; i < iLen; i++ ) {\n                // Flag \"*\" route\n                isStar = (routes[ i ] === \"*\");\n                \n                // Start fresh each iteration\n                // Only one matched route allowed\n                ret = {\n                    matched: false,\n                    route: null,\n                    uri: [],\n                    params: {},\n                    query: paramalama( url )\n                };\n                \n                ruris = routes[ i ].split( \"/\" );\n                \n                // Handle route === \"/\"\n                if ( route === \"/\" && routes[ i ] === \"/\" ) {\n                    ret.matched = true;\n                    ret.route = routes[ i ];\n                    ret.uri = \"/\";\n                    \n                    break;\n                }\n                \n                // If the actual url doesn't match the route in segment length,\n                // it cannot possibly be considered for matching so just skip it\n                if ( ruris.length !== uris.length && !isStar ) {\n                    continue;\n                }\n                \n                segMatches = 0;\n                \n                for ( var j = 0; j < uLen; j++ ) {\n                    // Matched a variable uri segment\n                    if ( this._rWild.test( ruris[ j ] ) ) {\n                        // Try to split on conditions\n                        params = ruris[ j ].split( \"!\" );\n                        \n                        // The variable segment\n                        match = params[ 0 ];\n                        \n                        // The match condition\n                        cond = params[ 1 ];\n                        \n                        // With conditions\n                        if ( cond ) {\n                            // We support this condition\n                            if ( this._wilders[ cond ] ) {\n                                regex = this._wilders[ cond ];\n                            }\n                            \n                            // Test against the condition\n                            if ( regex && regex.test( uris[ j ] ) ) {\n                                segMatches++;\n                                \n                                // Add the match to the config data\n                                ret.params[ match.replace( this._rWild, \"\" ) ] = uris[ j ];\n                                ret.uri.push( uris[ j ] );\n                            }\n                        \n                        // No conditions, anything goes   \n                        } else {\n                            segMatches++;\n                            \n                            // Add the match to the config data\n                            ret.params[ match.replace( this._rWild, \"\" ) ] = uris[ j ];\n                            ret.uri.push( uris[ j ] );\n                        }\n                    \n                    // Defined segment always goes   \n                    } else {\n                        if ( uris[ j ] === ruris[ j ] ) {\n                            segMatches++;\n                            \n                            ret.uri.push( uris[ j ] );\n                        }\n                    }\n                }\n                \n                // Handle a uri segment match OR \"*\" wildcard everything\n                if ( segMatches === uris.length || isStar ) {\n                    ret.matched = true;\n                    ret.route = routes[ i ];\n                    ret.uri = ( isStar ) ? route : ret.uri.join( \"/\" );\n                    \n                    break;\n                }\n            }\n            \n            return ret;\n        },\n        \n        /**\n         *\n         * Clean a route string\n         * If the route === \"/\" then it is returned as is\n         * @memberof MatchRoute\n         * @method _cleanRoute\n         * @param {string} route the route to clean\n         * @returns cleaned route string\n         * @private\n         *\n         */\n        _cleanRoute: function ( route ) {\n            if ( route !== \"/\" ) {\n                route = route.replace( this._rHTTPs, \"\" );\n                route = route.replace( this._rTrails, \"\" );\n                route = route.replace( this._rHashQuery, \"\" );\n                route = route.replace( this._rTrails, \"\" );\n            }\n            \n            if ( route === \"\" ) {\n                route = \"/\";\n            }\n            \n            return route;\n        },\n        \n        /**\n         *\n         * Clean an array of route strings\n         * @memberof MatchRoute\n         * @method _cleanRoutes\n         * @param {array} routes the routes to clean\n         * @returns cleaned routes array\n         * @private\n         *\n         */\n        _cleanRoutes: function ( routes ) {\n            for ( var i = routes.length; i--; ) {\n                routes[ i ] = this._cleanRoute( routes[ i ] );\n            }\n            \n            return routes;\n        }\n    };\n    \n    \n    return MatchRoute;\n\n\n});","//import $ from \"properjs-hobo\";\nimport * as core from \"../core\";\nimport About from \"./About\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace about\n * @description A nice description of what this module does...\n *\n */\nconst about = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof about\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        core.emitter.on( \"app--root\", () => {\n            if ( instance ) {\n                instance.teardown();\n            }\n        });\n\n        core.log( \"about initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof about\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof about\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        core.emitter.fire( \"app--offcanvas\" );\n\n        core.dom.html.removeClass( core.config.offcanvasClasses ).addClass( \"is-offcanvas is-offcanvas--about\" );\n\n        if ( !instance ) {\n            const data = $_jsElement.data();\n\n            instance = new About( $_jsElement, data );\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof about\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {},\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof about\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-about\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default about;","import * as core from \"../core\";\n\n\nlet instance = null;\n\n\n/**\n *\n * @public\n * @class About\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle a menu view.\n * @memberof menus\n *\n */\nclass About {\n    constructor ( $node, data ) {\n        if ( !instance ) {\n            this.initialize( $node, data );\n        }\n\n        return instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initialize\n     * @param {Hobo} $node The element\n     * @param {object} data The datas\n     * @memberof about.About\n     * @description Perform instance bootstrap actions.\n     *\n     */\n    initialize ( $node, data ) {\n        this.$node = $node;\n        this.data = data;\n        this.transTime = 400;\n        this.$target = core.dom.main.find( `.js-main--${this.data.target}` );\n        this.$anim = this.$node.find( \".js-animate-in\" );\n        this.$images = this.$node.find( \".js-lazy-image\" );\n\n        this.loadContent();\n\n        instance = this;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadContent\n     * @memberof about.About\n     * @description Handle content.\n     *\n     */\n    loadContent () {\n        this.$target.append( this.$node );\n\n        setTimeout(() => {\n            this.$anim.addClass( \"is-active\" );\n\n        }, 10 );\n\n        core.emitter.fire( \"app--preload-done\" );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof about.About\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {}\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default About;","import $ from \"properjs-hobo\";\nimport * as core from \"../core\";\nimport IndexRoot from \"./IndexRoot\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace indexes\n * @description A nice description of what this module does...\n *\n */\nconst indexes = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof indexes\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        core.emitter.on( \"app--offcanvas\", () => {\n            if ( instance ) {\n                instance.teardown();\n            }\n        });\n\n        core.emitter.on( \"app--load-root\", ( root ) => {\n            $_jsElement = $( root );\n\n            this.onload();\n        });\n\n        core.log( \"indexes initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof indexes\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof indexes\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        if ( !instance ) {\n            const data = $_jsElement.data();\n\n            instance = new IndexRoot( $_jsElement, data );\n\n        } else {\n            instance.cycleAnimation();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof indexes\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {},\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof indexes\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-index\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default indexes;","import $ from \"properjs-hobo\";\nimport * as core from \"../core\";\nimport router from \"../router\";\nimport Project from \"../projects/Project\";\nimport overlay from \"../overlay\";\nimport Controller from \"properjs-controller\";\n\n\nlet instance = null;\nconst animator = new Controller();\n\n\n/**\n *\n * @public\n * @class IndexRoot\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle an index as a Singleton(ish).\n * @memberof indexes\n *\n */\nclass IndexRoot {\n    constructor ( $node, data ) {\n        if ( !instance || instance && instance.data.id !== data.id ) {\n            this.initialize( $node, data );\n        }\n\n        return instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initialize\n     * @param {Hobo} $node The element\n     * @param {object} data The datas\n     * @memberof indexes.IndexRoot\n     * @description Perform instance bootstrap actions.\n     *\n     */\n    initialize ( $node, data ) {\n        this.$node = $node;\n        this.data = data;\n        this.$target = core.dom.main.find( `.js-main--${this.data.target}` );\n        this.$images = this.$node.find( \".js-lazy-image\" );\n        this.timeoutId = null;\n        this.timeoutDelay = core.dom.overlay.elementTransitionDuration;\n\n        this.bindEvents();\n        this.loadIndex();\n\n        instance = this;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method cycleAnimation\n     * @memberof indexes.IndexRoot\n     * @description Start the animation cycle for the listing.\n     *\n     */\n    cycleAnimation () {\n        // Fresh query for js- animatable elements each time\n        this.$anims = this.$node.find( \".js-animate\" );\n\n        // If pathname is not the `root` we shant not start raf cycle\n        if ( window.location.pathname === router.root ) {\n            animator.stop();\n            animator.go( this.updateAnimate.bind( this ) );\n\n            this.handleScroll();\n\n        } else {\n            this.updateAnimate();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method handleScroll\n     * @memberof indexes.IndexRoot\n     * @description Handle active scroll for root panel.\n     *\n     */\n    handleScroll () {\n        let _timeout = null;\n        const _handleScroll = function () {\n            overlay.suppress( false );\n        };\n\n        this.$target.on( \"scroll\", () => {\n            try {\n                clearTimeout( _timeout );\n\n            } catch ( error ) {\n                core.log( \"warn\", error );\n            }\n\n            overlay.suppress( true );\n\n            _timeout = setTimeout( _handleScroll, 300 );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updateAnimate\n     * @memberof indexes.IndexRoot\n     * @description Update active photos for index.\n     *\n     */\n    updateAnimate () {\n        let $anim = null;\n        let i = this.$anims.length;\n\n        for ( i; i--; ) {\n            $anim = this.$anims.eq( i );\n\n            if ( core.util.isElementInViewport( $anim[ 0 ] ) ) {\n                $anim.addClass( \"is-active\" );\n\n            } else {\n                $anim.removeClass( \"is-active\" );\n            }\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof indexes.IndexRoot\n     * @description Bind event handlers for this instance.\n     *\n     */\n    bindEvents () {\n        core.dom.body.on( \"click\", \".js-index-tile\", this.onTileClick.bind( this ) );\n\n        if ( !core.detect.isDevice() ) {\n            core.dom.body.on( \"mouseenter\", \".js-index-tile img\", this.onMouseEnter.bind( this ) );\n            core.dom.body.on( \"mousemove\", \".js-index-tile img\", this.onMouseEnter.bind( this ) );\n            core.dom.body.on( \"mouseleave\", \".js-index-tile img\", this.onMouseLeave.bind( this ) );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadIndex\n     * @memberof indexes.IndexRoot\n     * @description Handle loading process for this instance.\n     *\n     */\n    loadIndex () {\n        // Node must be in DOM for image size to work\n        this.$target.append( this.$node );\n\n        core.images.handleImages( this.$images, () => {\n            this.cycleAnimation();\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onTileClick\n     * @param {object} e The Event object\n     * @memberof indexes.IndexRoot\n     * @description Handle project grid tile clicks - loads a new Project.\n     *\n     */\n    onTileClick ( e ) {\n        e.preventDefault();\n\n        const $tile = $( e.target ).closest( \".js-index-tile\" );\n\n        overlay.setTitle( $tile.data( \"title\" ) );\n\n        overlay.open();\n\n        Project.open();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onMouseEnter\n     * @param {object} e The Event object\n     * @memberof indexes.IndexRoot\n     * @description Handle showing title on mouse enter grid tile.\n     *\n     */\n    onMouseEnter ( e ) {\n        try {\n            clearTimeout( this.timeoutId );\n\n        } catch ( error ) {\n            core.log( \"warn\", error );\n        }\n\n        if ( Project.isActive() ) {\n            return;\n        }\n\n        const $tile = $( e.target ).closest( \".js-index-tile\" );\n\n        overlay.setTitle( $tile.data( \"title\" ) );\n\n        overlay.open();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onMouseLeave\n     * @memberof indexes.IndexRoot\n     * @description Handle removing title on mouse leave grid tile.\n     *\n     */\n    onMouseLeave () {\n        if ( Project.isActive() ) {\n            return;\n        }\n\n        this.timeoutId = setTimeout(() => {\n            if ( !Project.isActive() ) {\n                overlay.close();\n            }\n\n        }, this.timeoutDelay );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof indexes.IndexRoot\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {\n        animator.stop();\n\n        this.$target.off( \"scroll\" );\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default IndexRoot;","/*!\n *\n * A lightweight manager for HTML5 audio and video.\n *\n * @MediaBox\n * @singleton\n * @author: kitajchuk\n *\n * @useful web pages with information on this stuffs\n * https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.MediaBox = factory();\n    }\n    \n})(function () {\n\n\n    var Easing = require( \"properjs-easing\" ),\n        Tween = require( \"properjs-tween\" ),\n        raf = window.requestAnimationFrame,\n        caf = window.cancelAnimationFrame,\n\n    /******************************************************************************\n     * @Private API\n    *******************************************************************************/\n    \n    /**\n     *\n     * Expression match hashbang/querystring\n     * @member rHashQuery\n     * @private\n     *\n     */\n    rHashQuery = /[#|?].*$/g,\n    \n    \n    /**\n     *\n     * Replace \"no\" in canPlayType strings\n     * @member rNos\n     * @private\n     *\n     */\n    rNos = /^no$/,\n    \n    \n    /**\n     *\n     * Clean up all those typeof's\n     * @method isFunction\n     * @returns boolean\n     * @private\n     *\n     */\n    isFunction = function ( fn ) {\n        return (typeof fn === \"function\");\n    },\n    \n    \n    /**\n     *\n     * Test that an object is an Element\n     * @method isElement\n     * @returns boolean\n     * @private\n     *\n     */\n    isElement = function ( el ) {\n        return (el instanceof HTMLElement);\n    },\n    \n    \n    /**\n     *\n     * Borrowed(ish)\n     * Modernizr v3.0.0-alpha.4 on master branch\n     * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/audio.js\n     * @method getAudioSupport\n     * @returns object\n     * @private\n     *\n     */\n    getAudioSupport = function () {\n        var elem = document.createElement( \"audio\" ),\n            ret = {};\n    \n        try {\n            if ( elem.canPlayType ) {\n                ret.ogg = elem.canPlayType( 'audio/ogg; codecs=\"vorbis\"' ).replace( rNos, \"\" );\n                ret.mp3 = elem.canPlayType( 'audio/mpeg;' ).replace( rNos, \"\" );\n                ret.opus = elem.canPlayType( 'audio/ogg; codecs=\"opus\"' ).replace( rNos, \"\" );\n    \n                // Mimetypes accepted:\n                // developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements\n                // bit.ly/iphoneoscodecs\n                ret.wav = elem.canPlayType( 'audio/wav; codecs=\"1\"' ).replace( rNos, \"\" );\n                ret.m4a = (elem.canPlayType( 'audio/x-m4a;' ) || elem.canPlayType( 'audio/aac;' )).replace( rNos, \"\" );\n            }\n    \n        } catch ( e ) {}\n    \n        return ret;\n    },\n    \n    \n    /**\n     *\n     * Borrowed(ish)\n     * Modernizr v3.0.0-alpha.4 on master branch\n     * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/video.js\n     * @method getVideoSupport\n     * @returns object\n     * @private\n     *\n     */\n    getVideoSupport = function () {\n        var elem = document.createElement( \"video\" ),\n            ret = {};\n    \n        try {\n            if ( elem.canPlayType ) {\n                ret.ogg = elem.canPlayType( 'video/ogg; codecs=\"theora\"' ).replace( rNos, \"\" );\n    \n                // Without QuickTime, this value will be `undefined`. github.com/Modernizr/Modernizr/issues/546\n                ret.h264 = elem.canPlayType( 'video/mp4; codecs=\"avc1.42E01E\"' ).replace( rNos, \"\" );\n                ret.webm = elem.canPlayType( 'video/webm; codecs=\"vp8, vorbis\"' ).replace( rNos, \"\" );\n                ret.vp9 = elem.canPlayType( 'video/webm; codecs=\"vp9\"' ).replace( rNos, \"\" );\n                ret.hls = elem.canPlayType( 'application/x-mpegURL; codecs=\"avc1.42E01E\"' ).replace( rNos, \"\" );\n            }\n    \n        } catch ( e ) {}\n    \n        return ret;\n    },\n    \n    \n    /**\n     *\n     * Get mimetype string from media source\n     * @method getMimeForMedia\n     * @param {string} src media file source\n     * @private\n     *\n     */\n    getMimeForMedia = function ( type, src ) {\n        var ext = src.split( \".\" ).pop().toLowerCase().replace( rHashQuery, \"\" ),\n            ret;\n    \n        if ( type === \"video\" ) {\n            switch ( ext ) {\n                case \"webm\":\n                    ret = \"video/webm\";\n                    break;\n                case \"mp4\":\n                case \"m4v\":\n                    ret = \"video/mp4\";\n                    break;\n                case \"ogv\":\n                    ret = \"video/ogg\";\n                    break;\n            }\n    \n        } else {\n            switch ( ext ) {\n                case \"aac\":\n                    ret = \"audio/aac\";\n                    break;\n                case \"m4a\":\n                    ret = \"audio/x-m4a\";\n                    break;\n                case \"mp4\":\n                    ret = \"audio/mp4\";\n                    break;\n                case \"mp1\":\n                case \"mp2\":\n                case \"mp3\":\n                case \"mpg\":\n                case \"mpeg\":\n                    ret = \"audio/mpeg\";\n                    break;\n                case \"oga\":\n                case \"ogg\":\n                    ret = \"audio/ogg\";\n                    break;\n                case \"wav\":\n                    ret = \"audio/wav\";\n                    break;\n            }\n        }\n    \n        return ret;\n    },\n    \n    \n    /**\n     *\n     * Get the audio source that should be used\n     * @method getCanPlaySource\n     * @param {string} media the media type to check\n     * @param {array} sources Array of media sources\n     * @returns object\n     * @private\n     *\n     */\n    getCanPlaySource = function ( media, sources ) {\n        var source, canPlay;\n    \n        for ( var i = 0, len = sources.length; i < len; i++ ) {\n            var src = sources[ i ].split( \".\" ).pop().toLowerCase().replace( rHashQuery, \"\" );\n    \n    \n            // The only time we break, this honors webm > mp4\n            if ( src === \"webm\" && MediaBox.support[ media ][ src ] === \"probably\" ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ][ src ];\n                break;\n            }\n    \n            if ( MediaBox.support[ media ][ src ] === \"probably\" || MediaBox.support[ media ][ src ] === \"maybe\" ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ][ src ];\n            }\n    \n            if ( (src === \"ogv\" || src === \"oga\") && (MediaBox.support[ media ].ogg === \"probably\" || MediaBox.support[ media ].ogg === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].ogg;\n            }\n    \n            if ( (src === \"mp4\" || src === \"m4v\") && (MediaBox.support[ media ].h264 === \"probably\" || MediaBox.support[ media ].h264 === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].h264;\n            }\n    \n            if ( src === \"aac\" && (MediaBox.support[ media ].m4a === \"probably\" || MediaBox.support[ media ].m4a === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].m4a;\n            }\n    \n            if ( (src === \"mp1\" || src === \"mp2\" || src === \"mpg\" || src === \"mpeg\") && (MediaBox.support[ media ].mp3 === \"probably\" || MediaBox.support[ media ].mp3 === \"maybe\") ) {\n                source = sources[ i ];\n                canPlay = MediaBox.support[ media ].mp3;\n            }\n    \n/*\n            if ( source ) {\n                break;\n            }\n*/\n        }\n    \n        return {\n            source: source,\n            canPlay: canPlay\n        };\n    },\n    \n    \n    /**\n     *\n     * MediaBox clear a timeupdate interval for audio/video tracks\n     * @method clearPlaybackUpdate\n     * @param {object} track The media object\n     *\n     */\n    clearPlaybackUpdate = function ( track ) {\n        if ( track._updateId ) {\n            caf( track._updateId );\n    \n            track._updateId = null;\n            track._updateFn = null;\n        }\n    },\n    \n    \n    /**\n     *\n     * MediaBox crossbrowser create audio context\n     * @method createAudioContext\n     * @returns instance of audio context\n     *\n     */\n    createAudioContext = function () {\n        var AudioContext;\n    \n        if ( window.AudioContext ) {\n            AudioContext = window.AudioContext;\n    \n        } else if ( window.webkitAudioContext ) {\n            AudioContext = window.webkitAudioContext;\n        }\n    \n        return ( AudioContext ) ? new AudioContext() : AudioContext;\n    },\n    \n    \n    /**\n     *\n     * MediaBox Open a new XMLHttpRequest\n     * @method createRequest\n     * @returns instance of audio context\n     *\n     */\n    createRequest = function ( url, config, callback ) {\n        var xhr = new XMLHttpRequest();\n    \n        xhr.open( \"GET\", url, true );\n    \n        if ( config ) {\n            for ( var i in config ) {\n                xhr[ i ] = config[ i ];\n            }\n        }\n    \n        xhr.onreadystatechange = function ( e ) {\n            if ( this.readyState === 4 ) {\n                if ( this.status === 200 ) {\n                    try {\n                        if ( !config.responseType ) {\n                            this.responseJSON = JSON.parse( this.responseText );\n                        }\n    \n                        if ( isFunction( callback ) ) {\n                            callback( this );\n                        }\n    \n                    } catch ( error ) {\n                        throw new Error([\n                            error.name,\n                            error.message\n    \n                        ].join( \" : \" ));\n                    }\n                }\n            }\n        };\n    \n        xhr.send();\n    \n        return xhr;\n    },\n    \n    \n    /**\n     *\n     * MediaBox init constructor for singleton\n     * @method init\n     * @private\n     *\n     */\n    init = function () {\n        _instance = this;\n    },\n    \n    \n    /**\n     *\n     * MediaBox default volume setting\n     * @member _volume\n     * @private\n     *\n     */\n    _volume = 1,\n    \n    \n    /**\n     *\n     * MediaBox information for each channel.\n     * These are default channels you can use.\n     * <ul>\n     * <li>bgm - background music channel</li>\n     * <li>sfx - sound effects channel</li>\n     * <li>vid - video channel</li>\n     * </ul>\n     * @member _channels\n     * @private\n     *\n     */\n    _channels = {\n        bgm: {\n            volume: _volume,\n            _builtIn: true\n        },\n        sfx: {\n            volume: _volume,\n            _builtIn: true\n        },\n        vid: {\n            volume: _volume,\n            _builtIn: true\n        }\n    },\n    \n    /**\n     *\n     * MediaBox holds all audio tracks\n     * @member _audio\n     * @private\n     *\n     */\n    _audio = {},\n    \n    /**\n     *\n     * MediaBox holds all video tracks\n     * @member _video\n     * @private\n     *\n     */\n    _video = {},\n    \n    \n    /**\n     *\n     * The singleton instance for MediaBox\n     * @member _instance\n     * @private\n     *\n     */\n    _instance = null,\n    \n    \n    /**\n     *\n     * Master audio context instance\n     * @member _context\n     * @private\n     *\n     */\n    _context = createAudioContext(),\n    \n    \n    /******************************************************************************\n     * @Public API\n    *******************************************************************************/\n    \n    /**\n     *\n     * A complete management tool for html5 video and audio context\n     * @constructor MediaBox\n     * @requires Tween\n     * @memberof! <global>\n     *\n     */\n    MediaBox = function () {\n        return (_instance || init.apply( this, arguments ));\n    };\n    \n    \n    /**\n     *\n     * MediaBox types object\n     * @memberof MediaBox\n     * @member types\n     *\n     */\n    MediaBox.types = {\n        AUDIO: \"audio\",\n        VIDEO: \"video\"\n    };\n    \n    \n    /**\n     *\n     * MediaBox support object\n     * @memberof MediaBox\n     * @member support\n     *\n     */\n    MediaBox.support = {\n        audio: getAudioSupport(),\n        video: getVideoSupport()\n    };\n    \n    \n    /**\n     *\n     * MediaBox stopped state constant\n     * @memberof MediaBox\n     * @member STATE_STOPPED\n     *\n     */\n    MediaBox.STATE_STOPPED = 0;\n    \n    \n    /**\n     *\n     * MediaBox stopping state constant\n     * @memberof MediaBox\n     * @member STATE_STOPPING\n     *\n     */\n    MediaBox.STATE_STOPPING = 1;\n    \n    \n    /**\n     *\n     * MediaBox paused state constant\n     * @memberof MediaBox\n     * @member STATE_PAUSED\n     *\n     */\n    MediaBox.STATE_PAUSED = 2;\n    \n    \n    /**\n     *\n     * MediaBox playing state constant\n     * @memberof MediaBox\n     * @member STATE_PLAYING\n     *\n     */\n    MediaBox.STATE_PLAYING = 3;\n    \n    \n    /**\n     *\n     * MediaBox prototype\n     *\n     */\n    MediaBox.prototype = {\n        constructor: MediaBox,\n    \n        /**\n         *\n         * MediaBox check if media is loaded via ajax\n         * @memberof MediaBox\n         * @method isLoaded\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isLoaded: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.loaded === true);\n        },\n    \n        /**\n         *\n         * MediaBox check stopped/paused status for audio/video\n         * @memberof MediaBox\n         * @method isStopped\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isStopped: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.state === MediaBox.STATE_STOPPED);\n        },\n    \n        /**\n         *\n         * MediaBox check stopped/paused status for audio/video\n         * @memberof MediaBox\n         * @method isPaused\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isPaused: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.state === MediaBox.STATE_PAUSED);\n        },\n    \n        /**\n         *\n         * MediaBox check playing status for audio/video\n         * @memberof MediaBox\n         * @method isPlaying\n         * @param {string} id reference id for media\n         * @returns boolean\n         *\n         */\n        isPlaying: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return (obj.state === MediaBox.STATE_PLAYING || obj.state === MediaBox.STATE_STOPPING);\n        },\n    \n        /**\n         *\n         * MediaBox set volume for audio OR video\n         * @memberof MediaBox\n         * @method setVolume\n         * @param {string} id reference id for media\n         * @param {number} volume the volume to set to\n         *\n         */\n        setVolume: function ( id, volume ) {\n            var obj = this.getMedia( id );\n    \n            obj._node.volume = volume;\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox set volume for audio OR video\n         * @memberof MediaBox\n         * @method getVolume\n         * @param {string} id reference id for media\n         * @returns number\n         *\n         */\n        getVolume: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            return obj._node.volume;\n        },\n    \n        /**\n         *\n         * MediaBox get an audio nodes property\n         * @memberof MediaBox\n         * @method getAudioProp\n         * @param {string} id Audio id\n         * @param {string} prop The property to access\n         *\n         */\n        getMediaProp: function ( id, prop ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                return obj._node[ prop ];\n            }\n        },\n    \n        /**\n         *\n         * MediaBox set an audio nodes property/attribute\n         * @memberof MediaBox\n         * @method setAudioProp\n         * @param {string} id Audio id\n         * @param {string} prop The property to set\n         * @param {mixed} value The value to assign\n         *\n         */\n        setMediaProp: function ( id, prop, value ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                obj._node[ prop ] = value;\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox get an audio nodes attribute\n         * @memberof MediaBox\n         * @method getAudioAttr\n         * @param {string} id Audio id\n         * @param {string} prop The property to access\n         *\n         */\n        getMediaAttr: function ( id, prop ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                return obj._node.getAttribute( prop );\n            }\n        },\n    \n        /**\n         *\n         * MediaBox set an audio nodes attribute\n         * @memberof MediaBox\n         * @method setAudioAttr\n         * @param {string} id Audio id\n         * @param {string} prop The property to set\n         * @param {mixed} value The value to assign\n         *\n         */\n        setMediaAttr: function ( id, prop, value ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                obj._node.setAttribute( prop, value );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add an audio nodes event listener\n         * @memberof MediaBox\n         * @method addAudioEvent\n         * @param {string} id Audio id to add event for\n         * @param {string} event Event to add\n         * @param {function} callback The event handler to call\n         *\n         */\n        addMediaEvent: function ( id, event, callback ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                // Capture timeupdate to run at 60fps instead\n                if ( event === \"timeupdate\" ) {\n                    obj._events.timeupdate = callback;\n    \n                    return _instance;\n                }\n    \n                obj._events[ event ] = function () {\n                    if ( isFunction( callback ) ) {\n                        callback.apply( this, arguments );\n                    }\n                };\n    \n                obj._node.addEventListener( event, obj._events[ event ], false );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox remove an audio nodes event listener\n         * @memberof MediaBox\n         * @method removeAudioEvent\n         * @param {string} id Audio id to remove event for\n         * @param {string} event Event to remove\n         *\n         */\n        removeMediaEvent: function ( id, event ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj ) {\n                // Capture timeupdate to run at 60fps instead\n                if ( event === \"timeupdate\" ) {\n                    clearPlaybackUpdate( obj );\n                }\n    \n                obj._node.removeEventListener( event, obj._events[ event ], false );\n    \n                obj._events[ event ] = null;\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox play audio node by id\n         * @memberof MediaBox\n         * @method playAudio\n         * @param {string} id reference id for media\n         *\n         */\n        playMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && this.isLoaded( id ) && (this.isStopped( id ) || this.isPaused( id )) ) {\n                // obj._node.volume = _channels[ obj.channel ].volume;\n                obj._node.play();\n                obj.state = MediaBox.STATE_PLAYING;\n    \n                if ( !obj._updateId && isFunction( obj._events.timeupdate ) ) {\n                    obj._updateFn = function () {\n                        obj._events.timeupdate.call( obj._node, null );\n                        \n                        obj._updateId = raf( obj._updateFn );\n                    };\n                    \n                    obj._updateId = raf( obj._updateFn );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox stop audio node by id with a paused state\n         * @memberof MediaBox\n         * @method pauseAudio\n         * @param {string} id reference id for media\n         *\n         */\n        pauseMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && this.isLoaded( id ) && this.isPlaying( id ) ) {\n                obj._node.pause();\n                obj.state = MediaBox.STATE_PAUSED;\n    \n                clearPlaybackUpdate( obj );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox stop audio node by id with a stopped state\n         * @memberof MediaBox\n         * @method stopAudio\n         * @param {string} id reference id for media\n         *\n         */\n        stopMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && this.isLoaded( id ) && this.isPlaying( id ) ) {\n                obj._node.pause();\n                obj.state = MediaBox.STATE_STOPPED;\n    \n                clearPlaybackUpdate( obj );\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox get audio object by id\n         * @memberof getMedia\n         * @method getAudio\n         * @param {string} id reference id for media\n         * @returns object\n         *\n         */\n        getMedia: function ( id ) {\n            return _video[ id ] ? _video[ id ] : _audio[ id ];\n        },\n    \n        /**\n         *\n         * MediaBox get all audio objects\n         * @memberof MediaBox\n         * @method getAudios\n         * @returns object\n         *\n         */\n        getAudios: function () {\n            return _audio;\n        },\n    \n        /**\n         *\n         * MediaBox get all video objects\n         * @memberof MediaBox\n         * @method getVideos\n         * @returns object\n         *\n         */\n        getVideos: function () {\n            return _video;\n        },\n    \n        /**\n         *\n         * MediaBox kill a media object abstractly\n         * @memberof MediaBox\n         * @method destroyMedia\n         * @param {string} id reference id for media\n         *\n         */\n        destroyMedia: function ( id ) {\n            var obj = this.getMedia( id );\n    \n            this.stopMedia( id );\n    \n            if ( obj.type === MediaBox.types.AUDIO ) {\n                delete _audio[ id ];\n    \n            } else {\n                delete _video[ id ];\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox load media config JSON formatted in a json bundle\n         * @memberof MediaBox\n         * @method loadMedia\n         * @param {string} url The url to the JSON config\n         * @param {function} callback The function to fire when done loading\n         *\n         */\n        loadMedia: function ( url, callback ) {\n            var self = this;\n    \n            createRequest( url, null, function ( xhr ) {\n                self.addMedia( xhr.responseJSON );\n    \n                if ( isFunction( callback ) ) {\n                    callback();\n                }\n            });\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add media from bundle json\n         * @memberof MediaBox\n         * @method addMedia\n         * @param {object} bundle Formatted media bundle JSON\n         *\n         */\n        addMedia: function ( bundle ) {\n            for ( var m in bundle ) {\n                for ( var i = bundle[ m ].length; i--; ) {\n                    // this.addVideo() / this.addAudio()\n                    if ( isFunction( this[ m ] ) ) {\n                        this[ m ]( bundle[ m ][ i ] );\n                    }\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add a video element\n         * @memberof MediaBox\n         * @method addVideo\n         * @param {object} obj Formatted media bundle\n         *\n         */\n        addVideo: function ( obj ) {\n            var id = obj.id,\n                src = obj.src,\n                props = {\n                    element: obj.element,\n                    channel: obj.channel\n                };\n    \n            // Disallow overrides / Require id and src props\n            if ( _video[ id ] || !id || !src ) {\n                return _instance;\n            }\n    \n            // Allow new channels to exist\n            if ( !_channels[ props.channel ] ) {\n                _channels[ props.channel ] = {\n                    volume: _volume\n                };\n            }\n    \n            // Create video object\n            _video[ id ] = {};\n            _video[ id ].type = MediaBox.types.VIDEO;\n            _video[ id ].state = MediaBox.STATE_STOPPED;\n            _video[ id ].loaded = true;\n            _video[ id ].channel = props.channel;\n            _video[ id ].sources = src;\n            _video[ id ]._source = getCanPlaySource( MediaBox.types.VIDEO, src );\n            _video[ id ]._events = {};\n            _video[ id ]._updateId = null;\n            _video[ id ]._updateFn = null;\n            _video[ id ]._node = (props.element || document.createElement( \"video\" ));\n            _video[ id ]._nodeSource = document.createElement( \"source\" );\n            _video[ id ]._nodeSource.src = _video[ id ]._source.source;\n            _video[ id ]._nodeSource.type = getMimeForMedia( MediaBox.types.VIDEO, _video[ id ]._source.source );\n            _video[ id ]._node.appendChild( _video[ id ]._nodeSource );\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox add an audio context\n         * @memberof MediaBox\n         * @method addAudio\n         * @param {object} obj Formatted media bundle\n         *\n         */\n        addAudio: function ( obj ) {\n            var id = obj.id,\n                src = obj.src,\n                props = {\n                    channel: obj.channel,\n                    CORS: (obj.CORS || false)\n                };\n    \n            // Disallow overrides / Require id and src props\n            if ( _audio[ id ] || !id || !src ) {\n                return _instance;\n            }\n            \n            // Allow new channels to exist\n            if ( !_channels[ props.channel ] ) {\n                _channels[ props.channel ] = {\n                    volume: _volume\n                };\n            }\n    \n            // Create audio object\n            _audio[ id ] = {};\n            _audio[ id ].type = MediaBox.types.AUDIO;\n            _audio[ id ].state = MediaBox.STATE_STOPPED;\n            _audio[ id ].loaded = true;\n            _audio[ id ].channel = props.channel;\n            _audio[ id ].sources = src;\n            _audio[ id ]._source = getCanPlaySource( MediaBox.types.AUDIO, src );\n            _audio[ id ]._events = {};\n            _audio[ id ]._updateId = null;\n            _audio[ id ]._updateFn = null;\n            _audio[ id ]._node = new Audio( _audio[ id ]._source.source );\n    \n            // Get the media as a buffer\n            if ( isFunction( obj.onloaded ) && !props.CORS ) {\n                createRequest( _audio[ id ]._source.source, {responseType: \"arraybuffer\"}, function ( xhr ) {\n                    _context.decodeAudioData( xhr.response, obj.onloaded );\n                });\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade in audio/video volume\n         * @memberof MediaBox\n         * @method fadeMediaIn\n         * @param {string} id string reference id for audio\n         * @param {number} duration tween time in ms\n         * @param {function} easing optional easing to use\n         *\n         */\n        fadeMediaIn: function ( id, duration, easing ) {\n            var obj = this.getMedia( id ),\n                self = this,\n                volume;\n    \n            if ( obj && obj.state === MediaBox.STATE_PLAYING ) {\n                return _instance;\n            }\n    \n            if ( obj ) {\n                volume = _channels[ obj.channel ].volume;\n    \n                // Only reset volume and play if object is stopped\n                // Object state could be STATE_STOPPING at this point\n                if ( obj.state === MediaBox.STATE_STOPPED ) {\n                    this.playMedia( id );\n                    this.setVolume( id, 0 );\n    \n                } else if ( obj.state === MediaBox.STATE_STOPPING ) {\n                    obj.state = MediaBox.STATE_PLAYING;\n                }\n    \n                new Tween({\n                    to: volume,\n                    from: 0,\n                    ease: ( isFunction( easing ) ) ? easing : Easing.linear,\n                    duration: (duration || 1000),\n                    update: function ( v ) {\n                        self.setVolume( id, (v > volume) ? volume : v );\n                    },\n                    complete: function () {\n                        self.setVolume( id, volume );\n                    }\n                });\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade out audio/video volume\n         * @memberof MediaBox\n         * @method fadeMediaOut\n         * @param {string} id string reference id for audio\n         * @param {number} duration tween time in ms\n         * @param {function} easing optional easing to use\n         *\n         */\n        fadeMediaOut: function ( id, duration, easing ) {\n            var obj = this.getMedia( id );\n    \n            if ( obj && obj.state === MediaBox.STATE_STOPPING ) {\n                return _instance;\n            }\n    \n            var self = this,\n                handler = function ( v ) {\n                    // Check audio state on fadeout in case it is started again\n                    // before the duration of the fadeout is complete.\n                    if ( obj.state === MediaBox.STATE_STOPPING ) {\n                        self.setVolume( id, (v < 0) ? 0 : v );\n    \n                        if ( self.getVolume( id ) === 0 ) {\n                            self.stopMedia( id );\n                        }\n                    }\n                };\n    \n            if ( obj ) {\n                obj.state = MediaBox.STATE_STOPPING;\n    \n                new Tween({\n                    to: 0,\n                    from: self.getVolume( id ),\n                    ease: ( isFunction( easing ) ) ? easing : Easing.linear,\n                    duration: (duration || 1000),\n                    update: handler,\n                    complete: handler\n                });\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox pause all playing audio for a given channel id\n         * @memberof MediaBox\n         * @method stopChannel\n         * @param {string} channel string reference id for channel\n         *\n         */\n        stopChannel: function ( channel ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.pauseMedia( id );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.pauseMedia( id );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox resume all playing audio for a given channel id\n         * @memberof MediaBox\n         * @method playChannel\n         * @param {string} channel string reference id for channel\n         *\n         */\n        playChannel: function ( channel ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PAUSED ) {\n                    this.playMedia( id );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PAUSED ) {\n                    this.playMedia( id );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade out all playing audio/video for a given channel id\n         * @memberof MediaBox\n         * @method fadeChannelOut\n         * @param {string} channel string reference id for channel\n         * @param {number} duration tween time in ms\n         *\n         */\n        fadeChannelOut: function ( channel, duration ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox fade in all playing audio/video for a given channel id\n         * @memberof MediaBox\n         * @method fadeChannelIn\n         * @param {string} channel string reference id for channel\n         * @param {number} duration tween time in ms\n         *\n         */\n        fadeChannelIn: function ( channel, duration ) {\n            var id;\n    \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_STOPPED ) {\n                    this.fadeMediaIn( id, duration );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_STOPPED ) {\n                    this.fadeMediaIn( id, duration );\n                }\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox crossfade volume between multiple channels\n         * @memberof MediaBox\n         * @method crossFadeChannel\n         * @param {string} channel string reference id for channel\n         * @param {string} objId string reference id for object to fade in\n         * @param {number} duration tween time in ms\n         *\n         */\n        crossFadeChannel: function ( channel, objId, duration ) {\n            var id;\n            \n            // Look at video index\n            for ( id in _video ) {\n                if ( _video[ id ].channel === channel && _video[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            // Look at audio index\n            for ( id in _audio ) {\n                if ( _audio[ id ].channel === channel && _audio[ id ].state === MediaBox.STATE_PLAYING ) {\n                    this.fadeMediaOut( id, duration );\n                }\n            }\n    \n            return this.fadeMediaIn( objId, duration );\n        },\n    \n        /**\n         *\n         * MediaBox set the property for a channel\n         * @memberof MediaBox\n         * @method setChannelProp\n         * @param {string} id string id reference to channel\n         * @param {string} key string prop key\n         * @param {string} val prop val\n         *\n         */\n        setChannelProp: function ( id, key, val ) {\n            if ( _channels[ id ] ) {\n                _channels[ id ][ key ] = val;\n            }\n    \n            return _instance;\n        },\n    \n        /**\n         *\n         * MediaBox get the property for a channel\n         * @memberof MediaBox\n         * @method getChannelProp\n         * @param {string} id string id reference to channel\n         * @param {string} key string prop key\n         *\n         */\n        getChannelProp: function ( id, key ) {\n            if ( _channels[ id ] ) {\n                return _channels[ id ][ key ];\n            }\n        },\n        \n        \n        /**\n         *\n         * MediaBox get the channels config\n         * @memberof MediaBox\n         * @method _channels\n         *\n         */\n        getChannels: function () {\n            return _channels;\n        }\n    };\n    \n    \n    return MediaBox;\n\n\n});","import * as core from \"../core\";\nimport mediabox from \"./mediabox\";\n\n\n/**\n *\n * @public\n * @class AutoplayHandler\n * @classdesc Handle starting / stopping autoplay videos.\n * @param {Hobo} $node The element to work with\n * @param {string} id The MediaBox ID to work with\n * @memberof video\n *\n */\nclass AutoplayHandler {\n    constructor ( $node, id, muted ) {\n        this.$node = $node;\n        this.id = id;\n        this.muted = muted;\n\n        this.bindEvents();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof AutoplayHandler\n     * @description Bind the scroll event for toggling playback.\n     *\n     */\n    bindEvents () {\n        this._onScroll = this.onScroll.bind( this );\n\n        if ( mediabox.getMedia( this.id ) ) {\n            this._onScroll();\n        }\n\n        core.emitter.on( \"app--project-scroll\", this._onScroll );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onScroll\n     * @memberof AutoplayHandler\n     * @description Scroll handler for toggling video playback.\n     *\n     */\n    onScroll () {\n        if ( core.util.isElementInViewport( this.$node[ 0 ] ) ) {\n            if ( !mediabox.isPlaying( this.id ) ) {\n                mediabox.setVolume( this.id, this.muted ? 0 : 1 );\n                mediabox.playMedia( this.id );\n            }\n\n        } else if ( mediabox.isPlaying( this.id ) ) {\n            mediabox.stopMedia( this.id );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method destroy\n     * @memberof AutoplayHandler\n     * @description Remove the scroll handler.\n     *\n     */\n    destroy () {\n        core.emitter.off( \"app--project-scroll\", this._onScroll );\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default AutoplayHandler;\n","'use strict'\n\n/**\n *   Copyright 2013 Vimeo\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\");\n *   you may not use this file except in compliance with the License.\n *   You may obtain a copy of the License at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   Unless required by applicable law or agreed to in writing, software\n *   distributed under the License is distributed on an \"AS IS\" BASIS,\n *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *   See the License for the specific language governing permissions and\n *   limitations under the License.\n */\nvar qsModule = require('querystring')\nvar urlModule = require('url')\nvar httpModule = require('http')\nvar httpsModule = require('https')\nvar fs = require('fs')\nvar path = require('path')\nvar tus = require('tus-js-client')\n\nmodule.exports.request_defaults = {\n  protocol: 'https:',\n  hostname: 'api.vimeo.com',\n  port: 443,\n  method: 'GET',\n  query: {},\n  headers: {\n    Accept: 'application/vnd.vimeo.*+json;version=3.4',\n    'User-Agent': 'Vimeo.js/2.1.1'\n  }\n}\n\nvar authEndpoints = module.exports.authEndpoints = {\n  authorization: '/oauth/authorize',\n  accessToken: '/oauth/access_token',\n  clientCredentials: '/oauth/authorize/client'\n}\n\n/**\n * This object is used to interface with the Vimeo API.\n *\n * @param {string} clientId     OAuth 2 Client Identifier\n * @param {string} clientSecret OAuth 2 Client Secret\n * @param {string} accessToken  OAuth 2 Optional pre-authorized access token\n */\nvar Vimeo = module.exports.Vimeo = function Vimeo (clientId, clientSecret, accessToken) {\n  this._clientId = clientId\n  this._clientSecret = clientSecret\n\n  if (accessToken) {\n    this._accessToken = accessToken\n  }\n}\n\nVimeo.prototype._clientId = null\nVimeo.prototype._clientSecret = null\nVimeo.prototype._accessToken = null\n\n/**\n * Performs an API call.\n *\n * Can be called one of two ways:\n *\n * 1. Url + Callback\n *    If a url is provided, we fill in the rest of the request options with defaults\n *    (GET http://api.vimeo.com/{url}).\n *\n * 2. Options + callback\n *    If an object is provided, it should match the response of urlModule.parse. Path is the only\n *    required parameter.\n *\n *    - hostname\n *    - port\n *    - query (will be applied to the url if GET, request body if POST)\n *    - headers\n *    - path (can include a querystring)\n *    - method\n *\n * The callback takes two parameters, `err` and `json`.\n * If an error has occured, your callback will be called as `callback(err)`;\n * If an error has not occured, your callback will be called as `callback(null, json)`;\n *\n * @param {string|Object} options   String path (default GET), or object with `method`, path`,\n *                                  `host`, `port`, `query` or `headers`.\n * @param {Function}      callback  Called when complete, `function (err, json)`.\n */\nVimeo.prototype.request = function (options, callback) {\n  var client = null\n\n  // If a URL was provided, build an options object.\n  if (typeof options === 'string') {\n    options = urlModule.parse(options, true)\n    options.method = 'GET'\n  }\n\n  // If we don't have a path at this point, error. a path is the only required field. We have\n  // defaults for everything else important.\n  if (typeof options.path !== 'string') {\n    return callback(new Error('You must provide an API path.'))\n  }\n\n  // Add leading slash to path if missing\n  if (options.path.charAt(0) !== '/') {\n    options.path = '/' + options.path\n  }\n\n  // Turn the provided options into options that are valid for `client.request`.\n  var requestOptions = this._buildRequestOptions(options)\n\n  client = requestOptions.protocol === 'https:' ? httpsModule : httpModule\n\n  if (['POST', 'PATCH', 'PUT', 'DELETE'].indexOf(requestOptions.method) !== -1) {\n    if (requestOptions.headers['Content-Type'] === 'application/json') {\n      requestOptions.body = JSON.stringify(options.query)\n    } else {\n      requestOptions.body = qsModule.stringify(options.query)\n    }\n\n    if (requestOptions.body) {\n      requestOptions.headers['Content-Length'] = Buffer.byteLength(requestOptions.body, 'utf8')\n    } else {\n      requestOptions.headers['Content-Length'] = 0\n    }\n  }\n\n  // Perform the Vimeo API request\n  var req = client.request(requestOptions, this._handleRequest(callback))\n  if (requestOptions.body) {\n    req.write(requestOptions.body)\n  }\n\n  req.on('error', function (e) {\n    callback(e)\n  })\n\n  req.end()\n}\n\n/**\n * Creates the standard request handler for http requests\n *\n * @param  {Function} callback\n * @return {Function}\n */\nVimeo.prototype._handleRequest = function (callback) {\n  return function (res) {\n    res.setEncoding('utf8')\n\n    var buffer = ''\n\n    res.on('readable', function () {\n      buffer += res.read() || ''\n    })\n\n    if (res.statusCode >= 400) {\n      // Failed api calls should wait for the response to end and then call the callback with an\n      // error.\n      res.on('end', function () {\n        var err = new Error(buffer)\n        callback(err, buffer, res.statusCode, res.headers)\n      })\n    } else {\n      // Successful api calls should wait for the response to end and then call the callback with\n      // the response body.\n      res.on('end', function () {\n        try {\n          var body = buffer.length ? JSON.parse(buffer) : {}\n        } catch (e) {\n          return callback(buffer, buffer, res.statusCode, res.headers)\n        }\n\n        callback(null, body, res.statusCode, res.headers)\n      })\n    }\n  }\n}\n\n/**\n * Merge the request options defaults into the request options\n *\n * @param  {Object} options\n * @return {Object}\n */\nVimeo.prototype._buildRequestOptions = function (options) {\n  // Set up the request object. we always use the options paramter first, and if no value is\n  // provided we fall back to request defaults.\n  var requestOptions = this._applyDefaultRequestOptions(options)\n\n  if (this._accessToken) {\n    requestOptions.headers.Authorization = 'Bearer ' + this._accessToken\n  } else if (this._clientId && this._clientSecret) {\n    var basicToken = Buffer.from(this._clientId + ':' + this._clientSecret)\n    requestOptions.headers.Authorization = 'Basic ' + basicToken.toString('base64')\n  }\n\n  if (['POST', 'PATCH', 'PUT', 'DELETE'].indexOf(requestOptions.method) !== -1 &&\n    !requestOptions.headers['Content-Type']\n  ) {\n    // Set proper headers for POST, PATCH and PUT bodies.\n    requestOptions.headers['Content-Type'] = 'application/json'\n  } else if (requestOptions.method === 'GET') {\n    // Apply parameters to the URL for GET requests.\n    requestOptions.path = this._applyQuerystringParams(requestOptions, options)\n  }\n\n  return requestOptions\n}\n\n/**\n * Create an object of request options based on the provided list of options, and the request\n * defaults.\n *\n * @param  {Object} options\n * @return {Object}\n */\nVimeo.prototype._applyDefaultRequestOptions = function (options) {\n  var requestOptions = {\n    protocol: options.protocol || module.exports.request_defaults.protocol,\n    host: options.hostname || module.exports.request_defaults.hostname,\n    port: options.port || module.exports.request_defaults.port,\n    method: options.method || module.exports.request_defaults.method,\n    headers: options.headers || {},\n    body: '',\n    path: options.path\n  }\n\n  var key = null\n\n  // Apply the default headers\n  if (module.exports.request_defaults.headers) {\n    for (key in module.exports.request_defaults.headers) {\n      if (!requestOptions.headers[key]) {\n        requestOptions.headers[key] = module.exports.request_defaults.headers[key]\n      }\n    }\n  }\n\n  return requestOptions\n}\n\n/**\n * Apply the query parameter onto the final request URL.\n *\n * @param  {Object} requestOptions\n * @param  {Object} options\n * @return {string}\n */\nVimeo.prototype._applyQuerystringParams = function (requestOptions, options) {\n  var querystring = ''\n\n  if (!options.query) {\n    return requestOptions.path\n  }\n\n  // If we have parameters, apply them to the URL.\n  if (Object.keys(options.query).length) {\n    if (requestOptions.path.indexOf('?') < 0) {\n      // If the existing path does not contain any parameters, apply them as the only options.\n      querystring = '?' + qsModule.stringify(options.query)\n    } else {\n      // If the user already added parameters to the URL, we want to add them as additional\n      // parameters.\n      querystring = '&' + qsModule.stringify(options.query)\n    }\n  }\n\n  return requestOptions.path + querystring\n}\n\n/**\n * Set a user access token to be used with library requests.\n *\n * @param {string} accessToken\n */\nVimeo.prototype.setAccessToken = function (accessToken) {\n  this._accessToken = accessToken\n}\n\n/**\n * Exchange a code for an access token. This code should exist on your `redirectUri`.\n *\n * @param {string}   code         The code provided on your `redirectUri`.\n * @param {string}   redirectUri  The exact `redirectUri` provided to `buildAuthorizationEndpoint`\n *                                and configured in your API app settings.\n * @param {Function} fn           Callback to execute on completion.\n */\nVimeo.prototype.accessToken = function (code, redirectUri, fn) {\n  var options = {\n    method: 'POST',\n    hostname: module.exports.request_defaults.hostname,\n    path: authEndpoints.accessToken,\n    query: {\n      grant_type: 'authorization_code',\n      code: code,\n      redirect_uri: redirectUri\n    },\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  }\n\n  this.request(options, function (err, body, status, headers) {\n    if (err) {\n      return fn(err, null, status, headers)\n    } else {\n      fn(null, body, status, headers)\n    }\n  })\n}\n\n/**\n * The first step of the authorization process.\n *\n * This function returns a URL, which the user should be sent to (via redirect or link).\n *\n * The destination allows the user to accept or deny connecting with vimeo, and accept or deny each\n * of the scopes you requested. Scopes are passed through the second parameter as an array of\n * strings, or a space delimited list.\n *\n * Once accepted or denied, the user is redirected back to the `redirectUri`.\n *\n * @param  {string} redirectUri   The URI that will exchange a code for an access token. Must match\n *                                the URI in your API app settings.\n * @param  {string} scope         An array of scopes. See https://developer.vimeo.com/api/authentication#scopes\n *                                for more.\n * @param  {string} state         A unique state that will be returned to you on your redirect URI.\n */\nVimeo.prototype.buildAuthorizationEndpoint = function (redirectUri, scope, state) {\n  var query = {\n    response_type: 'code',\n    client_id: this._clientId,\n    redirect_uri: redirectUri\n  }\n\n  if (scope) {\n    if (Array.isArray(scope)) {\n      query.scope = scope.join(' ')\n    } else {\n      query.scope = scope\n    }\n  } else {\n    query.scope = 'public'\n  }\n\n  if (state) {\n    query.state = state\n  }\n\n  return module.exports.request_defaults.protocol +\n    '//' +\n    module.exports.request_defaults.hostname +\n    authEndpoints.authorization +\n    '?' +\n    qsModule.stringify(query)\n}\n\n/**\n * Generates an unauthenticated access token. This is necessary to make unauthenticated requests\n *\n * @param  {string}   scope An array of scopes. See https://developer.vimeo.com/api/authentication#scopes\n *                          for more.\n * @param  {Function} fn    A function that is called when the request is complete. If an error\n *                          occured the first parameter will be that error, otherwise the first\n *                          parameter will be null.\n */\nVimeo.prototype.generateClientCredentials = function (scope, fn) {\n  var query = {\n    grant_type: 'client_credentials'\n  }\n\n  if (scope) {\n    if (Array.isArray(scope)) {\n      query.scope = scope.join(' ')\n    } else {\n      query.scope = scope\n    }\n  } else {\n    query.scope = 'public'\n  }\n\n  this.request({\n    method: 'POST',\n    hostname: module.exports.request_defaults.hostname,\n    path: authEndpoints.clientCredentials,\n    query: query,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  }, function (err, body, status, headers) {\n    if (err) {\n      return fn(err, null, status, headers)\n    } else {\n      fn(null, body, status, headers)\n    }\n  })\n}\n\n/**\n * Upload a file.\n *\n * This should be used to upload a local file. If you want a form for your site to upload direct to\n * Vimeo, you should look at the `POST /me/videos` endpoint.\n *\n * https://developer.vimeo.com/api/endpoints/videos#POST/users/{user_id}/videos\n *\n * @param {string}    filePath          Path to the file you wish to upload.\n * @param {object=}   params            Parameters to send when creating a new video (name,\n *                                      privacy restrictions, etc.). See the API documentation for\n *                                      supported parameters.\n * @param {Function}  completeCallback  Callback to be executed when the upload completes.\n * @param {Function}  progressCallback  Callback to be executed when upload progress is updated.\n * @param {Function}  errorCallback     Callback to be executed when the upload returns an error.\n */\nVimeo.prototype.upload = function (\n  file,\n  params,\n  completeCallback,\n  progressCallback,\n  errorCallback\n) {\n  var _self = this\n  var fileSize\n\n  if (typeof params === 'function') {\n    errorCallback = progressCallback\n    progressCallback = completeCallback\n    completeCallback = params\n    params = {}\n  }\n\n  if (typeof file === 'string') {\n    try {\n      fileSize = fs.statSync(file).size\n    } catch (e) {\n      return errorCallback('Unable to locate file to upload.')\n    }\n  } else {\n    fileSize = file.size\n  }\n\n  // Ignore any specified upload approach and size.\n  if (typeof params.upload === 'undefined') {\n    params.upload = {\n      'approach': 'tus',\n      'size': fileSize\n    }\n  } else {\n    params.upload.approach = 'tus'\n    params.upload.size = fileSize\n  }\n\n  var options = {\n    path: '/me/videos?fields=uri,name,upload',\n    method: 'POST',\n    query: params\n  }\n\n  // Use JSON filtering so we only receive the data that we need to make an upload happen.\n  this.request(options, function (err, attempt, status) {\n    if (err) {\n      return errorCallback('Unable to initiate an upload. [' + err + ']')\n    }\n\n    _self._performTusUpload(\n      file,\n      fileSize,\n      attempt,\n      completeCallback,\n      progressCallback,\n      errorCallback\n    )\n  })\n}\n\n/**\n * Replace the source of a single Vimeo video.\n *\n * https://developer.vimeo.com/api/endpoints/videos#POST/videos/{video_id}/versions\n *\n * @param {string}    filePath          Path to the file you wish to upload.\n * @param {string}    videoUri          Video URI of the video file to replace.\n * @param {object=}   params            Parameters to send when creating a new video (name,\n *                                      privacy restrictions, etc.). See the API documentation for\n *                                      supported parameters.\n * @param {Function}  completeCallback  Callback to be executed when the upload completes.\n * @param {Function}  progressCallback  Callback to be executed when upload progress is updated.\n * @param {Function}  errorCallback     Callback to be executed when the upload returns an error.\n */\nVimeo.prototype.replace = function (\n  file,\n  videoUri,\n  params,\n  completeCallback,\n  progressCallback,\n  errorCallback\n) {\n  var _self = this\n  var fileSize\n\n  if (typeof params === 'function') {\n    errorCallback = progressCallback\n    progressCallback = completeCallback\n    completeCallback = params\n    params = {}\n  }\n\n  if (typeof file === 'string') {\n    try {\n      fileSize = fs.statSync(file).size\n    } catch (e) {\n      return errorCallback('Unable to locate file to upload.')\n    }\n\n    params.file_name = path.basename(file)\n  } else {\n    fileSize = file.size\n    params.file_name = file.name\n  }\n\n  // Ignore any specified upload approach and size.\n  if (typeof params.upload === 'undefined') {\n    params.upload = {\n      'approach': 'tus',\n      'size': fileSize\n    }\n  } else {\n    params.upload.approach = 'tus'\n    params.upload.size = fileSize\n  }\n\n  var options = {\n    path: videoUri + '/versions?fields=upload',\n    method: 'POST',\n    query: params\n  }\n\n  // Use JSON filtering so we only receive the data that we need to make an upload happen.\n  _self.request(options, function (err, attempt, status) {\n    if (err) {\n      return errorCallback('Unable to initiate an upload. [' + err + ']')\n    }\n\n    attempt.uri = videoUri\n\n    _self._performTusUpload(\n      file,\n      fileSize,\n      attempt,\n      completeCallback,\n      progressCallback,\n      errorCallback\n    )\n  })\n}\n\n/**\n * Take an upload attempt and perform the actual upload via tus.\n *\n * https://tus.io/\n *\n * @param {string}    filePath          Path to the file you wish to upload.\n * @param {integer}   fileSize          Size of the file that will be uploaded.\n * @param {Object}    attempt           Upload attempt data.\n * @param {Function}  completeCallback  Callback to be executed when the upload completes.\n * @param {Function}  progressCallback  Callback to be executed when the upload progress is updated.\n * @param {Function}  errorCallback     Callback to be executed when the upload returns an error.\n */\nVimeo.prototype._performTusUpload = function (\n  file,\n  fileSize,\n  attempt,\n  completeCallback,\n  progressCallback,\n  errorCallback\n) {\n  var fileUpload = file\n\n  if (typeof file === 'string') {\n    fileUpload = fs.createReadStream(file)\n  }\n\n  var upload = new tus.Upload(fileUpload, {\n    endpoint: 'none',\n    uploadSize: fileSize,\n    retryDelays: [0, 1000, 3000, 5000],\n    onError: errorCallback,\n    onProgress: progressCallback,\n    onSuccess: function () {\n      return completeCallback(attempt.uri)\n    }\n  })\n\n  upload.url = attempt.upload.upload_link\n  upload.start()\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? prefix.replace(/\\./g, '%2E') : prefix;\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list. By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('.').listGetNode} */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\tfor (; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('.').listGet} */\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('.').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('.').ListNode<typeof value>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('.').listHas} */\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @type {WeakMap<object, unknown>} */ var $wm;\n\t/** @type {Map<object, unknown>} */ var $m;\n\t/** @type {import('.').RootNode<unknown>} */ var $o;\n\n\t/** @type {import('.').Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar test = {\n\t__proto__: null,\n\tfoo: {}\n};\n\nvar $Object = Object;\n\n/** @type {import('.')} */\nmodule.exports = function hasProto() {\n\t// @ts-expect-error: TS errors on an inherited property for some reason\n\treturn { __proto__: test }.foo === test.foo\n\t\t&& !(test instanceof $Object);\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\nvar setFunctionLength = require('set-function-length');\n\nvar $TypeError = require('es-errors/type');\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $defineProperty = require('es-define-property');\nvar $max = GetIntrinsic('%Math.max%');\n\nmodule.exports = function callBind(originalFunction) {\n\tif (typeof originalFunction !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\tvar func = $reflectApply(bind, $call, arguments);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + $max(0, originalFunction.length - (arguments.length - 1)),\n\t\ttrue\n\t);\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\n\nvar gopd = require('gopd');\n\n/** @type {import('.')} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\treturn !!$defineProperty;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!$defineProperty) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nvar quotes = {\n    __proto__: null,\n    'double': '\"',\n    single: \"'\"\n};\nvar quoteREs = {\n    __proto__: null,\n    'double': /([\"\\\\])/g,\n    single: /(['\\\\])/g\n};\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && !has(quotes, opts.quoteStyle)) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (\n        (typeof globalThis !== 'undefined' && obj === globalThis)\n        || (typeof global !== 'undefined' && obj === global)\n    ) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var style = opts.quoteStyle || defaultStyle;\n    var quoteChar = quotes[style];\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    var quoteRE = quoteREs[opts.quoteStyle || 'single'];\n    quoteRE.lastIndex = 0;\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, quoteRE, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                ? []\n                : [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, check strictDepth option for throw, else just add whatever is left\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\nvar toArrayBuffer = require('to-arraybuffer')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else if (capability.vbArray && preferBinary) {\n\t\treturn 'text:vbarray'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + new Buffer(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n\t\tif (capability.arraybuffer) {\n\t\t\tbody = toArrayBuffer(Buffer.concat(self._body))\n\t\t} else if (capability.blobConstructor) {\n\t\t\tbody = new global.Blob(self._body.map(function (buffer) {\n\t\t\t\treturn toArrayBuffer(buffer)\n\t\t\t}), {\n\t\t\t\ttype: (headersObj['content-type'] || {}).value || ''\n\t\t\t})\n\t\t} else {\n\t\t\t// get utf8 string\n\t\t\tbody = Buffer.concat(self._body).toString()\n\t\t}\n\t}\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tvar fetchTimer = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tglobal.clearTimeout(self._fetchTimer)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode.split(':')[0]\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress()\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._fetchTimer)\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function () {\n\tvar self = this\n\tself._destroyed = true\n\tglobal.clearTimeout(self._fetchTimer)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setTimeout = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","\n/**\n * For Node.js, simply re-export the core `util.deprecate` function.\n */\n\nmodule.exports = require('util').deprecate;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","var Buffer = require('buffer').Buffer\n\nmodule.exports = function (buf) {\n\t// If the buffer is backed by a Uint8Array, a faster version will work\n\tif (buf instanceof Uint8Array) {\n\t\t// If the buffer isn't a subarray, return the underlying ArrayBuffer\n\t\tif (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n\t\t\treturn buf.buffer\n\t\t} else if (typeof buf.buffer.slice === 'function') {\n\t\t\t// Otherwise we need to get a proper copy\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength)\n\t\t}\n\t}\n\n\tif (Buffer.isBuffer(buf)) {\n\t\t// This is the slow version that will work with any Buffer\n\t\t// implementation (even in old browsers)\n\t\tvar arrayCopy = new Uint8Array(buf.length)\n\t\tvar len = buf.length\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tarrayCopy[i] = buf[i]\n\t\t}\n\t\treturn arrayCopy.buffer\n\t} else {\n\t\tthrow new Error('Argument must be a Buffer')\n\t}\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nmodule.exports = require('http').STATUS_CODES\n","var http = require('http')\nvar url = require('url')\n\nvar https = module.exports\n\nfor (var key in http) {\n  if (http.hasOwnProperty(key)) https[key] = http[key]\n}\n\nhttps.request = function (params, cb) {\n  params = validateParams(params)\n  return http.request.call(this, params, cb)\n}\n\nhttps.get = function (params, cb) {\n  params = validateParams(params)\n  return http.get.call(this, params, cb)\n}\n\nfunction validateParams (params) {\n  if (typeof params === 'string') {\n    params = url.parse(params)\n  }\n  if (!params.protocol) {\n    params.protocol = 'https:'\n  }\n  if (params.protocol !== 'https:') {\n    throw new Error('Protocol \"' + params.protocol + '\" not supported. Expected \"https:\"')\n  }\n  return params\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","\"use strict\";\n\nvar _upload = require(\"./upload\");\n\nvar _upload2 = _interopRequireDefault(_upload);\n\nvar _storage = require(\"./node/storage\");\n\nvar storage = _interopRequireWildcard(_storage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global window */\nvar defaultOptions = _upload2.default.defaultOptions;\n\n\nvar moduleExport = {\n  Upload: _upload2.default,\n  canStoreURLs: storage.canStoreURLs,\n  defaultOptions: defaultOptions\n};\n\nif (typeof window !== \"undefined\") {\n  // Browser environment using XMLHttpRequest\n  var _window = window,\n      XMLHttpRequest = _window.XMLHttpRequest,\n      Blob = _window.Blob;\n\n\n  moduleExport.isSupported = XMLHttpRequest && Blob && typeof Blob.prototype.slice === \"function\";\n} else {\n  // Node.js environment using http module\n  moduleExport.isSupported = true;\n  // make FileStorage module available as it will not be set by default.\n  moduleExport.FileStorage = storage.FileStorage;\n}\n\n// The usage of the commonjs exporting syntax instead of the new ECMAScript\n// one is actually inteded and prevents weird behaviour if we are trying to\n// import this module in another module using Babel.\nmodule.exports = moduleExport;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window */\n\n\n// We import the files used inside the Node environment which are rewritten\n// for browsers using the rules defined in the package.json\n\n\nvar _error = require(\"./error\");\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _extend = require(\"extend\");\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _jsBase = require(\"js-base64\");\n\nvar _request = require(\"./node/request\");\n\nvar _source = require(\"./node/source\");\n\nvar _storage = require(\"./node/storage\");\n\nvar _fingerprint = require(\"./node/fingerprint\");\n\nvar _fingerprint2 = _interopRequireDefault(_fingerprint);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultOptions = {\n  endpoint: null,\n  fingerprint: _fingerprint2.default,\n  resume: true,\n  onProgress: null,\n  onChunkComplete: null,\n  onSuccess: null,\n  onError: null,\n  headers: {},\n  chunkSize: Infinity,\n  withCredentials: false,\n  uploadUrl: null,\n  uploadSize: null,\n  overridePatchMethod: false,\n  retryDelays: null,\n  removeFingerprintOnSuccess: false,\n  uploadLengthDeferred: false,\n  urlStorage: null,\n  fileReader: null,\n  uploadDataDuringCreation: false\n};\n\nvar Upload = function () {\n  function Upload(file, options) {\n    _classCallCheck(this, Upload);\n\n    this.options = (0, _extend2.default)(true, {}, defaultOptions, options);\n\n    // The storage module used to store URLs\n    this._storage = this.options.urlStorage;\n\n    // The underlying File/Blob object\n    this.file = file;\n\n    // The URL against which the file will be uploaded\n    this.url = null;\n\n    // The underlying XHR object for the current PATCH request\n    this._xhr = null;\n\n    // The fingerpinrt for the current file (set after start())\n    this._fingerprint = null;\n\n    // The offset used in the current PATCH request\n    this._offset = null;\n\n    // True if the current PATCH request has been aborted\n    this._aborted = false;\n\n    // The file's size in bytes\n    this._size = null;\n\n    // The Source object which will wrap around the given file and provides us\n    // with a unified interface for getting its size and slice chunks from its\n    // content allowing us to easily handle Files, Blobs, Buffers and Streams.\n    this._source = null;\n\n    // The current count of attempts which have been made. Null indicates none.\n    this._retryAttempt = 0;\n\n    // The timeout's ID which is used to delay the next retry\n    this._retryTimeout = null;\n\n    // The offset of the remote upload before the latest attempt was started.\n    this._offsetBeforeRetry = 0;\n  }\n\n  _createClass(Upload, [{\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n\n      var file = this.file;\n\n      if (!file) {\n        this._emitError(new Error(\"tus: no file or stream to upload provided\"));\n        return;\n      }\n\n      if (!this.options.endpoint && !this.options.uploadUrl) {\n        this._emitError(new Error(\"tus: neither an endpoint or an upload URL is provided\"));\n        return;\n      }\n\n      if (this.options.resume && this._storage == null) {\n        this._storage = (0, _storage.getStorage)();\n      }\n\n      if (this._source) {\n        this._start(this._source);\n      } else {\n        var fileReader = this.options.fileReader || _source.getSource;\n        fileReader(file, this.options.chunkSize, function (err, source) {\n          if (err) {\n            _this._emitError(err);\n            return;\n          }\n\n          _this._source = source;\n          _this._start(source);\n        });\n      }\n    }\n  }, {\n    key: \"_start\",\n    value: function _start(source) {\n      var _this2 = this;\n\n      var file = this.file;\n\n      // First, we look at the uploadLengthDeferred option.\n      // Next, we check if the caller has supplied a manual upload size.\n      // Finally, we try to use the calculated size from the source object.\n      if (this.options.uploadLengthDeferred) {\n        this._size = null;\n      } else if (this.options.uploadSize != null) {\n        this._size = +this.options.uploadSize;\n        if (isNaN(this._size)) {\n          this._emitError(new Error(\"tus: cannot convert `uploadSize` option into a number\"));\n          return;\n        }\n      } else {\n        this._size = source.size;\n        if (this._size == null) {\n          this._emitError(new Error(\"tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option\"));\n          return;\n        }\n      }\n\n      var retryDelays = this.options.retryDelays;\n      if (retryDelays != null) {\n        if (Object.prototype.toString.call(retryDelays) !== \"[object Array]\") {\n          this._emitError(new Error(\"tus: the `retryDelays` option must either be an array or null\"));\n          return;\n        } else {\n          var errorCallback = this.options.onError;\n          this.options.onError = function (err) {\n            // Restore the original error callback which may have been set.\n            _this2.options.onError = errorCallback;\n\n            // We will reset the attempt counter if\n            // - we were already able to connect to the server (offset != null) and\n            // - we were able to upload a small chunk of data to the server\n            var shouldResetDelays = _this2._offset != null && _this2._offset > _this2._offsetBeforeRetry;\n            if (shouldResetDelays) {\n              _this2._retryAttempt = 0;\n            }\n\n            var isOnline = true;\n            if (typeof window !== \"undefined\" && \"navigator\" in window && window.navigator.onLine === false) {\n              isOnline = false;\n            }\n\n            // We only attempt a retry if\n            // - we didn't exceed the maxium number of retries, yet, and\n            // - this error was caused by a request or it's response and\n            // - the error is server error (i.e. no a status 4xx or a 409 or 423) and\n            // - the browser does not indicate that we are offline\n            var status = err.originalRequest ? err.originalRequest.status : 0;\n            var isServerError = !inStatusCategory(status, 400) || status === 409 || status === 423;\n            var shouldRetry = _this2._retryAttempt < retryDelays.length && err.originalRequest != null && isServerError && isOnline;\n\n            if (!shouldRetry) {\n              _this2._emitError(err);\n              return;\n            }\n\n            var delay = retryDelays[_this2._retryAttempt++];\n\n            _this2._offsetBeforeRetry = _this2._offset;\n            _this2.options.uploadUrl = _this2.url;\n\n            _this2._retryTimeout = setTimeout(function () {\n              _this2.start();\n            }, delay);\n          };\n        }\n      }\n\n      // Reset the aborted flag when the upload is started or else the\n      // _startUpload will stop before sending a request if the upload has been\n      // aborted previously.\n      this._aborted = false;\n\n      // The upload had been started previously and we should reuse this URL.\n      if (this.url != null) {\n        this._resumeUpload();\n        return;\n      }\n\n      // A URL has manually been specified, so we try to resume\n      if (this.options.uploadUrl != null) {\n        this.url = this.options.uploadUrl;\n        this._resumeUpload();\n        return;\n      }\n\n      // Try to find the endpoint for the file in the storage\n      if (this._hasStorage()) {\n        this.options.fingerprint(file, this.options, function (err, fingerprintValue) {\n          if (err) {\n            _this2._emitError(err);\n            return;\n          }\n\n          _this2._fingerprint = fingerprintValue;\n          _this2._storage.getItem(_this2._fingerprint, function (err, resumedUrl) {\n            if (err) {\n              _this2._emitError(err);\n              return;\n            }\n\n            if (resumedUrl != null) {\n              _this2.url = resumedUrl;\n              _this2._resumeUpload();\n            } else {\n              _this2._createUpload();\n            }\n          });\n        });\n      } else {\n        // An upload has not started for the file yet, so we start a new one\n        this._createUpload();\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(shouldTerminate, cb) {\n      var _this3 = this;\n\n      if (this._xhr !== null) {\n        this._xhr.abort();\n        this._source.close();\n      }\n      this._aborted = true;\n\n      if (this._retryTimeout != null) {\n        clearTimeout(this._retryTimeout);\n        this._retryTimeout = null;\n      }\n\n      cb = cb || function () {};\n      if (shouldTerminate) {\n        Upload.terminate(this.url, this.options, function (err, xhr) {\n          if (err) {\n            return cb(err, xhr);\n          }\n\n          _this3._hasStorage() ? _this3._storage.removeItem(_this3._fingerprint, cb) : cb();\n        });\n      } else {\n        cb();\n      }\n    }\n  }, {\n    key: \"_hasStorage\",\n    value: function _hasStorage() {\n      return this.options.resume && this._storage;\n    }\n  }, {\n    key: \"_emitXhrError\",\n    value: function _emitXhrError(xhr, err, causingErr) {\n      this._emitError(new _error2.default(err, causingErr, xhr));\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(err) {\n      if (typeof this.options.onError === \"function\") {\n        this.options.onError(err);\n      } else {\n        throw err;\n      }\n    }\n  }, {\n    key: \"_emitSuccess\",\n    value: function _emitSuccess() {\n      if (typeof this.options.onSuccess === \"function\") {\n        this.options.onSuccess();\n      }\n    }\n\n    /**\n     * Publishes notification when data has been sent to the server. This\n     * data may not have been accepted by the server yet.\n     * @param  {number} bytesSent  Number of bytes sent to the server.\n     * @param  {number} bytesTotal Total number of bytes to be sent to the server.\n     */\n\n  }, {\n    key: \"_emitProgress\",\n    value: function _emitProgress(bytesSent, bytesTotal) {\n      if (typeof this.options.onProgress === \"function\") {\n        this.options.onProgress(bytesSent, bytesTotal);\n      }\n    }\n\n    /**\n     * Publishes notification when a chunk of data has been sent to the server\n     * and accepted by the server.\n     * @param  {number} chunkSize  Size of the chunk that was accepted by the\n     *                             server.\n     * @param  {number} bytesAccepted Total number of bytes that have been\n     *                                accepted by the server.\n     * @param  {number} bytesTotal Total number of bytes to be sent to the server.\n     */\n\n  }, {\n    key: \"_emitChunkComplete\",\n    value: function _emitChunkComplete(chunkSize, bytesAccepted, bytesTotal) {\n      if (typeof this.options.onChunkComplete === \"function\") {\n        this.options.onChunkComplete(chunkSize, bytesAccepted, bytesTotal);\n      }\n    }\n\n    /**\n     * Set the headers used in the request and the withCredentials property\n     * as defined in the options\n     *\n     * @param {XMLHttpRequest} xhr\n     */\n\n  }, {\n    key: \"_setupXHR\",\n    value: function _setupXHR(xhr) {\n      this._xhr = xhr;\n      setupXHR(xhr, this.options);\n    }\n\n    /**\n     * Create a new upload using the creation extension by sending a POST\n     * request to the endpoint. After successful creation the file will be\n     * uploaded\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_createUpload\",\n    value: function _createUpload() {\n      var _this4 = this;\n\n      if (!this.options.endpoint) {\n        this._emitError(new Error(\"tus: unable to create upload because no endpoint is provided\"));\n        return;\n      }\n\n      var xhr = (0, _request.newRequest)();\n      xhr.open(\"POST\", this.options.endpoint, true);\n\n      xhr.onload = function () {\n        if (!inStatusCategory(xhr.status, 200)) {\n          _this4._emitXhrError(xhr, new Error(\"tus: unexpected response while creating upload\"));\n          return;\n        }\n\n        var location = xhr.getResponseHeader(\"Location\");\n        if (location == null) {\n          _this4._emitXhrError(xhr, new Error(\"tus: invalid or missing Location header\"));\n          return;\n        }\n\n        _this4.url = (0, _request.resolveUrl)(_this4.options.endpoint, location);\n\n        if (_this4._size === 0) {\n          // Nothing to upload and file was successfully created\n          _this4._emitSuccess();\n          _this4._source.close();\n          return;\n        }\n\n        if (_this4._hasStorage()) {\n          _this4._storage.setItem(_this4._fingerprint, _this4.url, function (err) {\n            if (err) {\n              _this4._emitError(err);\n            }\n          });\n        }\n\n        if (_this4.options.uploadDataDuringCreation) {\n          _this4._handleUploadResponse(xhr);\n        } else {\n          _this4._offset = 0;\n          _this4._startUpload();\n        }\n      };\n\n      xhr.onerror = function (err) {\n        _this4._emitXhrError(xhr, new Error(\"tus: failed to create upload\"), err);\n      };\n\n      this._setupXHR(xhr);\n      if (this.options.uploadLengthDeferred) {\n        xhr.setRequestHeader(\"Upload-Defer-Length\", 1);\n      } else {\n        xhr.setRequestHeader(\"Upload-Length\", this._size);\n      }\n\n      // Add metadata if values have been added\n      var metadata = encodeMetadata(this.options.metadata);\n      if (metadata !== \"\") {\n        xhr.setRequestHeader(\"Upload-Metadata\", metadata);\n      }\n\n      if (this.options.uploadDataDuringCreation && !this.options.uploadLengthDeferred) {\n        this._offset = 0;\n        this._addChunkToRequest(xhr);\n      } else {\n        xhr.send(null);\n      }\n    }\n\n    /*\n     * Try to resume an existing upload. First a HEAD request will be sent\n     * to retrieve the offset. If the request fails a new upload will be\n     * created. In the case of a successful response the file will be uploaded.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_resumeUpload\",\n    value: function _resumeUpload() {\n      var _this5 = this;\n\n      var xhr = (0, _request.newRequest)();\n      xhr.open(\"HEAD\", this.url, true);\n\n      xhr.onload = function () {\n        if (!inStatusCategory(xhr.status, 200)) {\n          if (_this5._hasStorage() && inStatusCategory(xhr.status, 400)) {\n            // Remove stored fingerprint and corresponding endpoint,\n            // on client errors since the file can not be found\n            _this5._storage.removeItem(_this5._fingerprint, function (err) {\n              if (err) {\n                _this5._emitError(err);\n              }\n            });\n          }\n\n          // If the upload is locked (indicated by the 423 Locked status code), we\n          // emit an error instead of directly starting a new upload. This way the\n          // retry logic can catch the error and will retry the upload. An upload\n          // is usually locked for a short period of time and will be available\n          // afterwards.\n          if (xhr.status === 423) {\n            _this5._emitXhrError(xhr, new Error(\"tus: upload is currently locked; retry later\"));\n            return;\n          }\n\n          if (!_this5.options.endpoint) {\n            // Don't attempt to create a new upload if no endpoint is provided.\n            _this5._emitXhrError(xhr, new Error(\"tus: unable to resume upload (new upload cannot be created without an endpoint)\"));\n            return;\n          }\n\n          // Try to create a new upload\n          _this5.url = null;\n          _this5._createUpload();\n          return;\n        }\n\n        var offset = parseInt(xhr.getResponseHeader(\"Upload-Offset\"), 10);\n        if (isNaN(offset)) {\n          _this5._emitXhrError(xhr, new Error(\"tus: invalid or missing offset value\"));\n          return;\n        }\n\n        var length = parseInt(xhr.getResponseHeader(\"Upload-Length\"), 10);\n        if (isNaN(length) && !_this5.options.uploadLengthDeferred) {\n          _this5._emitXhrError(xhr, new Error(\"tus: invalid or missing length value\"));\n          return;\n        }\n\n        // Upload has already been completed and we do not need to send additional\n        // data to the server\n        if (offset === length) {\n          _this5._emitProgress(length, length);\n          _this5._emitSuccess();\n          return;\n        }\n\n        _this5._offset = offset;\n        _this5._startUpload();\n      };\n\n      xhr.onerror = function (err) {\n        _this5._emitXhrError(xhr, new Error(\"tus: failed to resume upload\"), err);\n      };\n\n      this._setupXHR(xhr);\n      xhr.send(null);\n    }\n\n    /**\n     * Start uploading the file using PATCH requests. The file will be divided\n     * into chunks as specified in the chunkSize option. During the upload\n     * the onProgress event handler may be invoked multiple times.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_startUpload\",\n    value: function _startUpload() {\n      var _this6 = this;\n\n      // If the upload has been aborted, we will not send the next PATCH request.\n      // This is important if the abort method was called during a callback, such\n      // as onChunkComplete or onProgress.\n      if (this._aborted) {\n        return;\n      }\n\n      var xhr = (0, _request.newRequest)();\n\n      // Some browser and servers may not support the PATCH method. For those\n      // cases, you can tell tus-js-client to use a POST request with the\n      // X-HTTP-Method-Override header for simulating a PATCH request.\n      if (this.options.overridePatchMethod) {\n        xhr.open(\"POST\", this.url, true);\n        xhr.setRequestHeader(\"X-HTTP-Method-Override\", \"PATCH\");\n      } else {\n        xhr.open(\"PATCH\", this.url, true);\n      }\n\n      xhr.onload = function () {\n        if (!inStatusCategory(xhr.status, 200)) {\n          _this6._emitXhrError(xhr, new Error(\"tus: unexpected response while uploading chunk\"));\n          return;\n        }\n\n        _this6._handleUploadResponse(xhr);\n      };\n\n      xhr.onerror = function (err) {\n        // Don't emit an error if the upload was aborted manually\n        if (_this6._aborted) {\n          return;\n        }\n\n        _this6._emitXhrError(xhr, new Error(\"tus: failed to upload chunk at offset \" + _this6._offset), err);\n      };\n\n      this._setupXHR(xhr);\n\n      xhr.setRequestHeader(\"Upload-Offset\", this._offset);\n      this._addChunkToRequest(xhr);\n    }\n\n    /**\n     * _addChunktoRequest reads a chunk from the source and sends it using the\n     * supplied XHR object. It will not handle the response.\n     */\n\n  }, {\n    key: \"_addChunkToRequest\",\n    value: function _addChunkToRequest(xhr) {\n      var _this7 = this;\n\n      // Test support for progress events before attaching an event listener\n      if (\"upload\" in xhr) {\n        xhr.upload.onprogress = function (e) {\n          if (!e.lengthComputable) {\n            return;\n          }\n\n          _this7._emitProgress(start + e.loaded, _this7._size);\n        };\n      }\n\n      xhr.setRequestHeader(\"Content-Type\", \"application/offset+octet-stream\");\n\n      var start = this._offset;\n      var end = this._offset + this.options.chunkSize;\n\n      // The specified chunkSize may be Infinity or the calcluated end position\n      // may exceed the file's size. In both cases, we limit the end position to\n      // the input's total size for simpler calculations and correctness.\n      if ((end === Infinity || end > this._size) && !this.options.uploadLengthDeferred) {\n        end = this._size;\n      }\n\n      this._source.slice(start, end, function (err, value, complete) {\n        if (err) {\n          _this7._emitError(err);\n          return;\n        }\n\n        if (_this7.options.uploadLengthDeferred) {\n          if (complete) {\n            _this7._size = _this7._offset + (value && value.size ? value.size : 0);\n            xhr.setRequestHeader(\"Upload-Length\", _this7._size);\n          }\n        }\n\n        if (value === null) {\n          xhr.send();\n        } else {\n          xhr.send(value);\n          _this7._emitProgress(_this7._offset, _this7._size);\n        }\n      });\n    }\n\n    /**\n     * _handleUploadResponse is used by requests that haven been sent using _addChunkToRequest\n     * and already have received a response.\n     */\n\n  }, {\n    key: \"_handleUploadResponse\",\n    value: function _handleUploadResponse(xhr) {\n      var _this8 = this;\n\n      var offset = parseInt(xhr.getResponseHeader(\"Upload-Offset\"), 10);\n      if (isNaN(offset)) {\n        this._emitXhrError(xhr, new Error(\"tus: invalid or missing offset value\"));\n        return;\n      }\n\n      this._emitProgress(offset, this._size);\n      this._emitChunkComplete(offset - this._offset, offset, this._size);\n\n      this._offset = offset;\n\n      if (offset == this._size) {\n        if (this.options.removeFingerprintOnSuccess && this.options.resume) {\n          // Remove stored fingerprint and corresponding endpoint. This causes\n          // new upload of the same file must be treated as a different file.\n          this._storage.removeItem(this._fingerprint, function (err) {\n            if (err) {\n              _this8._emitError(err);\n            }\n          });\n        }\n\n        // Yay, finally done :)\n        this._emitSuccess();\n        this._source.close();\n        return;\n      }\n\n      this._startUpload();\n    }\n  }], [{\n    key: \"terminate\",\n    value: function terminate(url, options, cb) {\n      if (typeof options !== \"function\" && typeof cb !== \"function\") {\n        throw new Error(\"tus: a callback function must be specified\");\n      }\n\n      if (typeof options === \"function\") {\n        cb = options;\n        options = {};\n      }\n\n      var xhr = (0, _request.newRequest)();\n      xhr.open(\"DELETE\", url, true);\n\n      xhr.onload = function () {\n        if (xhr.status !== 204) {\n          cb(new _error2.default(new Error(\"tus: unexpected response while terminating upload\"), null, xhr));\n          return;\n        }\n\n        cb();\n      };\n\n      xhr.onerror = function (err) {\n        cb(new _error2.default(err, new Error(\"tus: failed to terminate upload\"), xhr));\n      };\n\n      setupXHR(xhr, options);\n      xhr.send(null);\n    }\n  }]);\n\n  return Upload;\n}();\n\nfunction encodeMetadata(metadata) {\n  var encoded = [];\n\n  for (var key in metadata) {\n    encoded.push(key + \" \" + _jsBase.Base64.encode(metadata[key]));\n  }\n\n  return encoded.join(\",\");\n}\n\n/**\n * Checks whether a given status is in the range of the expected category.\n * For example, only a status between 200 and 299 will satisfy the category 200.\n *\n * @api private\n */\nfunction inStatusCategory(status, category) {\n  return status >= category && status < category + 100;\n}\n\nfunction setupXHR(xhr, options) {\n  xhr.setRequestHeader(\"Tus-Resumable\", \"1.0.0\");\n  var headers = options.headers || {};\n\n  for (var name in headers) {\n    xhr.setRequestHeader(name, headers[name]);\n  }\n\n  xhr.withCredentials = options.withCredentials;\n}\n\nUpload.defaultOptions = defaultOptions;\n\nexports.default = Upload;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DetailedError = function (_Error) {\n  _inherits(DetailedError, _Error);\n\n  function DetailedError(error) {\n    var causingErr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var xhr = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, DetailedError);\n\n    var _this = _possibleConstructorReturn(this, (DetailedError.__proto__ || Object.getPrototypeOf(DetailedError)).call(this, error.message));\n\n    _this.originalRequest = xhr;\n    _this.causingError = causingErr;\n\n    var message = error.message;\n    if (causingErr != null) {\n      message += \", caused by \" + causingErr.toString();\n    }\n    if (xhr != null) {\n      message += \", originated from request (response code: \" + xhr.status + \", response text: \" + xhr.responseText + \")\";\n    }\n    _this.message = message;\n    return _this;\n  }\n\n  return DetailedError;\n}(Error);\n\nexports.default = DetailedError;","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.5.1\";\n    // if node.js and NOT React Native, we use Buffer\n    var buffer;\n    if (typeof module !== 'undefined' && module.exports) {\n        try {\n            buffer = eval(\"require('buffer').Buffer\");\n        } catch (err) {\n            buffer = undefined;\n        }\n    }\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                   + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                   + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa ? function(b) {\n        return global.btoa(b);\n    } : function(b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function (u) {\n            return (u.constructor === buffer.constructor ? u : buffer.from(u))\n                .toString('base64')\n        }\n        :  function (u) {\n            return (u.constructor === buffer.constructor ? u : new  buffer(u))\n                .toString('base64')\n        }\n        : function (u) { return btoa(utob(u)) }\n    ;\n    var encode = function(u, urisafe) {\n        return !urisafe\n            ? _encode(String(u))\n            : _encode(String(u)).replace(/[+\\/]/g, function(m0) {\n                return m0 == '+' ? '-' : '_';\n            }).replace(/=/g, '');\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    // decoder stuff\n    var re_btou = new RegExp([\n        '[\\xC0-\\xDF][\\x80-\\xBF]',\n        '[\\xE0-\\xEF][\\x80-\\xBF]{2}',\n        '[\\xF0-\\xF7][\\x80-\\xBF]{3}'\n    ].join('|'), 'g');\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob ? function(a) {\n        return global.atob(a);\n    } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : buffer.from(a, 'base64')).toString();\n        }\n        : function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : new buffer(a, 'base64')).toString();\n        }\n        : function(a) { return btou(_atob(a)) };\n    var decode = function(a){\n        return _decode(\n            String(a).replace(/[-_]/g, function(m0) { return m0 == '-' ? '+' : '/' })\n                .replace(/[^A-Za-z0-9\\+\\/]/g, '')\n        );\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        __buffer__: buffer\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newRequest = newRequest;\nexports.resolveUrl = resolveUrl;\n\nvar _urlParse = require(\"url-parse\");\n\nvar _urlParse2 = _interopRequireDefault(_urlParse);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction newRequest() {\n  return new window.XMLHttpRequest();\n} /* global window */\nfunction resolveUrl(origin, link) {\n  return new _urlParse2.default(link, origin).toString();\n}","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address) {          // Sanitize what is left of the address\n    return address.replace('\\\\', '/');\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address) {\n  address = trimLeft(address);\n  var match = protocolre.exec(address);\n\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encodeURIComponent(key);\n      value = encodeURIComponent(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getSource = getSource;\n\nvar _isReactNative = require(\"./isReactNative\");\n\nvar _isReactNative2 = _interopRequireDefault(_isReactNative);\n\nvar _uriToBlob = require(\"./uriToBlob\");\n\nvar _uriToBlob2 = _interopRequireDefault(_uriToBlob);\n\nvar _isCordova = require(\"./isCordova\");\n\nvar _isCordova2 = _interopRequireDefault(_isCordova);\n\nvar _readAsByteArray = require(\"./readAsByteArray\");\n\nvar _readAsByteArray2 = _interopRequireDefault(_readAsByteArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FileSource = function () {\n  function FileSource(file) {\n    _classCallCheck(this, FileSource);\n\n    this._file = file;\n    this.size = file.size;\n  }\n\n  _createClass(FileSource, [{\n    key: \"slice\",\n    value: function slice(start, end, callback) {\n      // In Apache Cordova applications, a File must be resolved using\n      // FileReader instances, see\n      // https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-file/index.html#read-a-file\n      if ((0, _isCordova2.default)()) {\n        (0, _readAsByteArray2.default)(this._file.slice(start, end), function (err, chunk) {\n          if (err) return callback(err);\n\n          callback(null, chunk);\n        });\n        return;\n      }\n\n      callback(null, this._file.slice(start, end));\n    }\n  }, {\n    key: \"close\",\n    value: function close() {}\n  }]);\n\n  return FileSource;\n}();\n\nvar StreamSource = function () {\n  function StreamSource(reader, chunkSize) {\n    _classCallCheck(this, StreamSource);\n\n    this._chunkSize = chunkSize;\n    this._buffer = undefined;\n    this._bufferOffset = 0;\n    this._reader = reader;\n    this._done = false;\n  }\n\n  _createClass(StreamSource, [{\n    key: \"slice\",\n    value: function slice(start, end, callback) {\n      if (start < this._bufferOffset) {\n        callback(new Error(\"Requested data is before the reader's current offset\"));\n        return;\n      }\n\n      return this._readUntilEnoughDataOrDone(start, end, callback);\n    }\n  }, {\n    key: \"_readUntilEnoughDataOrDone\",\n    value: function _readUntilEnoughDataOrDone(start, end, callback) {\n      var _this = this;\n\n      var hasEnoughData = end <= this._bufferOffset + len(this._buffer);\n      if (this._done || hasEnoughData) {\n        var value = this._getDataFromBuffer(start, end);\n        callback(null, value, value == null ? this._done : false);\n        return;\n      }\n      this._reader.read().then(function (_ref) {\n        var value = _ref.value,\n            done = _ref.done;\n\n        if (done) {\n          _this._done = true;\n        } else if (_this._buffer === undefined) {\n          _this._buffer = value;\n        } else {\n          _this._buffer = concat(_this._buffer, value);\n        }\n\n        _this._readUntilEnoughDataOrDone(start, end, callback);\n      }).catch(function (err) {\n        callback(new Error(\"Error during read: \" + err));\n      });\n    }\n  }, {\n    key: \"_getDataFromBuffer\",\n    value: function _getDataFromBuffer(start, end) {\n      // Remove data from buffer before `start`.\n      // Data might be reread from the buffer if an upload fails, so we can only\n      // safely delete data when it comes *before* what is currently being read.\n      if (start > this._bufferOffset) {\n        this._buffer = this._buffer.slice(start - this._bufferOffset);\n        this._bufferOffset = start;\n      }\n      // If the buffer is empty after removing old data, all data has been read.\n      var hasAllDataBeenRead = len(this._buffer) === 0;\n      if (this._done && hasAllDataBeenRead) {\n        return null;\n      }\n      // We already removed data before `start`, so we just return the first\n      // chunk from the buffer.\n      return this._buffer.slice(0, end - start);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this._reader.cancel) {\n        this._reader.cancel();\n      }\n    }\n  }]);\n\n  return StreamSource;\n}();\n\nfunction len(blobOrArray) {\n  if (blobOrArray === undefined) return 0;\n  if (blobOrArray.size !== undefined) return blobOrArray.size;\n  return blobOrArray.length;\n}\n\n/*\n  Typed arrays and blobs don't have a concat method.\n  This function helps StreamSource accumulate data to reach chunkSize.\n*/\nfunction concat(a, b) {\n  if (a.concat) {\n    // Is `a` an Array?\n    return a.concat(b);\n  }\n  if (a instanceof Blob) {\n    return new Blob([a, b], { type: a.type });\n  }\n  if (a.set) {\n    // Is `a` a typed array?\n    var c = new a.constructor(a.length + b.length);\n    c.set(a);\n    c.set(b, a.length);\n    return c;\n  }\n  throw new Error(\"Unknown data type\");\n}\n\nfunction getSource(input, chunkSize, callback) {\n  // In React Native, when user selects a file, instead of a File or Blob,\n  // you usually get a file object {} with a uri property that contains\n  // a local path to the file. We use XMLHttpRequest to fetch\n  // the file blob, before uploading with tus.\n  if ((0, _isReactNative2.default)() && input && typeof input.uri !== \"undefined\") {\n    (0, _uriToBlob2.default)(input.uri, function (err, blob) {\n      if (err) {\n        return callback(new Error(\"tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. \" + err));\n      }\n      callback(null, new FileSource(blob));\n    });\n    return;\n  }\n\n  // Since we emulate the Blob type in our tests (not all target browsers\n  // support it), we cannot use `instanceof` for testing whether the input value\n  // can be handled. Instead, we simply check is the slice() function and the\n  // size property are available.\n  if (typeof input.slice === \"function\" && typeof input.size !== \"undefined\") {\n    callback(null, new FileSource(input));\n    return;\n  }\n\n  if (typeof input.read === \"function\") {\n    chunkSize = +chunkSize;\n    if (!isFinite(chunkSize)) {\n      callback(new Error(\"cannot create source for stream without a finite value for the `chunkSize` option\"));\n      return;\n    }\n    callback(null, new StreamSource(input, chunkSize));\n    return;\n  }\n\n  callback(new Error(\"source object may only be an instance of File, Blob, or Reader in this environment\"));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * uriToBlob resolves a URI to a Blob object. This is used for\n * React Native to retrieve a file (identified by a file://\n * URI) as a blob.\n */\nfunction uriToBlob(uri, done) {\n  var xhr = new XMLHttpRequest();\n  xhr.responseType = \"blob\";\n  xhr.onload = function () {\n    var blob = xhr.response;\n    done(null, blob);\n  };\n  xhr.onerror = function (err) {\n    done(err);\n  };\n  xhr.open(\"GET\", uri);\n  xhr.send();\n}\n\nexports.default = uriToBlob;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar isCordova = function isCordova() {\n  return typeof window != \"undefined\" && (typeof window.PhoneGap != \"undefined\" || typeof window.Cordova != \"undefined\" || typeof window.cordova != \"undefined\");\n};\n\nexports.default = isCordova;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * readAsByteArray converts a File object to a Uint8Array.\n * This function is only used on the Apache Cordova platform.\n * See https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-file/index.html#read-a-file\n */\nfunction readAsByteArray(chunk, callback) {\n  var reader = new FileReader();\n  reader.onload = function () {\n    callback(null, new Uint8Array(reader.result));\n  };\n  reader.onerror = function (err) {\n    callback(err);\n  };\n  reader.readAsArrayBuffer(chunk);\n}\n\nexports.default = readAsByteArray;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = fingerprint;\n\nvar _isReactNative = require(\"./isReactNative\");\n\nvar _isReactNative2 = _interopRequireDefault(_isReactNative);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Generate a fingerprint for a file which will be used the store the endpoint\n *\n * @param {File} file\n * @param {Object} options\n * @param {Function} callback\n */\nfunction fingerprint(file, options, callback) {\n  if ((0, _isReactNative2.default)()) {\n    return callback(null, reactNativeFingerprint(file, options));\n  }\n\n  return callback(null, [\"tus-br\", file.name, file.type, file.size, file.lastModified, options.endpoint].join(\"-\"));\n}\n\nfunction reactNativeFingerprint(file, options) {\n  var exifHash = file.exif ? hashCode(JSON.stringify(file.exif)) : \"noexif\";\n  return [\"tus-rn\", file.name || \"noname\", file.size || \"nosize\", exifHash, options.endpoint].join(\"/\");\n}\n\nfunction hashCode(str) {\n  // from https://stackoverflow.com/a/8831937/151666\n  var hash = 0;\n  if (str.length === 0) {\n    return hash;\n  }\n  for (var i = 0; i < str.length; i++) {\n    var char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash;\n}","import * as core from \"../core\";\nimport IndexFull from \"./IndexFull\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace listing\n * @description A nice description of what this module does...\n *\n */\nconst listing = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof listing\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        core.emitter.on( \"app--root\", () => {\n            if ( instance ) {\n                instance.teardown();\n            }\n        });\n\n        core.log( \"listing initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof listing\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof listing\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        core.emitter.fire( \"app--offcanvas\" );\n\n        core.dom.html.removeClass( core.config.offcanvasClasses ).addClass( \"is-offcanvas is-offcanvas--index\" );\n\n        if ( !instance ) {\n            const data = $_jsElement.data();\n\n            instance = new IndexFull( $_jsElement, data );\n\n        } else {\n            instance.cycleAnimation();\n        }\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof listing\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {},\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof listing\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-listing\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default listing;","import * as core from \"../core\";\nimport $ from \"properjs-hobo\";\nimport router from \"../router\";\nimport gallery from \"../gallery\";\nimport overlay from \"../overlay\";\nimport template from \"properjs-template\";\nimport Controller from \"properjs-controller\";\nimport bar from \"../bar\";\nimport Hammer from \"hammerjs\";\n\n\nconst Vimeo = require(\"vimeo\").Vimeo;\nconst client = new Vimeo(\"9d4f4417c518c95db3f8c0461eb7da3e59e7b289\", \"23AxUag/dzswqGCSY6rJdoWMsw2MnYadh4fecPP9JJiXEOS/cVaAkRrsh755tu4gEZPon9tS+j0eyN8x+2Orke5W0aGarrnfjONsurvJt8Wdv9mMQNPfz9AwpKGi+Onn\", \"15807db98b40203e65427ac71121c89a\");\n\n\n\n\nlet instance = null;\nconst animator = new Controller();\nconst _gridTitleTpl = \"<div class=\\\"listing__title js-listing-title\\\" data-title=\\\"{title}\\\"><h3 class=\\\"listing__title__text h3\\\">{text}</h3></div>\";\nconst _gridWrapTpl = \"<div class=\\\"listing__grid js-listing-project grid grid--index\\\"></div>\";\nconst _gridItemTpl = `\n<div class=\"listing__tile grid__item__small js-listing-tile\">\n    <div class=\"grid__photo grid__photo--small animate animate--fade js-animate\">\n        <figure class=\"figure\">\n            <img class=\"figure__image image js-lazy-image\" data-img-src=\"{assetUrl}\" data-variants=\"{systemDataVariants}\" data-original-size=\"{originalSize}\" />\n        </figure>\n    </div>\n</div>\n`;\n\n// @vimeoVideoUrl\nconst _gridVideoTpl = `\n<div class=\"listing__tile grid__item__small js-listing-tile\">\n    <div class=\"grid__photo grid__photo--small animate animate--fade js-animate\">\n        <figure class=\"figure\">\n            <img class=\"figure__image image image--wide js-vimeo-image\" />\n            <span class=\"icon icon--svg icon--playback _video__playback\">\n                <svg class=\"icon__svg\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" x=\"0\" y=\"0\" viewBox=\"-188 216.1 261.3 209.9\" xml:space=\"preserve\"><polygon points=\"35.8 296.4 -86.3 216.1 -86.3 426 73.3 321.1 \"/><rect x=\"-188\" y=\"216.1\" class=\"st0\" width=\"59.2\" height=\"209.9\"/></svg>\n            </span>\n        </figure>\n    </div>\n</div>\n`;\n\n\n/**\n *\n * @public\n * @class IndexFull\n * @param {Hobo} $node The element\n * @param {object} data The datas\n * @classdesc Handle an index as a Singleton(ish).\n * @memberof indexes\n *\n */\nclass IndexFull {\n    constructor ( $node, data ) {\n        if ( !instance ) {\n            this.initialize( $node, data );\n        }\n\n        return instance;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method initialize\n     * @param {Hobo} $node The element\n     * @param {object} data The datas\n     * @memberof indexes.IndexFull\n     * @description Perform instance bootstrap actions.\n     *\n     */\n    initialize ( $node, data ) {\n        this.data = data;\n        this.$node = $node;\n        this.$tile = null;\n        this.$image = null;\n        this.$target = core.dom.main.find( `.js-main--${this.data.target}` );\n        this.$anims = null;\n        this.vimeos = {};\n\n        this.bindEvents();\n        this.loadIndex();\n\n        instance = this;\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method cycleAnimation\n     * @memberof indexes.IndexFull\n     * @description Start the animation cycle for the listing.\n     *\n     */\n    cycleAnimation () {\n        // Fresh query for js- animatable elements each time\n        this.$anims = this.$node.find( \".js-animate\" );\n\n        animator.stop();\n        animator.go( this.updateAnimate.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method updateAnimate\n     * @memberof indexes.IndexFull\n     * @description Update active photos for index.\n     *\n     */\n    updateAnimate () {\n        let $anim = null;\n        let i = this.$anims.length;\n\n        for ( i; i--; ) {\n            $anim = this.$anims.eq( i );\n\n            if ( core.util.isElementInViewport( $anim[ 0 ] ) ) {\n                $anim.addClass( \"is-active\" );\n\n            } else {\n                $anim.removeClass( \"is-active\" );\n            }\n        }\n    }\n\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof indexes.IndexFull\n     * @description Bind instance events.\n     *\n     */\n    bindEvents () {\n        this.$node.on( \"click\", \".js-listing-tile\", ( e ) => {\n            if ( !gallery.menu.isActive() ) {\n                const $target = $( e.target );\n                const $tile = $target.is( \".js-listing-tile\" ) ? $target : $target.closest( \".js-listing-tile\" );\n\n                this.bindGallery( $tile );\n            }\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindGallery\n     * @param {Hobo} $elem The tile image that was clicked\n     * @memberof indexes.IndexFull\n     * @description Bind active gallery view.\n     *\n     */\n    bindGallery ( $elem ) {\n        const data = $elem.data();\n\n        this.$tile = $elem;\n        this.$image = this.$tile.find( core.config.lazyImageSelector );\n\n        // @vimeoVideoUrl\n        if ( data.vimeoId ) {\n            gallery.setVideo( this.vimeos[ data.vimeoId ] );\n\n        } else {\n            gallery.setImage( this.$image );\n        }\n\n        this._onKeyDown = this.onKeyDown.bind( this );\n        this._onGalleryImage = this.onGalleryImage.bind( this );\n        this._onGalleryBack = this.onGalleryBack.bind( this );\n\n        core.emitter.on( \"app--gallery-image\", this._onGalleryImage );\n        core.emitter.on( \"app--gallery-background\", this._onGalleryBack );\n\n        core.dom.doc.on( \"keydown\", this._onKeyDown );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method nextTile\n     * @param {Hobo} $tile The tile element\n     * @memberof indexes.IndexFull\n     * @description Transition to the next tile in a project.\n     *\n     */\n    nextTile ( $tile ) {\n        const data = $tile.data();\n\n        this.$tile = $tile;\n        this.$image = this.$tile.find( core.config.lazyImageSelector );\n\n        // @vimeoVideoUrl\n        if ( data.vimeoId ) {\n            gallery.setVideo( this.vimeos[ data.vimeoId ] );\n\n        } else {\n            gallery.setImage( this.$image );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method unbindGallery\n     * @memberof indexes.IndexFull\n     * @description Un-bind active gallery view.\n     *\n     */\n    unbindGallery () {\n        this.$tile = null;\n        this.$image = null;\n\n        overlay.close();\n        gallery.close();\n\n        core.dom.doc.off( \"keydown\", this._onKeyDown );\n        core.emitter.off( \"app--gallery-image\", this._onGalleryImage );\n        core.emitter.off( \"app--gallery-background\", this._onGalleryBack );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method nextProject\n     * @param {Hobo} $project The project grid\n     * @param {Hobo} $tile The tile image to load in gallery\n     * @memberof indexes.IndexFull\n     * @description Transition to a tile in a new project scope.\n     *\n     */\n    nextProject ( $project, $tile ) {\n        if ( $project.length ) {\n            // Tile?\n            this.$tile = $tile;\n\n            // Image?\n            this.$image = this.$tile.find( core.config.lazyImageSelector );\n\n            gallery.setImage( this.$image );\n\n            overlay.close();\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method nextTitle\n     * @param {Hobo} $title The title element\n     * @param {string} text The optional text for the title to display\n     * @memberof indexes.IndexFull\n     * @description Transition to the title of the next project.\n     *\n     */\n    nextTitle ( $title, text ) {\n        gallery.empty();\n\n        if ( $title.length ) {\n            overlay.setTitle( (text || $title.data( \"title\" )) );\n\n            overlay.open();\n\n            core.dom.gallery.element.addClass( \"is-title\" );\n\n            this.$tile = $title;\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadIndex\n     * @memberof indexes.IndexFull\n     * @description Load the full Index JSON to build the UI.\n     *\n     */\n    loadIndex () {\n        bar.load();\n\n        router.loadFullIndex( this.onLoadFullIndex.bind( this ) );\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method loadVideo\n     * @param {string} url The vimeo embed url\n     * @param {Hobo} $node The grid node in the index\n     * @memberof indexes.IndexFull\n     * @description Load the vimeo api data for a video injection.\n     *\n     */\n    loadVideo ( url, $node ) {\n        const vimeoId = url.split( \"/\" ).pop();\n\n        // core.api.vimeo( vimeoId ).then(( vData ) => {\n        //     this.vimeos[ vimeoId ] = vData;\n        //\n        //     $node.data( \"vimeoId\", vimeoId ).find( \".js-vimeo-image\" )\n        //         .removeAttr( \"data-img-src\" )\n        //         .removeAttr( \"data-variants\" )\n        //         .removeAttr( \"data-original-size\" )\n        //         .attr( \"src\", vData.pictures.sizes[ vData.pictures.sizes.length - 1 ].link );\n        // });\n\n\n        const _this = this;\n\n        client.request({\n            method: \"GET\",\n            path: `/videos/${vimeoId}`,\n        }, (error, body, status_code, headers) => {\n            const vData = body;\n\n            _this.vimeos[ vimeoId ] = vData;\n            $node.data( \"vimeoId\", vimeoId ).find( \".js-vimeo-image\" )\n                .removeAttr( \"data-img-src\" )\n                .removeAttr( \"data-variants\" )\n                .removeAttr( \"data-original-size\" )\n                .attr( \"src\", vData.pictures.sizes[ vData.pictures.sizes.length - 1 ].link );\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @method onLoadFullIndex\n     * @param {object} json The collection json\n     * @memberof indexes.IndexFull\n     * @description Receive full collections data for an index.\n     *\n     */\n    onLoadFullIndex ( json ) {\n        json.collection.collections.forEach(( collection ) => {\n            const $title = $( template( _gridTitleTpl.replace( /\\n/g, \"\" ), { text: collection.title, title: (collection.description || collection.title) } ) );\n            const $grid = $( _gridWrapTpl.replace( /\\n/g, \"\" ) );\n            let $node = null;\n\n            collection.items.forEach(( item ) => {\n\n                if ( item.recordTypeLabel === \"text\" ) {\n                    // Ignore text posts\n                } else if ( item.customContent.vimeoVideoUrl ) {\n                    // @vimeoVideoUrl\n                    $node = $( _gridVideoTpl );\n\n                    if ( item.customContent.verticalVideo ) {\n                        $node.addClass( \"vertical-video\" );\n                    }\n\n                    $grid.append( $node );\n\n                    this.loadVideo( item.customContent.vimeoVideoUrl, $node );\n\n                } else {\n                    $grid.append( template( _gridItemTpl.replace( /\\n/g, \"\" ), item ) );\n\n                    if ( item.customContent && item.customContent.diptychImage && item.customContent.diptychImage.systemDataVariants ) {\n                        $grid.append( template( _gridItemTpl.replace( /\\n/g, \"\" ), item.customContent.diptychImage ) );\n                    }\n                }\n            });\n\n            this.$node.append( $title );\n            this.$node.append( $grid );\n        });\n\n        // Node must be in DOM for image size to work\n        this.$target.append( this.$node );\n\n        core.images.handleImages( this.$node.find( \".js-lazy-image\" ), () => {\n            bar.stop();\n\n            this.cycleAnimation();\n        });\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onGalleryImage\n     * @param {string} direction The direction to move\n     * @memberof indexes.IndexFull\n     * @description Trigger gallery arrow key right.\n     *\n     */\n    onGalleryImage ( direction ) {\n        if ( direction === Hammer.DIRECTION_LEFT ) {\n            this.onKeyDown({\n                keyCode: 37\n            });\n\n        } else {\n            this.onKeyDown({\n                keyCode: 39\n            });\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onGalleryBack\n     * @memberof indexes.IndexFull\n     * @description Trigger gallery unbinding.\n     *\n     */\n    onGalleryBack () {\n        gallery.empty();\n\n        this.unbindGallery();\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onKeyDown\n     * @param {object} e The Event object\n     * @memberof indexes.IndexFull\n     * @description Handle key events when gallery is open.\n     * @returns {boolean}\n     *\n     */\n    onKeyDown ( e ) {\n        let text = null;\n        let $title = null;\n        let $parent = null;\n        let $project = null;\n        const $next = this.$tile.next();\n        const $prev = this.$tile.prev();\n\n        // Escape key\n        if ( e.keyCode === 27 ) {\n            this.unbindGallery();\n            return false;\n        }\n\n        // Currently on a Title screen\n        // Title screen is using overlay module\n        if ( this.$tile.is( \".js-listing-title\" ) ) {\n            // Arrow right\n            if ( e.keyCode === 39 ) {\n                $project = this.$tile.next();\n\n                this.nextProject( $project, $project.find( \".js-listing-tile\" ).first() );\n\n            // Arrow left\n            } else if ( e.keyCode === 37 ) {\n                $project = this.$tile.prev();\n\n                if ( $project.length ) {\n                    this.nextProject( $project, $project.find( \".js-listing-tile\" ).last() );\n                }\n            }\n\n            core.dom.gallery.element.removeClass( \"is-title\" );\n\n        // Arrow right, has next tile\n        } else if ( e.keyCode === 39 && $next.length ) {\n            this.nextTile( $next );\n\n        // Arrow right, has no next tile\n        } else if ( e.keyCode === 39 && !$next.length ) {\n            this.nextTitle( this.$tile.parent().next() );\n\n        // Arrow left, has prev tile\n        } else if ( e.keyCode === 37 && $prev.length ) {\n            this.nextTile( $prev );\n\n        // Arrow left, has not prev tile\n        } else if ( e.keyCode === 37 && !$prev.length ) {\n            text = null;\n            $parent = this.$tile.parent();\n            $title = $parent.prev().prev().prev();\n\n            // Previous project has a title\n            if ( $title.length ) {\n                text = $title.data( \"title\" );\n            }\n\n            $title = $parent.prev();\n\n            this.nextTitle( $title, text );\n        }\n    }\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method teardown\n     * @memberof indexes.IndexFull\n     * @description Undo event bindings for this instance.\n     *\n     */\n    teardown () {\n        animator.stop();\n    }\n}\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default IndexFull;\n","/**\n *\n * As bare bones a template render as it comes\n * @method template\n * @param {string} html HTML to render from\n * @param {object} data Data to render with\n * @returns {string}\n * @memberof! <global>\n *\n */\n(function ( factory ) {\n    \n    if ( typeof exports === \"object\" && typeof module !== \"undefined\" ) {\n        module.exports = factory();\n\n    } else if ( typeof window !== \"undefined\" ) {\n        window.template = factory();\n    }\n    \n})(function () {\n\n    var template = function ( html, data ) {\n        // Allow varying bracket styles, {{foo}} or {foo}\n        return html.replace( /\\{{1,2}([^{}]*)\\}{1,2}/g, function ( a, b ) {\n            // Replace spaces, allowing { foo } style\n            var r = data[ b.replace( /\\s/g, \"\" ) ];\n    \n            // Allow string or numeral replacement\n            // This would be interesting also, return (\"\" + r);\n            // That would give you [Object object] for values that are iterable\n            return ( typeof r === \"string\" || typeof r === \"number\" ) ? r : a;\n        });\n    };\n\n    return template;\n\n});","import * as core from \"../core\";\nimport Project from \"./Project\";\n\n\nlet $_jsElement = null;\nlet instance = null;\n\n\n/**\n *\n * @public\n * @namespace projects\n * @description A nice description of what this module does...\n *\n */\nconst projects = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof projects\n     * @description Method runs once when window loads.\n     *\n     */\n    init () {\n        if ( !core.dom.project.element.is( \".is-active\" ) ) {\n            core.dom.project.element.detach();\n        }\n\n        core.log( \"projects initialized\" );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method isActive\n     * @memberof projects\n     * @description Method informs PageController of active status.\n     * @returns {boolean}\n     *\n     */\n    isActive () {\n        return (this.getElements() > 0);\n    },\n\n\n    /**\n     *\n     * @public\n     * @method onload\n     * @memberof projects\n     * @description Method performs onloading actions for this module.\n     *\n     */\n    onload () {\n        const data = $_jsElement.data();\n\n        instance = new Project( $_jsElement, data );\n\n        core.emitter.on( \"app--root\", killProject );\n        core.emitter.on( \"app--project-ended\", killProject );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method unload\n     * @memberof projects\n     * @description Method performs unloading actions for this module.\n     *\n     */\n    unload () {\n        this.teardown();\n    },\n\n\n    /**\n     *\n     * @public\n     * @method teardown\n     * @memberof projects\n     * @description Method performs cleanup after this module. Remmoves events, null vars etc...\n     *\n     */\n    teardown () {\n        $_jsElement = null;\n\n        if ( instance ) {\n            instance.teardown();\n            instance = null;\n        }\n\n        core.emitter.off( \"app--root\", killProject );\n        core.emitter.off( \"app--project-ended\", killProject );\n    },\n\n\n    /**\n     *\n     * @public\n     * @method getElements\n     * @memberof projects\n     * @description Method queries DOM for this modules node.\n     * @returns {number}\n     *\n     */\n    getElements () {\n        $_jsElement = core.dom.page.find( \".js-project\" );\n\n        return ( $_jsElement.length );\n    }\n};\n\n\n\n/**\n *\n * @private\n * @method killProject\n * @memberof projects\n * @description Destroy a project instance.\n *\n */\nconst killProject = function () {\n    if ( instance ) {\n        instance.teardown();\n        instance = null;\n    }\n};\n\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default projects;","import * as core from \"./core\";\n\n\n/**\n *\n * @public\n * @namespace intro\n * @description Performs the branded load-in screen sequence.\n *\n */\nconst intro = {\n    /**\n     *\n     * @public\n     * @method teardown\n     * @memberof intro\n     * @description Method removes loadin node from DOM.\n     *\n     */\n    teardown () {\n        if ( !core.dom.intro.length ) {\n            return;\n        }\n\n        setTimeout( () => {\n            core.dom.intro.removeClass( \"is-active\" );\n\n            setTimeout( () => core.dom.intro.remove(), core.util.getTransitionDuration( core.dom.intro[ 0 ] ) );\n\n        }, 1000 );\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default intro;","import $ from \"properjs-hobo\";\nimport * as core from \"./core\";\n\n\n/**\n *\n * @public\n * @module main\n * @description Performs the branded load-in screen sequence.\n *\n */\nconst main = {\n    /**\n     *\n     * @public\n     * @method init\n     * @memberof main\n     * @description Initialize the main element.\n     *\n     */\n    init () {\n        this.$mainPanels = core.dom.main.find( \".js-main-panel\" );\n        this.mainDuration = core.util.getTransitionDuration( this.$mainPanels[ 0 ] );\n\n        this.bindEvents();\n    },\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method bindEvents\n     * @memberof App\n     * @description Bind top-level app events.\n     *\n     */\n    bindEvents () {\n        core.dom.header.on( \"click\", \".js-controller\", this.onController.bind( this ) );\n    },\n\n\n    /**\n     *\n     * @public\n     * @instance\n     * @method onController\n     * @param {object} e The Event object\n     * @memberof App\n     * @description Handle controller links for main app.\n     *\n     */\n    onController ( e ) {\n        e.preventDefault();\n\n        const $target = $( e.target );\n        const $controller = $target.is( \".js-controller\" ) ? $target : $target.closest( \".js-controller\" );\n        const data = $controller.data();\n        const $panel = core.dom.main.find( `.js-main--${data.target}` );\n\n        this.$mainPanels.removeClass( \"is-active\" );\n        $panel.addClass( \"is-active\" );\n\n        core.dom.main[ 0 ].id = `is-main--${data.target}`;\n    }\n};\n\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexport default main;","module.exports = __webpack_public_path__ + \"../styles/screen.css\";"],"sourceRoot":""}