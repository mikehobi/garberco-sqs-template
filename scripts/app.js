!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=61)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resizes=e.resizer=e.emitter=e.Analytics=e.cache=e.api=e.log=e.env=e.config=e.util=e.images=e.dom=e.detect=void 0;var r=m(n(34)),o=m(n(18)),i=m(n(92)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(13)),s=m(n(22)),u=m(n(35)),l=m(n(14)),c=m(n(94)),f=m(n(95)),h=m(n(96)),p=m(n(24)),d=m(n(38)),y=m(n(98));function m(t){return t&&t.__esModule?t:{default:t}}e.detect=r.default,e.dom=o.default,e.images=i.default,e.util=a,e.config=s.default,e.env=u.default,e.log=l.default,e.api=c.default,e.cache=f.default,e.Analytics=h.default,e.emitter=p.default,e.resizer=d.default,e.resizes=y.default},function(t,e,n){var r=n(3),o=[],i=function(t,e){if(this._hobo=r.version,this._context=e&&e.nodeType&&1===e.nodeType?e:document,t===window||t===document||t.nodeType&&1===t.nodeType)this._selector="",t=[t];else if("string"==typeof t)if(t=r.trimString(t),r.rTag.test(t)){t=t.replace(r.rDocType,"");var n=document.createElement("hobo");n.innerHTML=t,t=r.makeArray(n.children),n=null}else this._selector=t,t=r.makeArray(this._context.querySelectorAll(t));else void 0!==t.length&&(this._selector="",t=r.makeArray(t));this._events={},this.length=t.length;for(var o=this.length;o--;)this[o]=t[o];this.forEach(r.makeData)};i.prototype.splice=o.splice,i.prototype.each=o.forEach,i.prototype.forEach=o.forEach,i.prototype.push=o.push,i.prototype.map=o.map,t.exports=i},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n=/^data-/,r=/\D/g,o=/-([\da-z])/gi,i=/^\[|\{/,a=/^\s+|\s+$/g,s=function(t){return t.replace(o,(function(t,e){return e.toUpperCase()}))},u=function(t,e){var n,r,o,i=[];for(o in t)t.hasOwnProperty(o)&&(n=e?e+"["+o+"]":o,r=t[o],Array.isArray(r)?r.forEach((function(t){i.push(encodeURIComponent(n)+"[]="+encodeURIComponent(t))})):"object"==typeof r?i.push(u(r,n)):i.push(encodeURIComponent(n)+"="+encodeURIComponent(r)));return i.join("&")},l=function(t){if(i.test(t))try{t=JSON.parse(t)}catch(t){throw t}return t},c=function(t){for(var e=t.attributes.length;e--;)if(n.test(t.attributes[e].name)){var r=s(t.attributes[e].name.replace(n,""));t.hoboDataMap[r]=l(t.attributes[e].value)}},f=function(t){for(var e in t.dataset)t.dataset.hasOwnProperty(e)&&(t.hoboDataMap[e]=l(t.dataset[e]))};t.exports={version:"0.3.15",rData:n,rDigit:r,rTag:/^</,rJson:i,rDocType:/^<\!DOCTYPE\shtml>/i,rFront2Back:a,trimString:function(t){return t.replace(a,"")},camelCase:s,makeId:function(){return"hobo"+("0.3.15"+Math.random()).replace(r,"")},makeArray:function(t){return[].slice.call(t)},makeData:function(t){t.hoboDataMap||(t.hoboDataMap={}),t.dataset?f(t):t.attributes&&c(t)},storeData:function(t,e){var n,r;for(r in t)t.hasOwnProperty(r)&&(n=s(r),e.hoboDataMap[n]=t[r])},retrieveData:function(t,e){var n=null;return t=s(t),e.hoboDataMap&&e.hoboDataMap[t]&&(n=e.hoboDataMap[t]),n},mergeData:function(t,e){for(var n in e.hoboDataMap)e.hoboDataMap.hasOwnProperty(n)&&!t[n]&&(t[n]=e.hoboDataMap[n])},removeData:function(t,e){t=s(t),e.hoboDataMap&&e.hoboDataMap[t]&&delete e.hoboDataMap[t]},serializeData:u,getClass:function(t){return t.getAttribute("class")||""},setClass:function(t,e){t.setAttribute("class",e)}}},function(t,e,n){(function(e){t.exports=e.hobo=n(62)}).call(this,n(2))},function(t,e,n){
/*!
 *
 * Use native element selector matching
 *
 * @matchElement
 * @author: kitajchuk
 *
 */
var r;t.exports=r=function(t,e,n){var o=t.matches?"matches":t.webkitMatchesSelector?"webkitMatchesSelector":t.mozMatchesSelector?"mozMatchesSelector":t.msMatchesSelector?"msMatchesSelector":t.oMatchesSelector?"oMatchesSelector":null;return o&&t[o].call(t,e)?t:n&&t!==document.documentElement&&t.parentNode?r(t.parentNode,e,n):null}},function(t,e,n){
/*!
 *
 * Event / Animation cycle manager
 *
 * @Controller
 * @author: kitajchuk
 *
 *
 */
var r,o,i;t.exports=(r=window.requestAnimationFrame,o=window.cancelAnimationFrame,(i=function(){return this.init.apply(this,arguments)}).prototype={constructor:i,init:function(){this._handlers={},this._uid=0,this._started=!1,this._paused=!1,this._cycle=null},go:function(t){if(this._started&&this._cycle)return this;this._started=!0;var e=this,n=function(){e._cycle=r(n),e._started&&"function"==typeof t&&t()};n()},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},stop:function(){return o(this._cycle),this._paused=!1,this._started=!1,this._cycle=null,this},on:function(t,e){var n=t.split(" ");e._jsControllerID=this.getUID();for(var r=n.length;r--;)"function"==typeof e&&(this._handlers[n[r]]||(this._handlers[n[r]]=[]),this._handlers[n[r]].push(e));return this},off:function(t,e){return this._handlers[t]?(e?this._off(t,e):this._offed(t),this):this},fire:function(t){if(!this._handlers[t])return this;for(var e=[].slice.call(arguments,1),n=this._handlers[t].length;n--;)this._handlers[t][n].apply(this,e);return this},getUID:function(){return this._uid=this._uid+1,this._uid},_off:function(t,e){for(var n=0,r=this._handlers[t].length;n<r;n++)if(e._jsControllerID===this._handlers[t][n]._jsControllerID){this._handlers[t].splice(n,1);break}},_offed:function(t){for(var e=this._handlers[t].length;e--;)this._handlers[t][e]=null;delete this._handlers[t]}},i)},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!c){var t=s(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){try{var r=n(49);if("function"!=typeof r.inherits)throw"";t.exports=r.inherits}catch(e){t.exports=n(142)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var o=!1,i=!1,a={init:function(){r.dom.overlay.element.is(".is-active")?o=!0:r.dom.overlay.element.detach()},open:function(){if(o||i)return this;o=!0,r.dom.html.addClass("is-overlay-active"),r.dom.body.append(r.dom.overlay.element),setTimeout((function(){return r.dom.overlay.element.addClass("is-active")}),10)},close:function(){var t=this;if(!o)return this;r.dom.overlay.element.removeClass("is-active"),setTimeout((function(){o=!1,r.dom.html.removeClass("is-overlay-active"),r.dom.overlay.element.detach().removeClass("is-intro"),t.empty()}),r.dom.overlay.elementTransitionDuration)},empty:function(){r.dom.overlay.elementTitle[0].innerHTML=""},suppress:function(t){(i=t)&&o&&this.close()},setTitle:function(t){i||(r.dom.overlay.elementTitle[0].innerHTML=t)},isActive:function(){return o}};e.default=a},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(112),o=n(113),i=n(44);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(c(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return j(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var c=-1;for(i=n;i<s;i++)if(l(t,i)===l(e,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(l(t,i+h)!==l(e,h)){f=!1;break}if(f)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,r){return $(q(e,t.length-n),t,n,r)}function w(t,e,n,r){return $(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function E(t,e,n,r){return w(t,e,n,r)}function T(t,e,n,r){return $(B(e),t,n,r)}function S(t,e,n,r){return $(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,l=t[o],c=null,f=l>239?4:l>223?3:l>191?2:1;if(o+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&l)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):y.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),l=this.slice(r,o),c=t.slice(e,n),f=0;f<s;++f)if(l[f]!==c[f]){i=l[f],a=c[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function j(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=z(t[i]);return o}function C(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function R(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,i){return i||R(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,i){return i||R(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:q(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(2))},function(t,e,n){"use strict";var r=n(122),o=n(123),i=n(124),a=n(125),s=n(45),u=n(16),l=n(126),c=Function,f=function(t){try{return c('"use strict"; return ('+t+").constructor;")()}catch(t){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(t){h=null}var p=function(){throw new u},d=h?function(){try{return p}catch(t){try{return h(arguments,"callee").get}catch(t){return p}}}():p,y=n(127)(),m=n(129)(),v=Object.getPrototypeOf||(m?function(t){return t.__proto__}:null),g={},b="undefined"!=typeof Uint8Array&&v?v(Uint8Array):void 0,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":y&&v?v([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":g,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&v?v(v([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&y&&v?v((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&y&&v?v((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&v?v(""[Symbol.iterator]()):void 0,"%Symbol%":y?Symbol:void 0,"%SyntaxError%":s,"%ThrowTypeError%":d,"%TypedArray%":b,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(v)try{null.error}catch(t){var w=v(v(t));_["%Error.prototype%"]=w}var E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=n(29),S=n(131),A=T.call(Function.call,Array.prototype.concat),O=T.call(Function.apply,Array.prototype.splice),x=T.call(Function.call,String.prototype.replace),P=T.call(Function.call,String.prototype.slice),j=T.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,M=function(t){var e=P(t,0,1),n=P(t,-1);if("%"===e&&"%"!==n)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new s("invalid intrinsic syntax, expected opening `%`");var r=[];return x(t,C,(function(t,e,n,o){r[r.length]=n?x(o,k,"$1"):e||t})),r},I=function(t,e){var n,r=t;if(S(E,r)&&(r="%"+(n=E[r])[0]+"%"),S(_,r)){var o=_[r];if(o===g&&(o=function t(e){var n;if("%AsyncFunction%"===e)n=f("async function () {}");else if("%GeneratorFunction%"===e)n=f("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=f("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&v&&(n=v(o.prototype))}return _[e]=n,n}(r)),void 0===o&&!e)throw new u("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new s("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new u('"allowMissing" argument must be a boolean');if(null===j(/^%?[^%]*%?$/,t))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=M(t),r=n.length>0?n[0]:"",o=I("%"+r+"%",e),i=o.name,a=o.value,l=!1,c=o.alias;c&&(r=c[0],O(n,A([0,1],c)));for(var f=1,p=!0;f<n.length;f+=1){var d=n[f],y=P(d,0,1),m=P(d,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new s("property names with quotes must have matching quotes");if("constructor"!==d&&p||(l=!0),S(_,i="%"+(r+="."+d)+"%"))a=_[i];else if(null!=a){if(!(d in a)){if(!e)throw new u("base intrinsic for "+t+" exists, but the property is not available.");return}if(h&&f+1>=n.length){var v=h(a,d);a=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:a[d]}else p=S(a,d),a=a[d];p&&!l&&(_[i]=a)}}return a}},function(t,e,n){"use strict";var r=n(20),o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var i=Object.create(n(17));i.inherits=n(8);var a=n(52),s=n(56);i.inherits(f,a);for(var u=o(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultHammerOptions=e.getTransitionDuration=e.isElementInViewport=e.getTransformValues=e.getElementsInView=e.isElementLoadable=e.updateImages=e.extendObject=e.translate3d=e.loadImages=e.getPageKey=e.noop=e.px=void 0;var r=l(n(4)),o=l(n(91)),i=l(n(18)),a=l(n(22)),s=l(n(34)),u=l(n(23));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){if(t)return t.getBoundingClientRect().top<2*window.innerHeight},f=function(t){if(t){var e=t.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>0}},h=function(t,e){for(var n=Math.max.apply(null,t),r=t.length;r--;)t[r]>=e&&t[r]<n&&(n=t[r]);return n},p=function(t,e,n,r){var s=/\?(.*)$/,u=function(t){return parseInt(t,10)},l=null,c=null,p=null,d=null,m=null,v=null,g=null,b=null;for(e=e||f,n||!1===n||(n=!0),b=(t=t||i.default.page.find(a.default.lazyImageSelector)).length;b--;)c=(l=t.eq(b)).data(),m=r||l[0].clientWidth||l[0].parentNode.clientWidth||window.innerWidth,g=c.imgSrc.replace(s,""),c.originalSize&&((p=y(c.originalSize)).width>p.height?l.addClass("image--wide"):l.addClass("image--tall")),n&&c.variants&&(d=c.variants.split(",").map(u),v=h(d,m),l[0].setAttribute(a.default.lazyImageAttr,g+"?format="+v+"w"));return new o.default({elements:t,property:a.default.lazyImageAttr,executor:e})},d=function(){return!0},y=function(t){var e=t.split("x");return{width:parseInt(e[0],10),height:parseInt(e[1],10)}};e.px=function(t){return t+"px"},e.noop=d,e.getPageKey=function(){return window.location.pathname===a.default.appRoot?a.default.homepageKey:""+window.location.pathname+window.location.search},e.loadImages=p,e.translate3d=function(t,e,n,r){t.style[u.default.prefixed(t.style,"transform")]="translate3d( "+e+", "+n+", "+r+" )"},e.extendObject=function(t,e){var n=null,r=Array.isArray(t)?[]:{};if(Array.isArray(e)){for(n=t.length;n--;)r[n]=t[n];for(n=e.length;n--;)r[n]=e[n]}else{for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}return r},e.updateImages=function(t){(t=t||(0,r.default)("["+a.default.imageLoaderAttr+"]")).length&&(t.removeAttr(a.default.imageLoaderAttr),p(t,d))},e.isElementLoadable=c,e.getElementsInView=function(t){for(var e=t.length,n=(0,r.default)([]);e--;)c(t[e])&&n.push(t[e]);return n},e.getTransformValues=function(t){if(!t)return null;var e=window.getComputedStyle(t)[u.default.prefixed(t.style,"transform")].replace(/matrix|3d|\(|\)|\s/g,"").split(","),n={};return"none"===e[0]?(n.x=0,n.y=0,n.z=0):16===e.length?(n.x=parseFloat(e[12]),n.y=parseFloat(e[13]),n.z=parseFloat(e[14])):(n.x=parseFloat(e[4]),n.y=parseFloat(e[5]),n.z=0),n},e.isElementInViewport=f,e.getTransitionDuration=function(t){var e=0,n=null,r=1e3;return t&&(n=getComputedStyle(t)["transition-duration"],r=-1===String(n).indexOf("ms")?1e3:1,e=parseFloat(n)*r),e},e.getDefaultHammerOptions=function(){return s.default.isDevice()?{}:{cssProps:{contentZoomingString:!1,tapHighlightColorString:!1,touchCalloutString:!1,touchSelectString:!1,userDragString:!1,userSelectString:!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(35),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(){if(i.default.isDev()){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.log(e)}}},function(t,e,n){
/*!
 *
 * A base set of easing methods
 * Most of which were found here:
 * https://gist.github.com/gre/1650294
 *
 * @Easing
 * @author: kitajchuk
 *
 */
t.exports={linear:function(t){return t},swing:function(t){return(1-Math.cos(t*Math.PI))/2},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,n){"use strict";t.exports=TypeError},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(10).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(13));var s=(0,i.default)(".js-overlay"),u=(0,i.default)(".js-project-view"),l=(0,i.default)(".js-gallery"),c={doc:(0,i.default)(document),html:(0,i.default)(document.documentElement),body:(0,i.default)(document.body),header:(0,i.default)(".js-header"),nav:(0,i.default)(".js-nav"),intro:(0,i.default)(".js-intro"),overlay:{element:s,elementTitle:s.find(".js-overlay-title"),elementTransitionDuration:a.getTransitionDuration(s[0])},gallery:{element:l,elementNode:l.find(".js-gallery-node")},page:(0,i.default)(".js-page"),project:{element:u,elementPane:u.find(".js-project-view-pane"),elementTransitionDuration:a.getTransitionDuration(u[0])},root:(0,i.default)(".js-root"),main:(0,i.default)(".js-main")};e.default=c},function(t,e,n){
/*!
 *
 * A simple tween class using requestAnimationFrame
 *
 * @Tween
 * @author: kitajchuk
 *
 */
var r;t.exports=(r={ease:n(15).linear,duration:600,from:0,to:0,delay:0,update:function(){},complete:function(){}},function(t){for(var e in t=t||{},r)void 0===t[e]&&(t[e]=r[e]);var n=t.to-t.from,o=null,i=null,a=!1;function s(e){if(!a){null===o&&(o=e);var r=e-o,u=n*t.ease(r/t.duration)+t.from;if("function"==typeof t.update&&t.update(u),r>t.duration)return"function"==typeof t.complete&&t.complete(t.to),cancelAnimationFrame(i),i=null,!1;i=requestAnimationFrame(s)}}setTimeout((function(){i=requestAnimationFrame(s)}),t.delay),this.stop=function(){a=!0,cancelAnimationFrame(i),i=null}})},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,o)}));default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick((function(){t.apply(null,i)}))}}}:t.exports=e}).call(this,n(7))},function(t,e,n){var r=n(10),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a),i(o,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={rootUrlId:"garberco",homepageKey:"homepage",lazyImageSelector:".js-lazy-image",lazyImageAttr:"data-img-src",imageLoaderAttr:"data-imageloader",offcanvasClasses:"is-offcanvas is-offcanvas--about is-offcanvas--index is-offcanvas--project"}},function(t,e,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(o,i,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=i.createElement("div"),f=Math.round,h=Math.abs,p=Date.now;function d(t,e,n){return setTimeout(w(t,n),e)}function y(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var g=v((function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&void 0===t[r[o]])&&(t[r[o]]=e[r[o]]),o++;return t}),"extend","Use `assign`."),b=v((function(t,e){return g(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var r,o=e.prototype;(r=t.prototype=Object.create(o)).constructor=t,r._super=o,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function T(t,e){return void 0===t?e:t}function S(t,e,n){m(P(e),(function(e){t.addEventListener(e,n,!1)}))}function A(t,e,n){m(P(e),(function(e){t.removeEventListener(e,n,!1)}))}function O(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function j(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];j(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function M(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<l.length;){if((r=(n=l[i])?n+o:e)in t)return r;i++}}var I=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var R="ontouchstart"in o,L=void 0!==M(o,"PointerEvent"),U=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=["x","y"],z=["clientX","clientY"];function q(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function B(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=1&e&&r-o==0,a=12&e&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=$(e));o>1&&!n.firstMultiple?n.firstMultiple=$(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,u=e.center=F(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=Y(s,u),e.distance=V(s,u),function(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};1!==e.eventType&&4!==i.eventType||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}(n,e),e.offsetDirection=W(e.deltaX,e.deltaY);var l=H(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,e.scale=a?(c=a.pointers,f=r,V(f[0],f[1],z)/V(c[0],c[1],z)):1,e.rotation=a?function(t,e){return Y(e[1],e[0],z)+Y(t[1],t[0],z)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,o,i,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=H(s,u,l);r=c.x,o=c.y,n=h(c.x)>h(c.y)?c.x:c.y,i=W(u,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}(n,e);var c,f;var d=t.element;O(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function $(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:F(e),deltaX:t.deltaX,deltaY:t.deltaY}}function F(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:f(n/e),y:f(r/e)}}function H(t,e,n){return{x:e/t||0,y:n/t||0}}function W(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function V(t,e,n){n||(n=N);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function Y(t,e,n){n||(n=N);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}q.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(D(this.element),this.evWin,this.domHandler)}};var G={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,q.apply(this,arguments)}_(X,q,{handler:function(t){var e=G[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",Z="pointermove pointerup pointercancel";function tt(){this.evEl=Q,this.evWin=Z,q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(Q="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),_(tt,q,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=K[r],i=J[t.pointerType]||t.pointerType,a="touch"==i,s=j(e,t.pointerId,"pointerId");1&o&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&o&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,q.apply(this,arguments)}function rt(t,e){var n=C(t.touches),r=C(t.changedTouches);return 12&e&&(n=k(n.concat(r),"identifier",!0)),[n,r]}_(nt,q,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var ot={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},q.apply(this,arguments)}function at(t,e){var n=C(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=C(t.changedTouches),s=[],u=this.target;if(i=n.filter((function(t){return O(t.target,u)})),1===e)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),12&e&&delete r[a[o].identifier],o++;return s.length?[k(i.concat(s),"identifier",!0),s]:void 0}_(it,q,{handler:function(t){var e=ot[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function st(){q.apply(this,arguments);var t=w(this.handler,this);this.touch=new it(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=25&&a<=25)return!0}return!1}_(st,q,{handler:function(t,e,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ut.call(this,e,n);else if(o&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ft=M(c.style,"touchAction"),ht=void 0!==ft,pt=function(){if(!ht)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||o.CSS.supports("touch-action",n)})),t}();function dt(t,e){this.manager=t,this.set(e)}dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ft]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(x(t,"none"))return"none";var e=x(t,"pan-x"),n=x(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(x(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,o=x(r,"none")&&!pt.none,i=x(r,"pan-y")&&!pt["pan-y"],a=x(r,"pan-x")&&!pt["pan-x"];if(o){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!i)return o||i&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function yt(t){this.options=u({},this.defaults,t||{}),this.id=I++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function gt(t,e){var n=e.manager;return n?n.get(t):t}function bt(){yt.apply(this,arguments)}function _t(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function Et(){yt.apply(this,arguments),this._timer=null,this._input=null}function Tt(){bt.apply(this,arguments)}function St(){bt.apply(this,arguments)}function At(){yt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ot(t,e){return(e=e||{}).recognizers=T(e.recognizers,Ot.defaults.preset),new xt(t,e)}yt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(y(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=gt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return y(t,"dropRecognizeWith",this)||(t=gt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(y(t,"requireFailure",this))return this;var e=this.requireFail;return-1===j(e,t=gt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(y(t,"dropRequireFailure",this))return this;t=gt(t,this);var e=j(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+mt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(bt,yt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,o=this.attrTest(t);return r&&(8&n||!o)?16|e:r||o?4&n?8|e:2&e?4|e:2:32}}),_(_t,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(6&e.direction?(o=0===i?1:i<0?2:4,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),_(Et,yt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),_(Tt,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(St,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _t.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(At,yt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&o&&n){if(4!=t.eventType)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||V(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ot.VERSION="2.0.7",Ot.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Tt,{enable:!1}],[wt,{enable:!1},["rotate"]],[St,{direction:6}],[_t,{direction:6},["swipe"]],[At],[At,{event:"doubletap",taps:2},["tap"]],[Et]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function xt(t,e){var n;this.options=u({},Ot.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:U?it:R?st:X))(n,B),this.touchAction=new dt(this,this.options.touchAction),Pt(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Pt(t,e){var n,r=t.element;r.style&&(m(t.options.cssProps,(function(o,i){n=M(r.style,i),e?(t.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}xt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof yt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(y(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(y(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=j(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(P(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(P(t),(function(t){e?n[t]&&n[t].splice(j(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Pt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ot,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:xt,Input:q,TouchAction:dt,TouchInput:it,MouseInput:X,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:yt,AttrRecognizer:bt,Tap:At,Pan:_t,Swipe:St,Pinch:wt,Rotate:Tt,Press:Et,on:S,off:A,each:m,merge:b,extend:g,assign:u,inherit:_,bindFn:w,prefixed:M}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Ot,void 0===(r=function(){return Ot}.call(e,n,e,t))||(t.exports=r)}(window,document)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6);var i=new((r=o)&&r.__esModule?r:{default:r}).default;e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(15)),o=y(n(19)),i=y(n(100)),a=y(n(4)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),u=y(n(105)),l=y(n(107)),c=y(n(170)),f=y(n(173)),h=y(n(9)),p=y(n(33)),d=y(n(26));function y(t){return t&&t.__esModule?t:{default:t}}var m={init:function(){this.state={},this.navData=s.dom.nav.data(),this.pageData=s.dom.page.data(),this.pageDuration=s.util.getTransitionDuration(s.dom.page[0]),this.tweenScroll=null,this.$rootPanel=s.dom.main.find(".js-main--garberco"),this.prepPage(),this.bindEmptyHashLinks(),this.initPageController(),s.log("router initialized")},route:function(t){this.controller.getRouter().trigger(t)},push:function(t,e){this.controller.routeSilently(t,e||s.util.noop)},redirect:function(){window.location.href=window.location.origin},initPageController:function(){this.controller=new i.default({}),this.controller.setConfig(["*"]),this.controller.setModules([u.default,l.default,c.default,f.default]),this.controller.on("page-controller-router-transition-out",this.changePageOut.bind(this)),this.controller.on("page-controller-router-refresh-document",this.changeContent.bind(this)),this.controller.on("page-controller-router-transition-in",this.changePageIn.bind(this)),this.controller.on("page-controller-initialized-page",this.initPage.bind(this)),this.controller.on("page-controller-router-samepage",this.samePage.bind(this)),this.controller.initPage()},prepPage:function(){var t=this;this.root=null;var e=window.location.pathname.split("/")[1];"index"!==this.pageData.type?"shop"===e?(this.root="/shop",this.loadRootIndex()):("offcanvas"===this.pageData.type?this.root="/":(this.navData.appTree.forEach((function(e){e.items&&e.items.forEach((function(n){n.collection.id===t.pageData.id&&(t.root=e.collection.fullUrl)}))})),s.dom.html.removeClass("hide-index")),this.root=this.root||"/",this.loadRootIndex()):("shop"!==e&&"art-direction"!==e||s.dom.html.addClass("hide-index"),this.root=window.location.pathname),s.dom.root.attr("href",this.root),s.dom.root.on("click",(function(){s.dom.html.removeClass(s.config.offcanvasClasses),s.emitter.fire("app--root")})),s.emitter.on("app--project-ended",(function(){t.isPop||t.route(t.root)}))},initPage:function(){s.dom.nav.detach(),s.env.isConfig()||s.dom.page.detach(),s.dom.html.removeClass("is-clipped"),s.dom.body.removeClass("is-clipped"),window.addEventListener("popstate",this.handlePopstate.bind(this),!1)},samePage:function(){var t=this;window.location.pathname===this.root&&!this.tweenScroll&&this.$rootPanel[0].scrollTop>0&&(this.tweenScroll=new o.default({to:0,from:this.$rootPanel[0].scrollTop,ease:r.default.easeInOutCubic,update:function(e){t.$rootPanel[0].scrollTop=e},complete:function(){t.tweenScroll=null},duration:400}))},handlePopstate:function(){this.isPop=!0;var t=null,e=window.location.pathname.match(/^\/$|^\/about\/$|^\/index\/$/g);e&&e[0]?(e=(e=e[0].replace(/\//g,""))||"garberco",s.dom.main[0].id="is-main--"+e,e===s.config.rootUrlId&&s.dom.html.removeClass(s.config.offcanvasClasses),d.default.isActive()&&s.emitter.fire("app--project-ended"),h.default.close()):((t=(0,a.default)(".js-index-tile[href*='"+window.location.pathname+"']")).trigger("mouseenter"),t.trigger("click")),p.default.close(),this.isPop=!1},loadRootIndex:function(){var t=this;s.api.collection(this.root,{format:"html"},{dataType:"html"}).then((function(e){var n=t.parseDoc(e);s.emitter.fire("app--load-root",n.pageHtml)}))},loadFullIndex:function(t){s.api.collection(this.root,{format:"json"},{dataType:"json"}).then(t)},parseDoc:function(t){var e=document.createElement("html"),n=null;return e.innerHTML=t,n=(e=(0,a.default)(e)).find(".js-page"),{$doc:e,$page:n,pageData:n.data(),pageHtml:n[0].innerHTML}},bindEmptyHashLinks:function(){s.dom.body.on("click","[href^='#']",(function(t){return t.preventDefault()}))},changePageOut:function(){s.dom.html.addClass("is-routing")},changeContent:function(t){var e=this.parseDoc(t.response);s.dom.page[0].innerHTML=e.pageHtml,s.emitter.fire("app--analytics-push",e),this.pageData=e.$page.data()},changePageIn:function(){this.execSquarespace(),s.dom.html.removeClass("is-routing")},execSquarespace:function(){window.Squarespace.initializeCommerce(window.Y)}};e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=c(n(9)),a=c(n(40)),s=c(n(6)),u=c(n(27)),l=c(n(41));function c(t){return t&&t.__esModule?t:{default:t}}var f=!1,h=new s.default,p=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f=!0,this.$node=e,this.menu=new a.default(!o.env.isConfig()),this.data=n,this.$plates=this.$node.find(".js-project-plate"),this.$images=this.$node.find(".js-lazy-image"),this.$videos=this.$node.find(".js-video"),this.isEnded=!1,this.bindEvents(),this.loadProject(),this.loadVideos(),o.log("Project",this)}return r(t,[{key:"bindEvents",value:function(){}},{key:"loadProject",value:function(){o.dom.project.elementPane.append(this.$node),o.images.handleImages(this.$images,this.onPreload.bind(this))}},{key:"loadVideos",value:function(){var t=this;this.$videos.forEach((function(e,n){var r=t.$videos.eq(n),o=r.data();r.data("instance",new l.default(r,o))}))}},{key:"killVideos",value:function(){var t=this;this.$videos.forEach((function(e,n){var r=t.$videos.eq(n).data();r.instance&&(r.instance.destroy(),r.instance=null)}))}},{key:"onPreload",value:function(){u.default.stop(),this.cycleAnimation(),setTimeout(i.default.close(),2*o.dom.project.elementTransitionDuration)}},{key:"cycleAnimation",value:function(){this.onUpdateEmitter(),h.stop(),h.go(this.onUpdateEmitter.bind(this))}},{key:"updatePlates",value:function(){for(var t=null,e=this.$plates.length;e--;)t=this.$plates.eq(e),o.util.isElementInViewport(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"updatePosition",value:function(){var t=this.$node[0].getBoundingClientRect();0!==o.dom.project.element[0].scrollTop&&Math.floor(t.bottom)<=0&&!this.isEnded&&(this.isEnded=!0,o.dom.project.element.addClass("is-hidden"),o.emitter.fire("app--project-ended"))}},{key:"onUpdateEmitter",value:function(){this.updatePlates(),this.updatePosition(),o.emitter.fire("app--project-scroll")}},{key:"teardown",value:function(){this.killVideos(),t.close()}}]),t}();p.isActive=function(){return f},p.open=function(){f=!0,u.default.load(),o.dom.html.addClass("is-offcanvas is-offcanvas--project"),o.dom.body.append(o.dom.project.element),setTimeout((function(){return o.dom.project.element.addClass("is-active")}),10),setTimeout((function(){return o.dom.project.element.removeClass("is-noscroll")}),o.dom.project.elementTransitionDuration)},p.close=function(){f=!1,h.stop(),o.dom.project.element.removeClass("is-active"),setTimeout((function(){o.dom.html.removeClass(o.config.offcanvasClasses),o.dom.project.element.detach().addClass("is-noscroll").removeClass("is-hidden"),o.dom.project.elementPane[0].innerHTML=""}),o.dom.project.elementTransitionDuration)},e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=u(n(19)),a=u(n(15)),s=u(n(4));function u(t){return t&&t.__esModule?t:{default:t}}var l=null,c=(0,s.default)('<div class="bar"><div class="bar__inner"></div></div>'),f=c.find(".bar__inner"),h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tween=null,this.timeout=5e3}return r(t,[{key:"append",value:function(){o.dom.body.append(c)}},{key:"load",value:function(){this.append(),this.tween=new i.default({from:0,to:window.innerWidth,update:this.update.bind(this),complete:this.update.bind(this),ease:a.default.easeInOutCubic,duration:this.timeout})}},{key:"stop",value:function(t){this.tween.stop(),this.tween=new i.default({from:this.getFrom(),to:window.innerWidth,update:this.update.bind(this),complete:this.complete.bind(this,t),ease:a.default.easeInOutCubic,duration:50})}},{key:"update",value:function(t){f[0].style.width=o.util.px(t)}},{key:"complete",value:function(t){c.addClass("is-done"),setTimeout((function(){c.detach().removeClass("is-done"),f.attr("style",""),t()}),o.util.getTransitionDuration(c[0]))}},{key:"getFrom",value:function(){return f[0].clientWidth}}]),t}(),p={load:function(t,e){(l=new h(t,e)).load()},stop:function(){l&&l.stop((function(){l=null}))}};e.default=p},function(t,e,n){"use strict";var r=n(117);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(119);function g(t,e,n){if(t&&"object"==typeof t&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var g=t=u.join(a);if(g=g.trim(),!n&&1===t.split("#").length){var b=s.exec(g);if(b)return this.path=g,this.href=g,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=i.exec(g);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,g=g.substr(_.length)}if(n||_||g.match(/^\/\/[^@/]+@[^@/]+/)){var E="//"===g.substr(0,2);!E||_&&y[_]||(g=g.substr(2),this.slashes=!0)}if(!y[_]&&(E||_&&!m[_])){for(var T,S,A=-1,O=0;O<f.length;O++){-1!==(x=g.indexOf(f[O]))&&(-1===A||x<A)&&(A=x)}-1!==(S=-1===A?g.lastIndexOf("@"):g.lastIndexOf("@",A))&&(T=g.slice(0,S),g=g.slice(S+1),this.auth=decodeURIComponent(T)),A=-1;for(O=0;O<c.length;O++){var x;-1!==(x=g.indexOf(c[O]))&&(-1===A||x<A)&&(A=x)}-1===A&&(A=g.length),this.host=g.slice(0,A),g=g.slice(A),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var j=this.hostname.split(/\./),C=(O=0,j.length);O<C;O++){var k=j[O];if(k&&!k.match(h)){for(var M="",I=0,D=k.length;I<D;I++)k.charCodeAt(I)>127?M+="x":M+=k[I];if(!M.match(h)){var R=j.slice(0,O),L=j.slice(O+1),U=k.match(p);U&&(R.push(U[1]),L.unshift(U[2])),L.length&&(g="/"+L.join(".")+g),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var N=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+N,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!d[w])for(O=0,C=l.length;O<C;O++){var q=l[O];if(-1!==g.indexOf(q)){var B=encodeURIComponent(q);B===q&&(B=escape(q)),g=g.split(q).join(B)}}var $=g.indexOf("#");-1!==$&&(this.hash=g.substr($),g=g.slice(0,$));var F=g.indexOf("?");if(-1!==F?(this.search=g.substr(F),this.query=g.substr(F+1),e&&(this.query=v.parse(this.query)),g=g.slice(0,F)):e&&(this.search="",this.query={}),g&&(this.pathname=g),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var H=this.search||"";this.path=N+H}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(i=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if("string"==typeof t){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=t[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!m[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var h=c[f];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||y[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",v=n.search||"";n.path=d+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=b||g||n.host&&t.pathname,w=_,E=n.pathname&&n.pathname.split("/")||[],T=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===E[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=t.search,n.query=t.query;else if(null!=t.search){if(T)n.host=E.shift(),n.hostname=n.host,(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.hostname=P.shift(),n.host=n.hostname);return n.search=t.search,n.query=t.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=E.slice(-1)[0],A=(n.host||t.host||E.length>1)&&("."===S||".."===S)||""===S,O=0,x=E.length;x>=0;x--)"."===(S=E[x])?E.splice(x,1):".."===S?(E.splice(x,1),O++):O&&(E.splice(x,1),O--);if(!_&&!w)for(;O--;O)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),A&&"/"!==E.join("/").substr(-1)&&E.push("");var P,j=""===E[0]||E[0]&&"/"===E[0].charAt(0);T&&(n.hostname=j?"":E.length?E.shift():"",n.host=n.hostname,(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.hostname=P.shift(),n.host=n.hostname));return(_=_||n.host&&E.length)&&!j&&E.unshift(""),E.length>0?n.pathname=E.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.parse=g,e.resolve=function(t,e){return g(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},e.format=function(t){return"string"==typeof t&&(t=g(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o},function(t,e,n){"use strict";var r=n(130);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";var r=n(11)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(t){r=!1}t.exports=r},function(t,e,n){"use strict";var r=String.prototype.replace,o=/%20/g,i="RFC1738",a="RFC3986";t.exports={default:a,formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return String(t)}},RFC1738:i,RFC3986:a}},function(t,e,n){(function(t){var r=n(140),o=n(50),i=n(151),a=n(152),s=n(28),u=e;u.request=function(e,n){e="string"==typeof e?s.parse(e):i(e);var o=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||o,u=e.hostname||e.host,l=e.port,c=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?a+"//"+u:"")+(l?":"+l:"")+c,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new r(e);return n&&f.on("response",n),f},u.get=function(t,e){var n=u.request(t,e);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=o.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(4)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=p(n(40)),a=p(n(39)),s=p(n(9)),u=p(n(27)),l=p(n(23)),c=p(n(15)),f=p(n(19)),h=p(n(41));function p(t){return t&&t.__esModule?t:{default:t}}var d={init:function(){this.tween=null,this.menu=new i.default(o.dom.gallery.element,!0),this.$image=(0,r.default)(new Image),this.$image[0].className="gallery__image figure__image image",this.videoData=null,this.$videoWrap=(0,r.default)(document.createElement("div")),this.$videoWrap[0].className="_video gallery__video",this.$video=(0,r.default)(document.createElement("video")),this.$video[0].className="_video__element",this.$videoWrap.append(this.$video),o.dom.gallery.elementNode.append(this.$image),o.dom.gallery.elementNode.append(this.$videoWrap),o.detect.isDevice()?this.bindSwipe():this.bindClick()},bindSwipe:function(){this._onTap=this.onTap.bind(this),this._onSwipe=this.onSwipe.bind(this),this._onPanmove=this.onPanmove.bind(this),this._onPanend=this.onPanend.bind(this),this.tap=new l.default(o.dom.gallery.element[0],o.util.getDefaultHammerOptions()),this.tap.on("tap",this._onTap),this.swipe=new l.default(o.dom.gallery.elementNode[0],o.util.getDefaultHammerOptions()),this.swipe.on("panmove",this._onPanmove),this.swipe.on("panend",this._onPanend),this.swipe.on("swipe",this._onSwipe)},bindClick:function(){o.dom.gallery.element.on("click",(0,a.default)(this.onClick.bind(this),200,!0))},onTap:function(t){t.target!==this.$video[0]&&o.emitter.fire("app--gallery-background")},onPanmove:function(t){t.preventDefault(),this.tween||o.util.translate3d(o.dom.gallery.elementNode[0],o.util.px(t.deltaX/3),0,0)},onPanend:function(){var t=this;if(!this.tween){var e=o.util.getTransformValues(o.dom.gallery.elementNode[0]),n=e.x<0;this.tween=new f.default({to:0,from:Math.abs(e.x),ease:c.default.easeInOutCubic,update:function(t){o.util.translate3d(o.dom.gallery.elementNode[0],o.util.px(n?-t:t),0,0)},complete:function(){t.tween=null},duration:200})}},onSwipe:function(t){var e=this;t.preventDefault();var n=o.util.getTransformValues(o.dom.gallery.elementNode[0]),r=t.direction===l.default.DIRECTION_LEFT;this.tween||(this.tween=new f.default({to:window.innerWidth,from:Math.abs(n.x),ease:c.default.easeInOutCubic,update:function(t){o.util.translate3d(o.dom.gallery.elementNode[0],o.util.px(r?-t:t),0,0)},complete:function(){e.empty(),o.emitter.fire("app--gallery-image",r?l.default.DIRECTION_RIGHT:l.default.DIRECTION_LEFT),setTimeout((function(){e.tween=null,o.util.translate3d(o.dom.gallery.elementNode[0],0,0,0)}),s.default.isActive()?o.dom.overlay.elementTransitionDuration:10)},duration:200}))},onClick:function(t){t.target===o.dom.gallery.elementNode[0]||s.default.isActive()?this.handleClick(t):o.emitter.fire("app--gallery-background")},handleClick:function(t){var e=(this.videoData?this.$video[0]:this.$image[0]).getBoundingClientRect(),n=null;n=t.clientX<=e.width/2+e.left&&!s.default.isActive()?l.default.DIRECTION_LEFT:l.default.DIRECTION_RIGHT,o.emitter.fire("app--gallery-image",n)},open:function(){this.menu.isActive()||this.menu.open()},close:function(){this.menu.isActive()&&(this.menu.close(),this.empty())},empty:function(){this.$image[0].src="",this.videoData&&(this.$video[0].innerHTML="",this.videoData=null)},setImage:function(t){this.empty();var e=t.data();o.dom.gallery.element.removeClass("is-video"),u.default.load(),this.open(),this.$image.removeAttr(o.config.imageLoaderAttr).attr({"data-img-src":e.imgSrc,"data-variants":e.variants,"data-original-size":e.originalSize}),o.util.loadImages(this.$image,o.util.noop,!0,window.innerWidth).on("done",(function(){u.default.stop()}))},setVideo:function(t){this.empty(),this.videoData=t;var e=h.default.logVideoFiles(this.videoData),n=h.default.getVideoFile(e);o.dom.gallery.element.addClass("is-video"),this.open(),this.$videoWrap[0].style.paddingBottom=this.videoData.height/this.videoData.width*100+"%",o.detect.isDevice()&&(this.$video[0].setAttribute("poster",this.videoData.pictures.sizes[this.videoData.pictures.sizes.length-1].link),this.$video[0].setAttribute("controls",!0)),this.$video[0].src=n,this.$video[0].load(),this.$video[0].play()}};e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(18)),o=i(n(14));function i(t){return t&&t.__esModule?t:{default:t}}var a={init:function(){this._isTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this._isMobile=/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|Opera Mini/gi.test(window.navigator.userAgent),this._isTouch?r.default.html.addClass("is-touchable"):r.default.html.addClass("is-hoverable"),(0,o.default)("detect initialized")},isMobile:function(){return this._isMobile},isTouch:function(){return this._isTouch},isDevice:function(){return this.isTouch()&&this.isMobile()},isStandalone:function(){return"standalone"in window}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="development",o="production",i={DEV:r,PROD:o,ENV:/^localhost|squarespace|^[0-9]{0,3}\.[0-9]{0,3}\.[0-9]{0,3}\.[0-9]{0,3}/g.test(document.domain)?r:o,isConfig:function(){return-1!==window.parent.location.pathname.indexOf("/config")},isDev:function(){return this.ENV===r},isProd:function(){return this.ENV===o}};e.default=i},function(t,e,n){var r;t.exports=(r=function(t){var e=decodeURIComponent(t).match(/[#|?].*$/g),n={};if(e)for(var r=(e=(e=e[0].replace(/^\?|^#|^\/|\/$|\[|\]/g,"")).split("&")).length;r--;){var o=e[r].split("="),i=o[0],a=o[1];n[i]?("[object Array]"!=={}.toString.call(n[i])&&(n[i]=[n[i]]),n[i].push(a)):n[i]=a}return n},"undefined"!=typeof $&&($.paramalama=r),r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(14),a=(r=i)&&r.__esModule?r:{default:r};var s,u=null,l=!1,c={},f=window.sessionStorage,h=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u||(u=this,this._opts=e,this._init()),u}return o(t,[{key:"_init",value:function(){l||(l=!0,this.flush(),(0,a.default)("Singleton Store initialized",this))}},{key:"flush",value:function(){c={},this.save()}},{key:"save",value:function(){this._opts.enableStorage&&t.isStorageSupported?f.setItem("app-cache",JSON.stringify(c)):(0,a.default)("Cache Storage disabled - Not writing to SessionStorage")}},{key:"slug",value:function(t){return t=t.replace(/^\/|\/$/g,"").replace(/\/|\?|&|=|\s/g,"-").toLowerCase()}},{key:"set",value:function(t,e){t=this.slug(t),c[t]=e,this.save()}},{key:"get",value:function(t){return(t=t&&this.slug(t))?this.getValue(c[t]):c}},{key:"getValue",value:function(t){return t}},{key:"remove",value:function(t){delete c[t]}}]),t}();h.crumb=(s=RegExp("(^|; )"+encodeURIComponent("crumb")+"=([^;]*)").exec(document.cookie))?s[2]:null,h.isStorageSupported=function(){var t=!0;try{f.setItem("app-test",1),f.removeItem("app-test")}catch(e){t=!1}return t}(),e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(97);var i=new((r=o)&&r.__esModule?r:{default:r}).default;e.default=i},function(t,e,n){
/*!
 *
 * Debounce methods
 * Sourced from here:
 * http://unscriptable.com/2009/03/20/debouncing-javascript-methods/
 *
 * @debounce
 * @author: kitajchuk
 *
 */
t.exports=function(t,e,n){var r=null;return function(){var o=arguments,i=this;function a(){n||t.apply(i,o),r=null}r?clearTimeout(r):n&&t.apply(i,o),r=setTimeout(a,e||100)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.tDuration=o.util.getTransitionDuration(this.$node[0]),this.isOpen=!1,this.isDetach=n,this.isDetach&&this.$node.detach()}return r(t,[{key:"open",value:function(){var t=this;this.isOpen=!0,o.dom.html.addClass("is-menu-open"),this.isDetach&&o.dom.body.append(this.$node),o.emitter.fire("app--menu-opened"),setTimeout((function(){return t.$node.addClass("is-active")}),10),setTimeout((function(){t.$node.addClass("is-active-events"),o.dom.html.addClass("is-clipped"),o.dom.body.addClass("is-clipped")}),2*this.tDuration)}},{key:"close",value:function(){var t=this;this.$node.removeClass("is-active is-active-events"),o.dom.html.removeClass("is-clipped"),o.dom.body.removeClass("is-clipped"),o.emitter.fire("app--menu-closed"),setTimeout((function(){t.isOpen=!1,o.dom.html.removeClass("is-menu-open"),t.isDetach&&t.$node.detach()}),2*this.tDuration)}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"isActive",value:function(){return this.isOpen}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=s(n(42)),a=s(n(110));function s(t){return t&&t.__esModule?t:{default:t}}var u=new(0,n(43).Vimeo)("9d4f4417c518c95db3f8c0461eb7da3e59e7b289","23AxUag/dzswqGCSY6rJdoWMsw2MnYadh4fecPP9JJiXEOS/cVaAkRrsh755tu4gEZPon9tS+j0eyN8x+2Orke5W0aGarrnfjONsurvJt8Wdv9mMQNPfz9AwpKGi+Onn","15807db98b40203e65427ac71121c89a"),l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.$video=this.$node.find(".js-video-element"),this.$poster=this.$node.find(".js-video-poster"),this.$playback=this.$node.find(".js-video-playback"),this.data=n,this._files={},this._video=null,this.loadVimeoData()}return r(t,[{key:"loadVimeoData",value:function(){var t=this.data.vimeoUrl.split("/").pop(),e=this;u.request({method:"GET",path:"/videos/"+t},(function(t,n,r,o){e.handleVimeoData(n)}))}},{key:"handleVimeoData",value:function(e){this.vData=e,this._files=t.logVideoFiles(e),this.data.sourceUrl=t.getVideoFile(this._files),this.data.posterUrl=this.vData.pictures.sizes[this.vData.pictures.sizes.length-1].link,o.detect.isDevice()?this.initMobile():this.initVideo(),this.applyAspect(),this.createMediaNode(this.data.id,this.data.sourceUrl,this.$video[0])}},{key:"initMobile",value:function(){this.$video[0].setAttribute("controls",!0),this.$video[0].setAttribute("loop",!1),this.$video[0].setAttribute("poster",this.data.posterUrl),this.$poster.remove(),this.$playback.remove()}},{key:"initVideo",value:function(){var t=this;this.$video.on("loadedmetadata",(function(){t.data.autoplayLoop?t.bindAutoplayLoop():t.data.clickToPlay&&(t.$video[0].removeAttribute("controls"),t.bindAutoplayLoop(!0),t.bindClickToPlay())}))}},{key:"loadThumbFile",value:function(){this.$poster.attr("data-img-src",this.data.posterUrl),o.util.loadImages(this.$poster)}},{key:"bindAutoplayLoop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._autoplayHandler=new a.default(this.$node,this.data.id,t)}},{key:"bindClickToPlay",value:function(){var t=this;this.$video.on("click",(function(){t.$node[0].classList.contains("is-active")?t.$node[0].classList.contains("is-playing")?t.$node.removeClass("is-playing"):t.$node.addClass("is-playing"):requestAnimationFrame((function(){t._autoplayHandler&&t._autoplayHandler.destroy(),i.default.setVolume(t.data.id,1),t.$video[0].setAttribute("controls",!0),t.$video[0].currentTime=0,t.$node.addClass("is-active"),t.$node.addClass("is-playing")}))})),i.default.addMediaEvent(this.data.id,"play",(function(){t.$node[0].classList.contains("is-active")&&t.$node.addClass("is-playing")})),i.default.addMediaEvent(this.data.id,"pause",(function(){t.$node[0].classList.contains("is-active")&&t.$node.removeClass("is-playing")})),i.default.addMediaEvent(this.data.id,"ended",(function(){i.default.stopMedia(t.data.id).setMediaProp(t.data.id,"currentTime",0),t.$node.removeClass("is-active is-playing")}))}},{key:"createMediaNode",value:function(t,e,n){i.default.addVideo({id:t,src:e.split(","),element:n,channel:"vid"})}},{key:"applyAspect",value:function(){this.$node[0].style.paddingBottom=this.vData.height/this.vData.width*100+"%"}},{key:"destroy",value:function(){this.$video.off("click loadedmetadata"),this._autoplayHandler&&this._autoplayHandler.destroy(),i.default.getMedia(this.data.id)&&i.default.destroyMedia(this.data.id),this._onScroll&&o.emitter.off("app--project-scroll",this._onScroll)}}]),t}();l.logVideoFiles=function(t){console.log(t);for(var e=t.files.length,n={};e--;)(!n[t.files[e].quality]||n[t.files[e].quality]&&t.files[e].size>n[t.files[e].quality].size)&&(n[t.files[e].quality]=t.files[e]);return n},l.getVideoFile=function(t){return(o.detect.isDevice()?t.mobile||t.sd:t.hd||t.sd).link},e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(109);var i=new((r=o)&&r.__esModule?r:{default:r}).default;e.default=i},function(t,e,n){var r=n(111);t.exports.vimeo_module=r,t.exports.Vimeo=r.Vimeo},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";t.exports=SyntaxError},function(t,e,n){"use strict";var r=n(11)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},function(t,e,n){"use strict";var r=n(31),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var o=e[r],a=o.obj[o.prop],s=Object.keys(a),u=0;u<s.length;++u){var l=s[u],c=a[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(e.push({obj:a,prop:l}),n.push(c))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n,o,i){if(0===t.length)return t;var s=t;if("symbol"==typeof t?s=Symbol.prototype.toString.call(t):"string"!=typeof t&&(s=String(t)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var u="",l=0;l<s.length;l+=1024){for(var c=s.length>=1024?s.slice(l,l+1024):s,f=[],h=0;h<c.length;++h){var p=c.charCodeAt(h);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||i===r.RFC1738&&(40===p||41===p)?f[f.length]=c.charAt(h):p<128?f[f.length]=a[p]:p<2048?f[f.length]=a[192|p>>6]+a[128|63&p]:p<55296||p>=57344?f[f.length]=a[224|p>>12]+a[128|p>>6&63]+a[128|63&p]:(h+=1,p=65536+((1023&p)<<10|1023&c.charCodeAt(h)),f[f.length]=a[240|p>>18]+a[128|p>>12&63]+a[128|p>>6&63]+a[128|63&p])}u+=f.join("")}return u},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n){if(i(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var a=e;return i(e)&&!i(n)&&(a=s(e,r)),i(e)&&i(n)?(n.forEach((function(n,i){if(o.call(e,i)){var a=e[i];a&&"object"==typeof a&&n&&"object"==typeof n?e[i]=t(a,n,r):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var a=n[i];return o.call(e,i)?e[i]=t(e[i],a,r):e[i]=a,e}),a)}}},function(t,e,n){(function(t){e.fetch=s(t.fetch)&&s(t.ReadableStream),e.writableStream=s(t.WritableStream),e.abortController=s(t.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var n;function r(){if(void 0!==n)return n;if(t.XMLHttpRequest){n=new t.XMLHttpRequest;try{n.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){n=null}}else n=null;return n}function o(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}var i=void 0!==t.ArrayBuffer,a=i&&s(t.ArrayBuffer.prototype.slice);function s(t){return"function"==typeof t}e.arraybuffer=e.fetch||i&&o("arraybuffer"),e.msstream=!e.fetch&&a&&o("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&i&&o("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!r()&&s(r().overrideMimeType),e.vbArray=s(t.VBArray),n=null}).call(this,n(2))},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),u=r[n];n<i;u=r[++n])y(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function l(t,e){return t}function c(t,n,r){if(t.customInspect&&n&&T(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return v(o)||(o=c(t,o,r)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(m(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(T(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return f(n)}var l,_="",S=!1,A=["{","}"];(p(n)&&(S=!0,A=["[","]"]),T(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),E(n)&&(_=" "+f(n)),0!==a.length||S&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=S?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)P(e,String(a))?i.push(h(t,e,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))})),i}(t,n,r,s,a):a.map((function(e){return h(t,n,r,s,e,S)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,_,A)):A[0]+_+A[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),P(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=y(n)?c(t,u.value,null):c(t,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),g(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function v(t){return"string"==typeof t}function g(t){return void 0===t}function b(t){return _(t)&&"[object RegExp]"===S(t)}function _(t){return"object"==typeof t&&null!==t}function w(t){return _(t)&&"[object Date]"===S(t)}function E(t){return _(t)&&("[object Error]"===S(t)||t instanceof Error)}function T(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(g(i)&&(i=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=b,e.isObject=_,e.isDate=w,e.isError=E,e.isFunction=T,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(141);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",x(),e.format.apply(e,arguments))},e.inherits=n(8),e._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var j="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(j&&t[j]){var e;if("function"!=typeof(e=t[j]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,j,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),j&&Object.defineProperty(e,j,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=j,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(C,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(7))},function(t,e,n){(function(t,r,o){var i=n(48),a=n(8),s=n(51),u=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=e.IncomingMessage=function(e,n,a,u){var l=this;if(s.Readable.call(l),l._mode=a,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",(function(){t.nextTick((function(){l.emit("close")}))})),"fetch"===a){if(l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach((function(t,e){l.headers[e.toLowerCase()]=t,l.rawHeaders.push(e,t)})),i.writableStream){var c=new WritableStream({write:function(t){return new Promise((function(e,n){l._destroyed?n():l.push(new r(t))?e():l._resumeFetch=e}))},close:function(){o.clearTimeout(u),l._destroyed||l.push(null)},abort:function(t){l._destroyed||l.emit("error",t)}});try{return void n.body.pipeTo(c).catch((function(t){o.clearTimeout(u),l._destroyed||l.emit("error",t)}))}catch(t){}}var f=n.body.getReader();!function t(){f.read().then((function(e){if(!l._destroyed){if(e.done)return o.clearTimeout(u),void l.push(null);l.push(new r(e.value)),t()}})).catch((function(t){o.clearTimeout(u),l._destroyed||l.emit("error",t)}))}()}else{if(l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(e[2])):void 0!==l.headers[n]?l.headers[n]+=", "+e[2]:l.headers[n]=e[2],l.rawHeaders.push(e[1],e[2])}})),l._charset="x-user-defined",!i.overrideMimeType){var h=l.rawHeaders["mime-type"];if(h){var p=h.match(/;\s*charset=([^;])(;|$)/);p&&(l._charset=p[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};a(l,s.Readable),l.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},l.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==u.DONE)break;try{n=new o.VBArray(e.responseBody).toArray()}catch(t){}if(null!==n){t.push(new r(n));break}case"text":try{n=e.responseText}catch(e){t._mode="text:vbarray";break}if(n.length>t._pos){var i=n.substr(t._pos);if("x-user-defined"===t._charset){for(var a=new r(i.length),s=0;s<i.length;s++)a[s]=255&i.charCodeAt(s);t.push(a)}else t.push(i,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==u.DONE||!e.response)break;n=e.response,t.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==u.LOADING||!n)break;t.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==u.LOADING)break;var l=new o.MSStreamReader;l.onprogress=function(){l.result.byteLength>t._pos&&(t.push(new r(new Uint8Array(l.result.slice(t._pos)))),t._pos=l.result.byteLength)},l.onload=function(){t.push(null)},l.readAsArrayBuffer(n)}t._xhr.readyState===u.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,n(7),n(10).Buffer,n(2))},function(t,e,n){(e=t.exports=n(52)).Stream=e,e.Readable=e,e.Writable=n(56),e.Duplex=n(12),e.Transform=n(58),e.PassThrough=n(149)},function(t,e,n){"use strict";(function(e,r){var o=n(20);t.exports=b;var i,a=n(44);b.ReadableState=g;n(53).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n(54),l=n(21).Buffer,c=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var f=Object.create(n(17));f.inherits=n(8);var h=n(143),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,y=n(144),m=n(55);f.inherits(b,u);var v=["error","close","destroy","pause","resume"];function g(t,e){t=t||{};var r=e instanceof(i=i||n(12));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(57).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(i=i||n(12),!(this instanceof b))return new b(t);this._readableState=new g(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function _(t,e,n,r,o){var i,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,T(t)}(t,a)):(o||(i=function(t,e){var n;r=e,l.isBuffer(r)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),i?t.emit("error",i):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?w(t,a,e,!1):A(t,a)):w(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&T(t)),A(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),_(this,t,e,!1,n)},b.prototype.unshift=function(t){return _(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=n(57).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function T(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(S,t):S(t))}function S(t){p("emit readable"),t.emit("readable"),j(t)}function A(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(O,t,e))}function O(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function x(t){p("readable nexttick read 0"),t.read(0)}function P(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),j(t),e.flowing&&!e.reading&&t.read(0)}function j(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function C(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,o=n.data;t-=o.length;for(;n=n.next;){var i=n.data,a=t>i.length?i.length:t;if(a===i.length?o+=i:o+=i.slice(0,t),0===(t-=a)){a===i.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=i.slice(a));break}++r}return e.length-=r,o}(t,e):function(t,e){var n=l.allocUnsafe(t),r=e.head,o=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var i=r.data,a=t>i.length?i.length:t;if(i.copy(n,n.length-t,0,a),0===(t-=a)){a===i.length?(++o,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=i.slice(a));break}++o}return e.length-=o,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function k(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(M,e,t))}function M(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function I(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?k(this):T(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&k(this),null;var r,o=e.needReadable;return p("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",o=!0),e.ended||e.reading?p("reading or ended",o=!1):o&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),null===(r=t>0?C(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&k(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,p("pipe count=%d opts=%j",i.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:b;function l(e,r){p("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),t.removeListener("close",v),t.removeListener("finish",g),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",y),h=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function c(){p("onend"),t.end()}i.endEmitted?o.nextTick(u):n.once("end",u),t.on("unpipe",l);var f=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,j(t))}}(n);t.on("drain",f);var h=!1;var d=!1;function y(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==I(i.pipes,t))&&!h&&(p("false write response, pause",i.awaitDrain),i.awaitDrain++,d=!0),n.pause())}function m(e){p("onerror",e),b(),t.removeListener("error",m),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",g),b()}function g(){p("onfinish"),t.removeListener("close",v),b()}function b(){p("unpipe"),n.unpipe(t)}return n.on("data",y),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",v),t.once("finish",g),t.emit("pipe",n),i.flowing||(p("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=I(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},b.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&T(this):o.nextTick(x,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(P,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var o in t.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){(p("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o)||(n.objectMode||o&&o.length)&&(e.push(o)||(r=!0,t.pause()))})),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var i=0;i<v.length;i++)t.on(v[i],this.emit.bind(this,v[i]));return this._read=function(e){p("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=C}).call(this,n(2),n(7))},function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}v(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&v(t,"error",e,n)}(t,o,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var o,i,a,s;if(l(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(t))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function d(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):m(o,o.length)}function y(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function v(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var l=u.length,c=m(u,l);for(n=0;n<l;++n)i(c[n],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,o,i,a;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){t.exports=n(53).EventEmitter},function(t,e,n){"use strict";var r=n(20);function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,t)):r.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,r.nextTick(o,n,t)):r.nextTick(o,n,t):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";(function(e,r,o){var i=n(20);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var o=r.callback;e.pendingcb--,o(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=g;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:i.nextTick;g.WritableState=v;var l=Object.create(n(17));l.inherits=n(8);var c={deprecate:n(148)},f=n(54),h=n(21).Buffer,p=(void 0!==o?o:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var d,y=n(55);function m(){}function v(t,e){s=s||n(12),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,l=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),S(t,e))}(t,n,r,e,o);else{var a=E(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?u(_,t,n,a,o):_(t,n,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function g(t){if(s=s||n(12),!(d.call(g,this)||this instanceof s))return new g(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function b(t,e,n,r,o,i,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function _(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),S(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),i=e.corkedRequestsFree;i.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,b(t,e,!0,e.length,o,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(b(t,e,!1,e.objectMode?1:l.length,l,c,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function T(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),S(t,e)}))}function S(t,e){var n=E(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(T,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(g,f),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===g&&(t&&t._writableState instanceof v)}})):d=function(t){return t instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(t,e,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=t,h.isBuffer(r)||r instanceof p);return s&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=m),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(r,a),o=!1),o}(this,o,t,n))&&(o.pendingcb++,a=function(t,e,n,r,o,i){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n));return e}(e,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,r,o,i);return u}(this,o,s,t,e,n)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||w(this,t))},g.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,S(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),g.prototype.destroy=y.destroy,g.prototype._undestroy=y.undestroy,g.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(7),n(146).setImmediate,n(2))},function(t,e,n){"use strict";var r=n(21).Buffer,o=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=c,this.end=f,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},i.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=a(e[r]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=a(e[r]))>=0)return o>0&&(t.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=a(e[r]))>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=a;var r=n(12),o=Object.create(n(17));function i(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){u(t,e,n)})):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=n(8),o.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getStorage=function(){return o?new a:null};var o=!1;try{o="localStorage"in window;var i="tusSupport";localStorage.setItem(i,localStorage.getItem(i))}catch(t){if(t.code!==t.SECURITY_ERR&&t.code!==t.QUOTA_EXCEEDED_ERR)throw t;o=!1}e.canStoreURLs=o;var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"setItem",value:function(t,e,n){n(null,localStorage.setItem(t,e))}},{key:"getItem",value:function(t,e){e(null,localStorage.getItem(t))}},{key:"removeItem",value:function(t,e){e(null,localStorage.removeItem(t))}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=c(n(25)),a=c(n(9)),s=c(n(33)),u=c(n(174)),l=c(n(175));function c(t){return t&&t.__esModule?t:{default:t}}n(176);var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.core=o,this.main=l.default,this.router=i.default,this.overlay=a.default,this.gallery=s.default,this.intro=u.default,this.analytics=new o.Analytics,this.core.dom.page.length&&(this.bindEvents(),this.initModules()),o.env.isConfig()&&o.dom.html.addClass("is-config"),o.log("App",this)}return r(t,[{key:"initModules",value:function(){this.core.detect.init(this),this.core.resizes.init(this),this.main.init(this),this.router.init(this),this.overlay.init(this),this.gallery.init(this)}},{key:"bindEvents",value:function(){this._onPreloadDone=this.onPreloadDone.bind(this),this.core.emitter.on("app--preload-done",this._onPreloadDone)}},{key:"onPreloadDone",value:function(){this.core.emitter.off("app--preload-done",this._onPreloadDone),this.intro.teardown()}}]),t}();window.app=new f,e.default=window.app},function(t,e,n){
/*!
 *
 *
 * Hobo
 * A very small, modular DOM utility for modern web apps.
 * @hobo-dist npm run build -- is eq not one next prev attr last first index parent filter detach append remove trigger prepend closest children removeAttr toggleClass
 *
 * @links
 * https://developer.mozilla.org/en-US/docs/Web/API/Node
 * https://developer.mozilla.org/en-US/docs/Web/API/Element
 * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll
 *
 * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest
 *
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise
 * https://github.com/jakearchibald/es6-promise
 * http://www.html5rocks.com/en/tutorials/es6/promises/
 *
 *
 */
var r,o;t.exports=(r=n(1),o=n(3),r.prototype.on=n(63),r.prototype.off=n(64),r.prototype.data=n(65),r.prototype.find=n(66),r.prototype.addClass=n(67),r.prototype.removeClass=n(68),r.prototype.is=n(69),r.prototype.eq=n(70),r.prototype.not=n(71),r.prototype.one=n(72),r.prototype.next=n(73),r.prototype.prev=n(74),r.prototype.attr=n(75),r.prototype.last=n(76),r.prototype.first=n(77),r.prototype.index=n(78),r.prototype.parent=n(79),r.prototype.filter=n(80),r.prototype.detach=n(81),r.prototype.append=n(82),r.prototype.remove=n(83),r.prototype.trigger=n(84),r.prototype.prepend=n(85),r.prototype.closest=n(86),r.prototype.children=n(87),r.prototype.removeAttr=n(88),r.prototype.toggleClass=n(89),hobo=function(t,e){return new r(t,e)},hobo.ajax=n(90),hobo.utils=o,hobo)},function(t,e,n){var r=n(5),o=n(3),i=function(t,e,n,i){var a=o.makeId()+"EVENT",s=e,u=function(t){var o=n?r(t.target,n,!0):this;if("mouseenter"===e||"mouseleave"===e){var a="mouseenter"===e?t.fromElement:t.toElement;o&&a!==o&&!o.contains(a)&&i.call(o,t)}else o&&i.call(o,t)};"mouseenter"===e?s="mouseover":"mouseleave"===e&&(s="mouseout"),this._events[e][a]={id:a,type:s,node:t,handler:u,callback:i},t.addEventListener(s,u,!1)};t.exports=function(t,e,n){var r=this;return n||(n=e,e=this._selector),t.split(" ").forEach((function(t){r._events[t]||(r._events[t]={}),r.forEach((function(o){i.call(r,o,t,e,n)}))})),this}},function(t,e){var n=function(t,e,n){var r,o;if(n)for(o in this._events[e])this._events[e].hasOwnProperty(o)&&(r=this._events[e][o]).node===t&&r.callback===n&&(t.removeEventListener(r.type,r.handler,!1),delete this._events[e][o]);else for(o in this._events[e])this._events[e].hasOwnProperty(o)&&(r=this._events[e][o]).node===t&&(t.removeEventListener(r.type,r.handler,!1),delete this._events[e][o])},r=function(t){var e,n,r;for(e in this._events)if(this._events.hasOwnProperty(e))for(r in this._events[e])this._events[e].hasOwnProperty(r)&&(n=this._events[e][r]).node===t&&(t.removeEventListener(n.type,n.handler,!1),delete this._events[e][r])};t.exports=function(t,e){var o=this;return(t?t.split(" "):[null]).forEach((function(t){o.forEach((function(i){null===t?r.call(o,i):n.call(o,i,t,e)}))})),this}},function(t,e,n){var r=n(3);t.exports=function(t,e){var n=this,o=null;return"object"==typeof t?(o=t,this.forEach((function(t){r.storeData(o,t)}))):e?((o={})[t]=e,this.forEach((function(t){r.storeData(o,t)}))):t?(this.forEach((function(e){null===o&&(o=r.retrieveData(t,e))})),n=o):(o={},this.forEach((function(t){r.mergeData(o,t)})),n=o),n}},function(t,e,n){var r=n(1),o=n(3);t.exports=function(t){var e=this;return this.length>1?(e=[],this.forEach((function(n){e=e.concat(o.makeArray(n.querySelectorAll(t)))})),e=new r(e,null)):e=new r(this.length?t:[],this.length?this[0]:null),e}},function(t,e,n){var r=n(3);t.exports=function(t){return this.forEach((function(e){var n=t.split(" "),o=r.getClass(e).split(" ");n.forEach((function(t){-1===o.indexOf(t)&&o.push(t)})),r.setClass(e,r.trimString(o.join(" ")))})),this}},function(t,e,n){var r=n(3);t.exports=function(t){return this.forEach((function(e){if(void 0===t)r.setClass(e,"");else{var n=t.split(" "),o=r.getClass(e).split(" ");n.forEach((function(t){-1!==o.indexOf(t)&&o.splice(o.indexOf(t),1)})),r.setClass(e,r.trimString(o.join(" ")))}})),this}},function(t,e,n){n(1);var r=n(5);t.exports=function(t){return!!r(this[0],t)}},function(t,e,n){var r=n(1);t.exports=function(t){return t<this.length?new r(this[t],this._context):this}},function(t,e,n){var r=n(5),o=n(1);t.exports=function(t){var e=new o([],this._context);return t instanceof o?this.forEach((function(n){var r=!0;t.forEach((function(t){n===t&&(r=!1)})),r&&e.push(n)})):this.forEach((function(n,o){"function"==typeof t?t(o,n)&&e.push(n):r(n,t)||e.push(n)})),e}},function(t,e,n){n(5),n(3);t.exports=function(t,e,n){var r=this;return n||(n=e,e=this._selector),this.on(t,e,(function e(o){n.call(this,o),r.off(t,e)}))}},function(t,e,n){var r=n(1),o=n(5);t.exports=function(t){var e=[];return this.forEach((function(n){for(var r=n.nextSibling;r&&1!==r.nodeType;)r=r.nextSibling;r&&(!t||t&&o(r,t))&&e.push(r)})),new r(e,this._context)}},function(t,e,n){var r=n(1),o=n(5);t.exports=function(t){var e=[];return this.forEach((function(n){for(var r=n.previousSibling;r&&1!==r.nodeType;)r=r.previousSibling;r&&(!t||t&&o(r,t))&&e.push(r)})),new r(e,this._context)}},function(t,e,n){var r=n(3),o=function(t,e,n){if(t.setAttribute(e,n),r.rData.test(e)){var o={};o[e.replace(r.rData,"")]=n,r.storeData(o,t)}};t.exports=function(t,e){var n=this;if("object"==typeof t)for(var r in t)this.forEach((function(e){o(e,r,t[r])}));else void 0!==e?this.forEach((function(n){o(n,t,e)})):n=this[0].getAttribute(t);return n}},function(t,e,n){var r=n(1);t.exports=function(){return new r(this[this.length-1],this._context)}},function(t,e,n){var r=n(1);t.exports=function(){return new r(this[0],this._context)}},function(t,e){t.exports=function(){return[].indexOf.call(this[0].parentNode.children,this[0])}},function(t,e,n){var r=n(1),o=n(5);t.exports=function(t){var e=[];return this.forEach((function(n){(!t||t&&o(n.parentNode,t))&&e.push(n.parentNode)})),new r(e,null)}},function(t,e,n){var r=n(1),o=n(5);t.exports=function(t){var e=[];return this.forEach((function(n){o(n,t)&&e.push(n)})),new r(e,null)}},function(t,e){t.exports=function(){return this.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),this}},function(t,e,n){var r=n(1);t.exports=function(t){return"string"==typeof t&&(t=new r(t)),this.forEach((function(e){t instanceof r||t.length&&"function"==typeof t.forEach?t.forEach((function(t){t.nodeType&&1===t.nodeType&&e.appendChild(t)})):t.nodeType&&e.appendChild(t)})),this}},function(t,e){t.exports=function(){return this.off(),this.forEach((function(t){delete t.hoboDataMap,t.parentNode&&t.parentNode.removeChild(t)})),this}},function(t,e){t.exports=function(t){var e,n,r=this;return this.forEach((function(o){for(n in r._events[t])r._events[t].hasOwnProperty(n)&&(e=r._events[t][n]).node===o&&((e=document.createEvent("Events")).initEvent(t,!0,!1),o.dispatchEvent(e))})),this}},function(t,e,n){var r=n(1);t.exports=function(t){return"string"==typeof t&&(t=new r(t)),this.forEach((function(e){t instanceof r||t.length&&"function"==typeof t.forEach?t.forEach((function(t){t.nodeType&&1===t.nodeType&&e.insertBefore(t,e.firstChild)})):t.nodeType&&e.insertBefore(t,e.firstChild)})),this}},function(t,e,n){var r=n(1),o=n(5);t.exports=function(t){var e=[];return this.forEach((function(n){var r=o(n,t,!0);r&&e.push(r)})),new r(e,null)}},function(t,e,n){var r=n(1);n(3);t.exports=function(){var t,e,n=[];return this.forEach((function(r){for(e=0,t=r.children.length;e<t;e++)n.push(r.children[e])})),new r(n,this._context)}},function(t,e,n){var r=n(3);t.exports=function(t){return this.forEach((function(e){e.removeAttribute(t),r.rData.test(t)&&r.removeData(t.replace(r.rData,""),e)})),this}},function(t,e,n){var r=n(1),o=n(5);t.exports=function(t){return t=t.split(" "),this.forEach((function(e){t.forEach((function(t){o(e,"."+t)?new r(e,null).removeClass(t):new r(e,null).addClass(t)}))})),this}},function(t,e,n){var r=n(3),o=function(){var t=this;this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))};o.prototype.then=function(t){return this._then=t,this},o.prototype.catch=function(t){return this._catch=t,this},o.prototype.resolve=function(t){return this._then&&(this._then(t),this._resolve(t)),this},o.prototype.reject=function(t){return this._catch&&(this._catch(t),this._reject(t)),this},o.prototype.abort=function(){return this._xhr&&(this._reject("Rejecting on XMLHttpRequest.abort()"),this._xhr.abort()),this},t.exports=function(t){var e=t.data||null,n=t.dataType||"html",i=(t.method||"GET").toUpperCase(),a=t.url||window.location.href,s=t.headers||null,u=t.payload||null,l=new o;!e||FormData&&e instanceof FormData||(e=r.serializeData(t.data)),u&&"string"!=typeof u&&(u=JSON.stringify(u)),"GET"===i&&e&&(a+="?"+e);var c=function(t){if("json"===n)try{t=JSON.parse(t)}catch(e){l.reject(t)}l.resolve(t)};if("jsonp"===n){var f=r.makeId()+"JSONP",h=t.jsonp||"callback",p=document.createElement("script");p.src=a+(/\?/.test(a)?"&":"?")+h+"="+f,window[f]=function(t){document.getElementsByTagName("head")[0].removeChild(p),p=null,delete window[f],c(t)},document.getElementsByTagName("head")[0].appendChild(p)}else{var d=new XMLHttpRequest;if(d.open(i,a,!0),s)for(var y in s)s.hasOwnProperty(y)&&d.setRequestHeader(y,s[y]);d.onreadystatechange=function(t){4===this.readyState&&(/^20/.test(this.status)?c(this.responseText):l.reject(this.responseText))},d.send(e||u),l._xhr=d}return l}},function(t,e,n){
/*!
 *
 * Handle lazy-loading images with contextual load conditions.
 *
 * @ImageLoader
 * @author: kitajchuk
 *
 *
 */
var r,o;t.exports=(r=n(6),((o=function(t){if(!t)throw new Error("ImageLoader Class requires options to be passed");if(r.call(this),this._executor=t.executor||function(t){return t},this._elements=t.elements,this._property=t.property||"data-src",this._loadType=t.loadType||"async",this._numLoaded=0,this._num2Load=this._elements?this._elements.length:0,this._transitionDelay=t.transitionDelay||0,this._transitionDuration=t.transitionDuration||400,this._resolved=!1,!this._elements.length)return this;"async"===this._loadType?this.initAsync():this.initSync()}).prototype=Object.create(r.prototype)).initAsync=function(){var t=this;this.go((function(){t._resolved?t.stop():t.handle()}))},o.prototype.initSync=function(){var t=this;!function e(){var n=t._elements[t._numLoaded];t._numLoaded++,t.load(n,(function(n){n||t._resolved||e()}))}()},o.prototype.load=function(t,e){var n=this,r=null,o=null,i="IMG"===t.nodeName,a=t.getAttribute(this._property);return t.setAttribute("data-imageloader",!0),r=i?t:new Image,o=setTimeout((function(){clearTimeout(o),r.onload=function(){n.fire("load",t),i||(t.style.backgroundImage="url("+a+")",r=null),o=setTimeout((function(){clearTimeout(o),n._numLoaded!==n._num2Load||n._resolved?"function"==typeof e&&e(!1):n._resolve(!0)}),n._transitionDuration)},r.onerror=function(){n.fire("error",t),n._numLoaded!==n._num2Load||n._resolved?"function"==typeof e&&e(!0):n._resolve(!0)},r.src=a}),this._transitionDelay),this},o.prototype.handle=function(){for(var t=this.getNotLoaded(),e=0,n=t.length;e<n;e++)this._executor(t[e])&&(this._numLoaded++,this.load(t[e]))},o.prototype.getNotLoaded=function(){for(var t=[],e=0,n=this._elements.length;e<n;e++)this._elements[e].getAttribute("data-imageloader")||t.push(this._elements[e]);return t},o.prototype._resolve=function(){this._resolved=!0,this.fire("done")},o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(18)),o=s(n(22)),i=s(n(24)),a=s(n(93));function s(t){return t&&t.__esModule?t:{default:t}}var u={handlePreload:function(t){"function"==typeof t&&t(),i.default.fire("app--preload-done")},handleLazyload:function(){i.default.fire("app--lazyload-done")},handleImages:function(t,e){if((t=t||r.default.page.find(o.default.lazyImageSelector)).length){var n=new a.default(t);n.on("preload",this.handlePreload.bind(this,e)),n.on("lazyload",this.handleLazyload.bind(this))}else this.handlePreload(e)}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(13)),i=a(n(14));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.$preload=o.getElementsInView(t),n.$lazyload=t.not(n.$preload),n.$preload.length?n.handlePreload():n.fire("preload"),n.$lazyload.length&&n.handleLazyload(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"handlePreload",value:function(){var t=this;(0,i.default)("ImageController preload queue:",this.$preload.length),this.preLoader=o.loadImages(this.$preload,o.noop),this.preLoader.on("done",(function(){(0,i.default)("ImageController preloaded:",t.$preload.length),t.fire("preload")}))}},{key:"handleLazyload",value:function(){var t=this;(0,i.default)("ImageController lazyload queue:",this.$lazyload.length),this.lazyLoader=o.loadImages(this.$lazyload,o.isElementLoadable),this.lazyLoader.on("done",(function(){(0,i.default)("ImageController lazyloaded:",t.$lazyload.length),t.fire("lazyload")}))}}]),e}(a(n(6)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(4)),o=a(n(36)),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(13));function a(t){return t&&t.__esModule?t:{default:t}}var s=/^\/|\/$/g,u={data:{squarespace:{url:location.origin,api:[location.origin,"api"].join("/")}},dataType:"json",format:"json",method:"GET",endpoint:function(t){return[this.data.squarespace.url,t.replace(s,"")].join("/")},apipoint:function(t){return[this.data.squarespace.api,t.replace(s,"")].join("/")},request:function(t,e,n){var o=i.extendObject({format:this.format,nocache:!0},e),a=i.extendObject({url:t,data:o,dataType:this.dataType,method:this.method},n);return r.default.ajax(a)},collection:function(t,e,n){var r=this;return new Promise((function(a,s){var u={},l=t.split("?")[0];e=i.extendObject({},e),(e=i.extendObject(e,(0,o.default)(t))).tag&&(e.tag=e.tag.replace(/\+/g," ")),e.category&&(e.category=e.category.replace(/\+/g," ")),r.request(r.endpoint(l),e,n).then((function(t){"string"==typeof t?a(t):(u={collection:t.collection,item:t.item||null,items:t.items||null,pagination:t.pagination||null},a(u))})).catch((function(t){s(t)}))}))},vimeo:function(t){return r.default.ajax({url:"https://api.vimeo.com/videos/"+t,method:"GET",data:{access_token:"4fe810e95b5a32a53133739750ef23e4"},dataType:"json"})}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(37),i=(r=o)&&r.__esModule?r:{default:r};e.default=new i.default({enableStorage:!1})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=s(n(4)),a=s(n(37));function s(t){return t&&t.__esModule?t:{default:t}}var u=null,l=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u||(o.emitter.on("app--analytics-push",this.pushTrack.bind(this)),o.log("Analytics initialized"),this.apiEndpoint="/api/census/RecordHit",u=this),u}return r(t,[{key:"pushTrack",value:function(t){var e=t.pageData.itemTitle||t.pageData.collectionTitle,n=t.pageData.websiteId,r=t.pageData.itemId?{itemId:t.pageData.itemId}:{collectionId:t.pageData.collectionId};o.env.isProd()&&this.recordHit(n,r,e).then((function(t){o.log("Analytics",t)})).catch((function(t){o.log("warn",t)})),this.setDocumentTitle(e)}},{key:"setDocumentTitle",value:function(t){document.title=t}},{key:"recordHit",value:function(t,e,n){var r={url:window.location.href,queryString:window.location.search,userAgent:window.navigator.userAgent,referrer:"",localStorageSupported:a.default.isStorageSupported,viewportInnerHeight:window.innerHeight,viewportInnerWidth:window.innerWidth,screenHeight:window.screen.height,screenWidth:window.screen.width,title:n,websiteId:t,templateId:t};return e.itemId?r.itemId=e.itemId:r.collectionId=e.collectionId,i.default.ajax({url:this.apiEndpoint+"?crumb="+a.default.crumb,method:"POST",data:{event:"View",data:JSON.stringify(r)},dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}]),t}();e.default=l},function(t,e,n){
/*!
 *
 * Window resize / orientationchange event controller
 *
 * @ResizeController
 * @author: kitajchuk
 *
 *
 */
var r,o,i,a,s;t.exports=(r=n(6),o="orientation"in window,i=null,a=null,((s=function(){return a||(i=(a=this).getViewport(),this.go((function(){var t=a.getViewport(),e=(t.width===i.width&&(t.height,i.height),t.width!==i.width||t.height!==i.height),n=t.width>i.width||t.height>i.height,r=t.width<i.width||t.height<i.height,o=t.width!==i.width,s=t.height!==i.height,u=t.orient!==i.orient,l=t.orient!==i.orient&&90!==t.orient,c=t.orient!==i.orient&&90===t.orient;e&&a.fire("resize"),r?a.fire("resizedown"):n&&a.fire("resizeup"),o?a.fire("resizewidth"):s&&a.fire("resizeheight"),u&&a.fire("orientationchange"),l?a.fire("orientationportrait"):c&&a.fire("orientationlandscape"),i=t}))),a}).prototype=new r).getViewport=function(){return{width:window.innerWidth,height:window.innerHeight,orient:o?Math.abs(window.orientation):null}},s.prototype.isPortrait=function(){var t=this.getViewport().orient;return null!==t&&90!==t},s.prototype.isLandscape=function(){var t=this.getViewport().orient;return null!==t&&90===t},s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(14)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(13)),i=l(n(24)),a=l(n(38)),s=l(n(99)),u=l(n(39));function l(t){return t&&t.__esModule?t:{default:t}}var c={init:function(){a.default.on("resize",(0,s.default)(h,50)),a.default.on("resizewidth",(0,u.default)(f,300)),(0,r.default)("resizes initialized")}},f=function(){i.default.fire("app--resize-debounced"),o.updateImages()},h=function(){i.default.fire("app--resize")};e.default=c},function(t,e,n){
/*!
 *
 * Throttle callbacks
 *
 * @throttle
 * @author: kitajchuk
 *
 */
t.exports=function(t,e){var n=!1;return function(){n||(t.call(),n=!0,setTimeout((function(){n=!1}),e||100))}}},function(t,e,n){
/*!
 *
 * Asynchronous webpage transitioning with pushstate management.
 *
 * @PageController
 * @author: kitajchuk
 *
 * @module
 * - init
 * - isActive
 * - onload
 * - unload
 *
 *
 */
var r,o,i,a,s,u,l,c,f,h,p,d,y,m,v,g,b,_,w,E,T,S,A,O,x,P,j;t.exports=(r=n(101),o=n(6),i=null,a=[],s=[],u={active:[],inactive:[]},l=!1,c=null,f=null,h=!0,p=null,d=null,y=!1,m=!1,v=null,g=!1,b=null,_=function(t,e){m||b.fire("page-controller-"+t,e)},w=function(t){return"function"==typeof t},E=function(){if(!m)for(var t=u.active.length;t--;)w(u.active[t].onload)&&u.active[t].onload()},T=function(t){var e,n=t.uri;for(e in t.query)n+="-"+e+"-"+t.query[e];for(e in t.params)n+="-"+e+"-"+t.params[e];return n},S=function(){if(!m){u.active=[],u.inactive=[];for(var t=s.length;t--;){var e=s[t];w(e.isActive)&&(e.isActive()?u.active.push(e):u.inactive.push(e))}_("router-synced-modules",u)}},A=function(t){g||(g=!0,b.go((function(){Date.now()-c>=b._options.transitionTime&&(b.stop(),P(t))})))},O=function(t){g||(x(t.request),setTimeout((function(){P(t)}),b._options.transitionTime))},x=function(t){if(!g){if(d===T(t))return _("router-samepage",{request:t}),void(y=!0);c=Date.now(),h||_("router-transition-out",{request:t})}},P=function(t){if(y)return y=!1,void(g=!1);var e={response:t.response.responseText,request:t.request,status:t.status};f=e.request.uri,p=e.request.query,d=T(e.request),h?(h=!1,g=!1,S(),E(),_("initialized-page",e)):setTimeout((function(){S(),function(){if(!m)for(var t=u.active.length;t--;)w(u.active[t].unload)&&u.active[t].unload()}(),_("router-refresh-document",e),S(),E(),_("router-transition-in",e),g=!1,m&&(m=!1,w(v)&&(v(e),v=null))}),b._options.transitionTime)},((j=function(t){if(!b&&(b=this,this._options={transitionTime:0,routerOptions:{pushStateOptions:{}}},(t=t||{}).transitionTime&&(this._options.transitionTime=t.transitionTime),t.routerOptions))for(var e in t.routerOptions)this._options.routerOptions[e]=t.routerOptions[e];return b}).prototype=new o).initPage=function(){if(!l&&(l=!0,(i=new r(this._options.routerOptions))._matcher.parse(window.location.href,a).matched)){i.bind();for(var t=a.length;t--;)i.get(a[t],A);i.on("preget",x),i.on("popget",O),function(t){for(var e=s.length;e--;)!s[e].__initialized&&w(s[e].init)&&(s[e].__initialized=!0,s[e].init())}()}},j.prototype.routeSilently=function(t,e){m=!0,v=e,i.trigger(t)},j.prototype.setConfig=function(t){a=t},j.prototype.setModules=function(t){if(t)for(var e=t.length;e--;)this.addModule(t[e])},j.prototype.addModule=function(t){if(!(-1===s.indexOf(t)&&w(t.isActive)&&w(t.onload)&&w(t.unload)))throw new Error("PageController ERROR - All registered modules require isActive, onload and unload methods.");s.push(t)},j.prototype.getModules=function(){return s},j.prototype.getConfig=function(){return a},j.prototype.getRouter=function(){return i},j.prototype.getPusher=function(){return i._pusher},j.prototype.getMatcher=function(){return i._matcher},j.prototype.getRoute=function(){return f},j.prototype.getQuery=function(){return p},j)},function(t,e,n){
/*!
 *
 * Handles basic get routing
 *
 * @Router
 * @author: kitajchuk
 *
 */
var r,o,i,a,s,u;t.exports=(i=n(102),a=n(103),s=n(104),(u=function(){return this.init.apply(this,arguments)}).prototype={constructor:u,_rHTTPs:/^http[s]?:\/\/.*?\//,_rFiles:/\.(jpg|jpeg|png|gif|pdf|csv|txt|md|doc|docx|xls|xlsx|webm|mp4|mp3)$/gi,_rDomain:new RegExp(document.domain),_isRouting:!1,init:function(t){for(var e in this._options={async:!0,proxy:!1,caching:!0,handle404:!0,handle500:!0,pushStateOptions:{}},t=t||{})this._options[e]=t[e];this._matcher=new a,this._pusher=new i(this._options.pushStateOptions),this._callbacks={},this._responses={},this._uid=0,this._ready=!1},bind:function(){var t=this,e=window.location.href.replace(window.location.hash,"");document.addEventListener("click",(function(e){t._handleClick(this,e)}),!1),this._pusher.on("popstate",(function(e,n){t._handlePopstate(e,n)})),this._options.async&&this._options.handle404?this._route(e,(function(e,n){t._ready=!0})):setTimeout((function(){var n={status:200,responseText:(new XMLSerializer).serializeToString(document)};t._fire("get",e,n,n.status),t._cache(e,n),t._ready=!0}),200)},on:function(t,e){this._bind(t,e)},off:function(t,e){this._unbind(t,e)},trigger:function(t){r||(r=document.createElement("a")),r.href=t,this._handleClick(r,{target:r})},get:function(t,e){this._matcher.config([t]),e._routerRoutes?e._routerRoutes.push(t):e._routerRoutes=[t],1===e._routerRoutes.length&&this._bind("get",e)},getActiveEl:function(){return o},getRouteForUrl:function(t){return this._matcher._cleanRoute(t)},getRouteDataForUrl:function(t){return this._matcher.parse(t,this._matcher.getRoutes()).params},getUID:function(){return this._uid=this._uid+1,this._uid},_preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},_handleClick:function(t,e){var n=s(t,"a",!0)||s(e.target,"a",!0),r=n&&this._matcher.test(n.href),i=n&&this._rDomain.test(n.href),a=n&&this._options.proxy&&this._options.proxy.domain,u=n&&-1!==n.href.indexOf("#"),l=n&&-1!==n.className.indexOf("js-router--ignore"),c=n&&e.metaKey,f=n&&"_blank"===n.target,h=n&&i&&n.href.match(this._rFiles);(r&&i||a)&&(u||l||c||f||h||(o=n,this._preventDefault(e),this._isRouting||this._route(n.href)))},_handlePopstate:function(t,e){if(this._ready){for(var n=this._callbacks.get.length;n--;){var r=this._matcher.parse(t,this._callbacks.get[n]._routerRoutes);if(r.matched)break}data={route:this._matcher._cleanRoute(t),response:this._responses[t],request:r,status:this._responses[t].status},this._fire("popget",t,data)}else this._ready=!0},_route:function(t,e){var n=this,r={request:t,original:t};this._isRouting=!0,this._matchUrl(r.original),this._options.proxy&&this._options.proxy.domain&&(r.request=this._options.proxy.domain+"/"+r.request.replace(this._rHTTPs,"")),this._getUrl(r,(function(t,o){n._isRouting=!1,n._pusher.push(r.original),n._fire("get",r.original,t,o),"function"==typeof e&&e(t,o)}))},_matchUrl:function(t){if(this._ready)for(var e=this._callbacks.get.length;e--;){var n=this._matcher.parse(t,this._callbacks.get[e]._routerRoutes);if(n.matched){this._fire("preget",t,n);break}}},_getUrl:function(t,e){var n=function(n,r){try{o._cache(t.original,n),"function"==typeof e&&e(n,r)}catch(t){}},r=null,o=this;this._responses[t.original]?n(this._responses[t.original],this._responses[t.original].status):this._options.async?((r=new XMLHttpRequest).open("GET",t.request,!0),r.onreadystatechange=function(t){4===this.readyState&&(200===this.status?n(this,200):404===this.status&&o._options.handle404?n(this,404):500===this.status&&o._options.handle500&&n(this,500))},r.send()):n({responseText:""},200)},_cache:function(t,e){this._options.caching&&!this._responses[t]&&(this._responses[t]=e)},_bind:function(t,e){"function"==typeof e&&(this._callbacks[t]||(this._callbacks[t]=[]),e._jsRouterID=this.getUID(),this._callbacks[t].push(e))},_unbind:function(t,e){if(!this._callbacks[t])return this;if(e){for(var n=0,r=this._callbacks[t].length;n<r;n++)if(e._jsRouterID===this._callbacks[t][n]._jsRouterID){this._callbacks[t].splice(n,1);break}}else{for(var o=this._callbacks[t].length;o--;)this._callbacks[t][o]=null;delete this._callbacks[t]}},_fire:function(t,e,n,r){var o;if("get"===t)for(o=this._callbacks[t].length;o--;){var i=this._matcher.parse(e,this._callbacks[t][o]._routerRoutes);i.matched&&this._callbacks[t][o].call(this,{route:this._matcher._cleanRoute(e),response:n,request:i,status:r})}else if(this._callbacks[t])for(o=this._callbacks[t].length;o--;)this._callbacks[t][o].call(this,n)}},u)},function(t,e,n){
/*!
 *
 * Handles history pushstate/popstate with async option
 * If history is not supported, falls back to hashbang!
 *
 * @PushState
 * @author: kitajchuk
 *
 */
var r;t.exports=((r=function(){return this.init.apply(this,arguments)}).prototype={constructor:r,_pushable:"history"in window&&"pushState"in window.history,_hashable:"onhashchange"in window,init:function(t){this._initUrl=window.location.href.replace(window.location.hash,""),this._options=t||{},this._enabled=!1,this._ishashpushed=!1,this._uid=0,this._states={},this._callbacks={},this._states[this._initUrl]={uid:this.getUID()},this._stateEnable()},on:function(t,e){"function"==typeof e&&(this._callbacks[t]||(this._callbacks[t]=[]),e._pushstateID=this.getUID(),e._pushstateType=t,this._callbacks[t].push(e))},off:function(t,e){if(this._callbacks[t])for(var n=this._callbacks[t].length;n--;)if(this._callbacks[t][n]._pushstateID===e._pushstateID){this._callbacks[t].splice(n,1);break}},push:function(t){t!==window.location.href&&(this._push(t),this._states[t]={uid:this.getUID()})},goBack:function(){window.history.back(),this._fire("backstate")},goForward:function(){window.history.forward(),this._fire("forwardstate")},getUID:function(){return this._uid=this._uid+1,this._uid},_push:function(t){if(this._pushable&&!this._options.forceHash)window.history.pushState(this._states[t],"",t);else{var e=t.replace(window.location.origin,"");e===window.location.pathname&&(e="/"),this._ishashpushed=!0,window.location.hash=e}},_fire:function(t,e){if(this._callbacks[t])for(var n=this._callbacks[t].length;n--;)this._callbacks[t][n].apply(this,[].slice.call(arguments,1))},_stateEnable:function(){if(this._enabled)return this;var t=this,e=function(){var e=window.location.href;t._options.forceHash&&(e=(e=e.replace(window.location.hash,"")).replace(window.location.pathname,""),-1!==["#/","#",""].indexOf(window.location.hash)?e+=window.location.pathname:e+=window.location.hash.replace("#","")),t._fire("popstate",e,t._states[e])};this._enabled=!0,this._pushable&&!this._options.forceHash?window.addEventListener("popstate",(function(t){e()}),!1):this._hashable&&(this._push(this._initUrl),window.addEventListener("hashchange",(function(n){t._ishashpushed?t._ishashpushed=!1:e()}),!1))}},r)},function(t,e,n){
/*!
 *
 * Handles wildcard route matching against urls with !num and !slug condition testing
 *
 * @MatchRoute
 * @author: kitajchuk
 *
 */
var r,o;t.exports=(r=n(36),(o=function(){return this.init.apply(this,arguments)}).prototype={constructor:o,_rHTTPs:/^http[s]?:\/\/.*?\//,_rTrails:/^\/|\/$/g,_rHashQuery:/#.*$|\?.*$/g,_rWild:/^:/,_wilders:{num:/^[0-9]+$/,slug:/^[A-Za-z]+[A-Za-z0-9-_.]*$/},init:function(t){this._routes=t?this._cleanRoutes(t):[]},getRoutes:function(){return this._routes},config:function(t){return t="string"==typeof t?[t]:t,this._routes=this._routes.concat(this._cleanRoutes(t)),this},test:function(t){return this.parse(t,this._routes).matched},params:function(t){return this.parse(t,this._routes).params},compare:function(t,e){return this.parse(e,[t])},parse:function(t,e){for(var n,o,i,a,s,u,l,c,f=this._cleanRoute(t),h=f.split("/"),p=h.length,d=e.length,y=0;y<d;y++){if(o="*"===e[y],c={matched:!1,route:null,uri:[],params:{},query:r(t)},s=e[y].split("/"),"/"===f&&"/"===e[y]){c.matched=!0,c.route=e[y],c.uri="/";break}if(s.length===h.length||o){n=0;for(var m=0;m<p;m++)this._rWild.test(s[m])?(a=(i=s[m].split("!"))[0],(l=i[1])?(this._wilders[l]&&(u=this._wilders[l]),u&&u.test(h[m])&&(n++,c.params[a.replace(this._rWild,"")]=h[m],c.uri.push(h[m]))):(n++,c.params[a.replace(this._rWild,"")]=h[m],c.uri.push(h[m]))):h[m]===s[m]&&(n++,c.uri.push(h[m]));if(n===h.length||o){c.matched=!0,c.route=e[y],c.uri=o?f:c.uri.join("/");break}}}return c},_cleanRoute:function(t){return"/"!==t&&(t=(t=(t=(t=t.replace(this._rHTTPs,"")).replace(this._rTrails,"")).replace(this._rHashQuery,"")).replace(this._rTrails,"")),""===t&&(t="/"),t},_cleanRoutes:function(t){for(var e=t.length;e--;)t[e]=this._cleanRoute(t[e]);return t}},o)},function(t,e,n){
/*!
 *
 * Use native element selector matching
 *
 * @matchElement
 * @author: kitajchuk
 *
 */
var r;t.exports=r=function(t,e,n){var o=t.matches?"matches":t.webkitMatchesSelector?"webkitMatchesSelector":t.mozMatchesSelector?"mozMatchesSelector":t.msMatchesSelector?"msMatchesSelector":t.oMatchesSelector?"oMatchesSelector":null;return o&&t[o].call(t,e)?t:n&&t!==document.documentElement&&t.parentNode?r(t.parentNode,e,n):null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=n(106),a=(r=i)&&r.__esModule?r:{default:r};var s=null,u=null,l={init:function(){o.emitter.on("app--root",(function(){u&&u.teardown()})),o.log("about initialized")},isActive:function(){return this.getElements()>0},onload:function(){if(o.emitter.fire("app--offcanvas"),o.dom.html.removeClass(o.config.offcanvasClasses).addClass("is-offcanvas is-offcanvas--about"),!u){var t=s.data();u=new a.default(s,t)}},unload:function(){},getElements:function(){return(s=o.dom.page.find(".js-about")).length}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var i=null,a=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i||this.initialize(e,n),i}return r(t,[{key:"initialize",value:function(t,e){this.$node=t,this.data=e,this.transTime=400,this.$target=o.dom.main.find(".js-main--"+this.data.target),this.$anim=this.$node.find(".js-animate-in"),this.$images=this.$node.find(".js-lazy-image"),this.loadContent(),i=this}},{key:"loadContent",value:function(){var t=this;this.$target.append(this.$node),setTimeout((function(){t.$anim.addClass("is-active")}),10),o.emitter.fire("app--preload-done")}},{key:"teardown",value:function(){}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(4)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=a(n(108));function a(t){return t&&t.__esModule?t:{default:t}}var s=null,u=null,l={init:function(){var t=this;o.emitter.on("app--offcanvas",(function(){u&&u.teardown()})),o.emitter.on("app--load-root",(function(e){s=(0,r.default)(e),t.onload()})),o.log("indexes initialized")},isActive:function(){return this.getElements()>0},onload:function(){if(u)u.cycleAnimation();else{var t=s.data();u=new i.default(s,t)}},unload:function(){},getElements:function(){return(s=o.dom.page.find(".js-index")).length}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=c(n(4)),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=c(n(25)),s=c(n(26)),u=c(n(9)),l=c(n(6));function c(t){return t&&t.__esModule?t:{default:t}}var f=null,h=new l.default,p=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(!f||f&&f.data.id!==n.id)&&this.initialize(e,n),f}return r(t,[{key:"initialize",value:function(t,e){this.$node=t,this.data=e,this.$target=i.dom.main.find(".js-main--"+this.data.target),this.$images=this.$node.find(".js-lazy-image"),this.timeoutId=null,this.timeoutDelay=i.dom.overlay.elementTransitionDuration,this.bindEvents(),this.loadIndex(),f=this}},{key:"cycleAnimation",value:function(){this.$anims=this.$node.find(".js-animate"),window.location.pathname===a.default.root?(h.stop(),h.go(this.updateAnimate.bind(this)),this.handleScroll()):this.updateAnimate()}},{key:"handleScroll",value:function(){var t=null,e=function(){u.default.suppress(!1)};this.$target.on("scroll",(function(){try{clearTimeout(t)}catch(t){i.log("warn",t)}u.default.suppress(!0),t=setTimeout(e,300)}))}},{key:"updateAnimate",value:function(){for(var t=null,e=this.$anims.length;e--;)t=this.$anims.eq(e),i.util.isElementInViewport(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"bindEvents",value:function(){i.dom.body.on("click",".js-index-tile",this.onTileClick.bind(this)),i.detect.isDevice()||(i.dom.body.on("mouseenter",".js-index-tile img",this.onMouseEnter.bind(this)),i.dom.body.on("mousemove",".js-index-tile img",this.onMouseEnter.bind(this)),i.dom.body.on("mouseleave",".js-index-tile img",this.onMouseLeave.bind(this)))}},{key:"loadIndex",value:function(){var t=this;this.$target.append(this.$node),i.images.handleImages(this.$images,(function(){t.cycleAnimation()}))}},{key:"onTileClick",value:function(t){t.preventDefault();var e=(0,o.default)(t.target).closest(".js-index-tile");u.default.setTitle(e.data("title")),u.default.open(),s.default.open()}},{key:"onMouseEnter",value:function(t){try{clearTimeout(this.timeoutId)}catch(t){i.log("warn",t)}if(!s.default.isActive()){var e=(0,o.default)(t.target).closest(".js-index-tile");u.default.setTitle(e.data("title")),u.default.open()}}},{key:"onMouseLeave",value:function(){s.default.isActive()||(this.timeoutId=setTimeout((function(){s.default.isActive()||u.default.close()}),this.timeoutDelay))}},{key:"teardown",value:function(){h.stop(),this.$target.off("scroll")}}]),t}();e.default=p},function(t,e,n){
/*!
 *
 * A lightweight manager for HTML5 audio and video.
 *
 * @MediaBox
 * @singleton
 * @author: kitajchuk
 *
 * @useful web pages with information on this stuffs
 * https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events
 * https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement
 * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video
 * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio
 * https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement
 *
 */
var r,o,i,a,s,u,l,c,f,h,p,d,y,m,v,g,b,_;t.exports=(r=n(15),o=n(19),i=window.requestAnimationFrame,a=window.cancelAnimationFrame,s=/[#|?].*$/g,u=/^no$/,l=function(t){return"function"==typeof t},c=function(t,e){for(var n,r,o=0,i=e.length;o<i;o++){var a=e[o].split(".").pop().toLowerCase().replace(s,"");if("webm"===a&&"probably"===b.support[t][a]){n=e[o],r=b.support[t][a];break}"probably"!==b.support[t][a]&&"maybe"!==b.support[t][a]||(n=e[o],r=b.support[t][a]),"ogv"!==a&&"oga"!==a||"probably"!==b.support[t].ogg&&"maybe"!==b.support[t].ogg||(n=e[o],r=b.support[t].ogg),"mp4"!==a&&"m4v"!==a||"probably"!==b.support[t].h264&&"maybe"!==b.support[t].h264||(n=e[o],r=b.support[t].h264),"aac"!==a||"probably"!==b.support[t].m4a&&"maybe"!==b.support[t].m4a||(n=e[o],r=b.support[t].m4a),"mp1"!==a&&"mp2"!==a&&"mpg"!==a&&"mpeg"!==a||"probably"!==b.support[t].mp3&&"maybe"!==b.support[t].mp3||(n=e[o],r=b.support[t].mp3)}return{source:n,canPlay:r}},f=function(t){t._updateId&&(a(t._updateId),t._updateId=null,t._updateFn=null)},h=function(t,e,n){var r=new XMLHttpRequest;if(r.open("GET",t,!0),e)for(var o in e)r[o]=e[o];return r.onreadystatechange=function(t){if(4===this.readyState&&200===this.status)try{e.responseType||(this.responseJSON=JSON.parse(this.responseText)),l(n)&&n(this)}catch(t){throw new Error([t.name,t.message].join(" : "))}},r.send(),r},p=function(){v=this},d={bgm:{volume:1,_builtIn:!0},sfx:{volume:1,_builtIn:!0},vid:{volume:1,_builtIn:!0}},y={},m={},v=null,window.AudioContext?_=window.AudioContext:window.webkitAudioContext&&(_=window.webkitAudioContext),g=_?new _:_,(b=function(){return v||p.apply(this,arguments)}).types={AUDIO:"audio",VIDEO:"video"},b.support={audio:function(){var t=document.createElement("audio"),e={};try{t.canPlayType&&(e.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(u,""),e.mp3=t.canPlayType("audio/mpeg;").replace(u,""),e.opus=t.canPlayType('audio/ogg; codecs="opus"').replace(u,""),e.wav=t.canPlayType('audio/wav; codecs="1"').replace(u,""),e.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(u,""))}catch(t){}return e}(),video:function(){var t=document.createElement("video"),e={};try{t.canPlayType&&(e.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(u,""),e.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(u,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(u,""),e.vp9=t.canPlayType('video/webm; codecs="vp9"').replace(u,""),e.hls=t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(u,""))}catch(t){}return e}()},b.STATE_STOPPED=0,b.STATE_STOPPING=1,b.STATE_PAUSED=2,b.STATE_PLAYING=3,b.prototype={constructor:b,isLoaded:function(t){return!0===this.getMedia(t).loaded},isStopped:function(t){return this.getMedia(t).state===b.STATE_STOPPED},isPaused:function(t){return this.getMedia(t).state===b.STATE_PAUSED},isPlaying:function(t){var e=this.getMedia(t);return e.state===b.STATE_PLAYING||e.state===b.STATE_STOPPING},setVolume:function(t,e){return this.getMedia(t)._node.volume=e,v},getVolume:function(t){return this.getMedia(t)._node.volume},getMediaProp:function(t,e){var n=this.getMedia(t);if(n)return n._node[e]},setMediaProp:function(t,e,n){var r=this.getMedia(t);return r&&(r._node[e]=n),v},getMediaAttr:function(t,e){var n=this.getMedia(t);if(n)return n._node.getAttribute(e)},setMediaAttr:function(t,e,n){var r=this.getMedia(t);return r&&r._node.setAttribute(e,n),v},addMediaEvent:function(t,e,n){var r=this.getMedia(t);if(r){if("timeupdate"===e)return r._events.timeupdate=n,v;r._events[e]=function(){l(n)&&n.apply(this,arguments)},r._node.addEventListener(e,r._events[e],!1)}return v},removeMediaEvent:function(t,e){var n=this.getMedia(t);return n&&("timeupdate"===e&&f(n),n._node.removeEventListener(e,n._events[e],!1),n._events[e]=null),v},playMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&(this.isStopped(t)||this.isPaused(t))&&(e._node.play(),e.state=b.STATE_PLAYING,!e._updateId&&l(e._events.timeupdate)&&(e._updateFn=function(){e._events.timeupdate.call(e._node,null),e._updateId=i(e._updateFn)},e._updateId=i(e._updateFn))),v},pauseMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&this.isPlaying(t)&&(e._node.pause(),e.state=b.STATE_PAUSED,f(e)),v},stopMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&this.isPlaying(t)&&(e._node.pause(),e.state=b.STATE_STOPPED,f(e)),v},getMedia:function(t){return m[t]?m[t]:y[t]},getAudios:function(){return y},getVideos:function(){return m},destroyMedia:function(t){var e=this.getMedia(t);return this.stopMedia(t),e.type===b.types.AUDIO?delete y[t]:delete m[t],v},loadMedia:function(t,e){var n=this;return h(t,null,(function(t){n.addMedia(t.responseJSON),l(e)&&e()})),v},addMedia:function(t){for(var e in t)for(var n=t[e].length;n--;)l(this[e])&&this[e](t[e][n]);return v},addVideo:function(t){var e=t.id,n=t.src,r={element:t.element,channel:t.channel};return!m[e]&&e&&n?(d[r.channel]||(d[r.channel]={volume:1}),m[e]={},m[e].type=b.types.VIDEO,m[e].state=b.STATE_STOPPED,m[e].loaded=!0,m[e].channel=r.channel,m[e].sources=n,m[e]._source=c(b.types.VIDEO,n),m[e]._events={},m[e]._updateId=null,m[e]._updateFn=null,m[e]._node=r.element||document.createElement("video"),m[e]._nodeSource=document.createElement("source"),m[e]._nodeSource.src=m[e]._source.source,m[e]._nodeSource.type=function(t,e){var n,r=e.split(".").pop().toLowerCase().replace(s,"");if("video"===t)switch(r){case"webm":n="video/webm";break;case"mp4":case"m4v":n="video/mp4";break;case"ogv":n="video/ogg"}else switch(r){case"aac":n="audio/aac";break;case"m4a":n="audio/x-m4a";break;case"mp4":n="audio/mp4";break;case"mp1":case"mp2":case"mp3":case"mpg":case"mpeg":n="audio/mpeg";break;case"oga":case"ogg":n="audio/ogg";break;case"wav":n="audio/wav"}return n}(b.types.VIDEO,m[e]._source.source),m[e]._node.appendChild(m[e]._nodeSource),v):v},addAudio:function(t){var e=t.id,n=t.src,r={channel:t.channel,CORS:t.CORS||!1};return!y[e]&&e&&n?(d[r.channel]||(d[r.channel]={volume:1}),y[e]={},y[e].type=b.types.AUDIO,y[e].state=b.STATE_STOPPED,y[e].loaded=!0,y[e].channel=r.channel,y[e].sources=n,y[e]._source=c(b.types.AUDIO,n),y[e]._events={},y[e]._updateId=null,y[e]._updateFn=null,y[e]._node=new Audio(y[e]._source.source),l(t.onloaded)&&!r.CORS&&h(y[e]._source.source,{responseType:"arraybuffer"},(function(e){g.decodeAudioData(e.response,t.onloaded)})),v):v},fadeMediaIn:function(t,e,n){var i,a=this.getMedia(t),s=this;return a&&a.state===b.STATE_PLAYING||a&&(i=d[a.channel].volume,a.state===b.STATE_STOPPED?(this.playMedia(t),this.setVolume(t,0)):a.state===b.STATE_STOPPING&&(a.state=b.STATE_PLAYING),new o({to:i,from:0,ease:l(n)?n:r.linear,duration:e||1e3,update:function(e){s.setVolume(t,e>i?i:e)},complete:function(){s.setVolume(t,i)}})),v},fadeMediaOut:function(t,e,n){var i=this.getMedia(t);if(i&&i.state===b.STATE_STOPPING)return v;var a=this,s=function(e){i.state===b.STATE_STOPPING&&(a.setVolume(t,e<0?0:e),0===a.getVolume(t)&&a.stopMedia(t))};return i&&(i.state=b.STATE_STOPPING,new o({to:0,from:a.getVolume(t),ease:l(n)?n:r.linear,duration:e||1e3,update:s,complete:s})),v},stopChannel:function(t){var e;for(e in m)m[e].channel===t&&m[e].state===b.STATE_PLAYING&&this.pauseMedia(e);for(e in y)y[e].channel===t&&y[e].state===b.STATE_PLAYING&&this.pauseMedia(e);return v},playChannel:function(t){var e;for(e in m)m[e].channel===t&&m[e].state===b.STATE_PAUSED&&this.playMedia(e);for(e in y)y[e].channel===t&&y[e].state===b.STATE_PAUSED&&this.playMedia(e);return v},fadeChannelOut:function(t,e){var n;for(n in m)m[n].channel===t&&m[n].state===b.STATE_PLAYING&&this.fadeMediaOut(n,e);for(n in y)y[n].channel===t&&y[n].state===b.STATE_PLAYING&&this.fadeMediaOut(n,e);return v},fadeChannelIn:function(t,e){var n;for(n in m)m[n].channel===t&&m[n].state===b.STATE_STOPPED&&this.fadeMediaIn(n,e);for(n in y)y[n].channel===t&&y[n].state===b.STATE_STOPPED&&this.fadeMediaIn(n,e);return v},crossFadeChannel:function(t,e,n){var r;for(r in m)m[r].channel===t&&m[r].state===b.STATE_PLAYING&&this.fadeMediaOut(r,n);for(r in y)y[r].channel===t&&y[r].state===b.STATE_PLAYING&&this.fadeMediaOut(r,n);return this.fadeMediaIn(e,n)},setChannelProp:function(t,e,n){return d[t]&&(d[t][e]=n),v},getChannelProp:function(t,e){if(d[t])return d[t][e]},getChannels:function(){return d}},b)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=n(42),s=(r=a)&&r.__esModule?r:{default:r};var u=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.id=n,this.muted=r,this.bindEvents()}return o(t,[{key:"bindEvents",value:function(){this._onScroll=this.onScroll.bind(this),s.default.getMedia(this.id)&&this._onScroll(),i.emitter.on("app--project-scroll",this._onScroll)}},{key:"onScroll",value:function(){i.util.isElementInViewport(this.$node[0])?s.default.isPlaying(this.id)||(s.default.setVolume(this.id,this.muted?0:1),s.default.playMedia(this.id)):s.default.isPlaying(this.id)&&s.default.stopMedia(this.id)}},{key:"destroy",value:function(){i.emitter.off("app--project-scroll",this._onScroll)}}]),t}();e.default=u},function(t,e,n){"use strict";(function(e){var r=n(114),o=n(28),i=n(32),a=n(153),s=n(154),u=n(155),l=n(156);t.exports.request_defaults={protocol:"https:",hostname:"api.vimeo.com",port:443,method:"GET",query:{},headers:{Accept:"application/vnd.vimeo.*+json;version=3.4","User-Agent":"Vimeo.js/2.1.1"}};var c=t.exports.authEndpoints={authorization:"/oauth/authorize",accessToken:"/oauth/access_token",clientCredentials:"/oauth/authorize/client"},f=t.exports.Vimeo=function(t,e,n){this._clientId=t,this._clientSecret=e,n&&(this._accessToken=n)};f.prototype._clientId=null,f.prototype._clientSecret=null,f.prototype._accessToken=null,f.prototype.request=function(t,n){var s=null;if("string"==typeof t&&((t=o.parse(t,!0)).method="GET"),"string"!=typeof t.path)return n(new Error("You must provide an API path."));"/"!==t.path.charAt(0)&&(t.path="/"+t.path);var u=this._buildRequestOptions(t);s="https:"===u.protocol?a:i,-1!==["POST","PATCH","PUT","DELETE"].indexOf(u.method)&&("application/json"===u.headers["Content-Type"]?u.body=JSON.stringify(t.query):u.body=r.stringify(t.query),u.body?u.headers["Content-Length"]=e.byteLength(u.body,"utf8"):u.headers["Content-Length"]=0);var l=s.request(u,this._handleRequest(n));u.body&&l.write(u.body),l.on("error",(function(t){n(t)})),l.end()},f.prototype._handleRequest=function(t){return function(e){e.setEncoding("utf8");var n="";e.on("readable",(function(){n+=e.read()||""})),e.statusCode>=400?e.on("end",(function(){var r=new Error(n);t(r,n,e.statusCode,e.headers)})):e.on("end",(function(){try{var r=n.length?JSON.parse(n):{}}catch(r){return t(n,n,e.statusCode,e.headers)}t(null,r,e.statusCode,e.headers)}))}},f.prototype._buildRequestOptions=function(t){var n=this._applyDefaultRequestOptions(t);if(this._accessToken)n.headers.Authorization="Bearer "+this._accessToken;else if(this._clientId&&this._clientSecret){var r=e.from(this._clientId+":"+this._clientSecret);n.headers.Authorization="Basic "+r.toString("base64")}return-1===["POST","PATCH","PUT","DELETE"].indexOf(n.method)||n.headers["Content-Type"]?"GET"===n.method&&(n.path=this._applyQuerystringParams(n,t)):n.headers["Content-Type"]="application/json",n},f.prototype._applyDefaultRequestOptions=function(e){var n={protocol:e.protocol||t.exports.request_defaults.protocol,host:e.hostname||t.exports.request_defaults.hostname,port:e.port||t.exports.request_defaults.port,method:e.method||t.exports.request_defaults.method,headers:e.headers||{},body:"",path:e.path},r=null;if(t.exports.request_defaults.headers)for(r in t.exports.request_defaults.headers)n.headers[r]||(n.headers[r]=t.exports.request_defaults.headers[r]);return n},f.prototype._applyQuerystringParams=function(t,e){var n="";return e.query?(Object.keys(e.query).length&&(n=t.path.indexOf("?")<0?"?"+r.stringify(e.query):"&"+r.stringify(e.query)),t.path+n):t.path},f.prototype.setAccessToken=function(t){this._accessToken=t},f.prototype.accessToken=function(e,n,r){var o={method:"POST",hostname:t.exports.request_defaults.hostname,path:c.accessToken,query:{grant_type:"authorization_code",code:e,redirect_uri:n},headers:{"Content-Type":"application/x-www-form-urlencoded"}};this.request(o,(function(t,e,n,o){if(t)return r(t,null,n,o);r(null,e,n,o)}))},f.prototype.buildAuthorizationEndpoint=function(e,n,o){var i={response_type:"code",client_id:this._clientId,redirect_uri:e};return n?Array.isArray(n)?i.scope=n.join(" "):i.scope=n:i.scope="public",o&&(i.state=o),t.exports.request_defaults.protocol+"//"+t.exports.request_defaults.hostname+c.authorization+"?"+r.stringify(i)},f.prototype.generateClientCredentials=function(e,n){var r={grant_type:"client_credentials"};e?Array.isArray(e)?r.scope=e.join(" "):r.scope=e:r.scope="public",this.request({method:"POST",hostname:t.exports.request_defaults.hostname,path:c.clientCredentials,query:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}},(function(t,e,r,o){if(t)return n(t,null,r,o);n(null,e,r,o)}))},f.prototype.upload=function(t,e,n,r,o){var i,a=this;if("function"==typeof e&&(o=r,r=n,n=e,e={}),"string"==typeof t)try{i=s.statSync(t).size}catch(t){return o("Unable to locate file to upload.")}else i=t.size;void 0===e.upload?e.upload={approach:"tus",size:i}:(e.upload.approach="tus",e.upload.size=i);var u={path:"/me/videos?fields=uri,name,upload",method:"POST",query:e};this.request(u,(function(e,s,u){if(e)return o("Unable to initiate an upload. ["+e+"]");a._performTusUpload(t,i,s,n,r,o)}))},f.prototype.replace=function(t,e,n,r,o,i){var a,l=this;if("function"==typeof n&&(i=o,o=r,r=n,n={}),"string"==typeof t){try{a=s.statSync(t).size}catch(t){return i("Unable to locate file to upload.")}n.file_name=u.basename(t)}else a=t.size,n.file_name=t.name;void 0===n.upload?n.upload={approach:"tus",size:a}:(n.upload.approach="tus",n.upload.size=a);var c={path:e+"/versions?fields=upload",method:"POST",query:n};l.request(c,(function(n,s,u){if(n)return i("Unable to initiate an upload. ["+n+"]");s.uri=e,l._performTusUpload(t,a,s,r,o,i)}))},f.prototype._performTusUpload=function(t,e,n,r,o,i){var a=t;"string"==typeof t&&(a=s.createReadStream(t));var u=new l.Upload(a,{endpoint:"none",uploadSize:e,retryDelays:[0,1e3,3e3,5e3],onError:i,onProgress:o,onSuccess:function(){return r(n.uri)}});u.url=n.upload.upload_link,u.start()}}).call(this,n(10).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),a=r[0],s=r[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(c(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,h=n?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+t[e+f],f+=h,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=l}return(p?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*y}},function(t,e,n){"use strict";e.decode=e.parse=n(115),e.encode=e.stringify=n(116)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f,h,p,d,y=t[c].replace(s,"%20"),m=y.indexOf(n);m>=0?(f=y.substr(0,m),h=y.substr(m+1)):(f=y,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),r(a,p)?o(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(a(t),(function(a){var s=encodeURIComponent(r(a))+n;return o(t[a])?i(t[a],(function(t){return s+encodeURIComponent(r(t))})).join(e):s+encodeURIComponent(r(t[a]))})).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){(function(t,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=/^xn--/,c=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function y(t){throw new RangeError(h[t])}function m(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function v(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+m((t=t.replace(f,".")).split("."),e).join(".")}function g(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function b(t){return m(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var r=0;for(t=n?p(t/700):t>>1,t+=p(t/e);t>455;r+=36)t=p(t/35);return p(r+36*t/(t+38))}function E(t){var e,n,r,o,i,a,s,l,c,f,h,d=[],m=t.length,v=0,g=128,_=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&y("not-basic"),d.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<m;){for(i=v,a=1,s=36;o>=m&&y("invalid-input"),((l=(h=t.charCodeAt(o++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||l>p((u-v)/a))&&y("overflow"),v+=l*a,!(l<(c=s<=_?1:s>=_+26?26:s-_));s+=36)a>p(u/(f=36-c))&&y("overflow"),a*=f;_=w(v-i,e=d.length+1,0==i),p(v/e)>u-g&&y("overflow"),g+=p(v/e),v%=e,d.splice(v++,0,g)}return b(d)}function T(t){var e,n,r,o,i,a,s,l,c,f,h,m,v,b,E,T=[];for(m=(t=g(t)).length,e=128,n=0,i=72,a=0;a<m;++a)(h=t[a])<128&&T.push(d(h));for(r=o=T.length,o&&T.push("-");r<m;){for(s=u,a=0;a<m;++a)(h=t[a])>=e&&h<s&&(s=h);for(s-e>p((u-n)/(v=r+1))&&y("overflow"),n+=(s-e)*v,e=s,a=0;a<m;++a)if((h=t[a])<e&&++n>u&&y("overflow"),h==e){for(l=n,c=36;!(l<(f=c<=i?1:c>=i+26?26:c-i));c+=36)E=l-f,b=36-f,T.push(d(_(f+E%b,0))),l=p(E/b);T.push(d(_(l,0))),i=w(n,v,r==o),n=0,++r}++n,++e}return T.join("")}s={version:"1.4.1",ucs2:{decode:g,encode:b},decode:E,encode:T,toASCII:function(t){return v(t,(function(t){return c.test(t)?"xn--"+T(t):t}))},toUnicode:function(t){return v(t,(function(t){return l.test(t)?E(t.slice(4).toLowerCase()):t}))}},void 0===(o=function(){return s}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(118)(t),n(2))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(120),o=n(139),i=n(31);t.exports={formats:i,parse:o,stringify:r}},function(t,e,n){"use strict";var r=n(121),o=n(47),i=n(31),a=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},u=Array.isArray,l=Array.prototype.push,c=function(t,e){l.apply(t,u(e)?e:[e])},f=Date.prototype.toISOString,h=i.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,format:h,formatter:i.formatters[h],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},d={},y=function t(e,n,i,a,s,l,f,h,y,m,v,g,b,_,w,E,T,S){for(var A,O=e,x=S,P=0,j=!1;void 0!==(x=x.get(d))&&!j;){var C=x.get(e);if(P+=1,void 0!==C){if(C===P)throw new RangeError("Cyclic object value");j=!0}void 0===x.get(d)&&(P=0)}if("function"==typeof m?O=m(n,O):O instanceof Date?O=b(O):"comma"===i&&u(O)&&(O=o.maybeMap(O,(function(t){return t instanceof Date?b(t):t}))),null===O){if(l)return y&&!E?y(n,p.encoder,T,"key",_):n;O=""}if("string"==typeof(A=O)||"number"==typeof A||"boolean"==typeof A||"symbol"==typeof A||"bigint"==typeof A||o.isBuffer(O))return y?[w(E?n:y(n,p.encoder,T,"key",_))+"="+w(y(O,p.encoder,T,"value",_))]:[w(n)+"="+w(String(O))];var k,M=[];if(void 0===O)return M;if("comma"===i&&u(O))E&&y&&(O=o.maybeMap(O,y)),k=[{value:O.length>0?O.join(",")||null:void 0}];else if(u(m))k=m;else{var I=Object.keys(O);k=v?I.sort(v):I}var D=h?n.replace(/\./g,"%2E"):n,R=a&&u(O)&&1===O.length?D+"[]":D;if(s&&u(O)&&0===O.length)return R+"[]";for(var L=0;L<k.length;++L){var U=k[L],N="object"==typeof U&&void 0!==U.value?U.value:O[U];if(!f||null!==N){var z=g&&h?U.replace(/\./g,"%2E"):U,q=u(O)?"function"==typeof i?i(R,z):R:R+(g?"."+z:"["+z+"]");S.set(e,P);var B=r();B.set(d,S),c(M,t(N,q,i,a,s,l,f,h,"comma"===i&&E&&u(O)?null:y,m,v,g,b,_,w,E,T,B))}}return M};t.exports=function(t,e){var n,o=t,l=function(t){if(!t)return p;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!a.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r,o=i.formatters[n],l=p.filter;if(("function"==typeof t.filter||u(t.filter))&&(l=t.filter),r=t.arrayFormat in s?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=void 0===t.allowDots?!0===t.encodeDotInKeys||p.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:c,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:r,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:l,format:n,formatter:o,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof l.filter?o=(0,l.filter)("",o):u(l.filter)&&(n=l.filter);var f=[];if("object"!=typeof o||null===o)return"";var h=s[l.arrayFormat],d="comma"===h&&l.commaRoundTrip;n||(n=Object.keys(o)),l.sort&&n.sort(l.sort);for(var m=r(),v=0;v<n.length;++v){var g=n[v];l.skipNulls&&null===o[g]||c(f,y(o[g],g,h,d,l.allowEmptyArrays,l.strictNullHandling,l.skipNulls,l.encodeDotInKeys,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,m))}var b=f.join(l.delimiter),_=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}},function(t,e,n){"use strict";var r=n(11),o=n(132),i=n(137),a=n(16),s=r("%WeakMap%",!0),u=r("%Map%",!0),l=o("WeakMap.prototype.get",!0),c=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),h=o("Map.prototype.get",!0),p=o("Map.prototype.set",!0),d=o("Map.prototype.has",!0),y=function(t,e){for(var n,r=t;null!==(n=r.next);r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n};t.exports=function(){var t,e,n,r={assert:function(t){if(!r.has(t))throw new a("Side channel does not contain "+i(t))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(t)return l(t,r)}else if(u){if(e)return h(e,r)}else if(n)return function(t,e){var n=y(t,e);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(t)return f(t,r)}else if(u){if(e)return d(e,r)}else if(n)return function(t,e){return!!y(t,e)}(n,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new s),c(t,r,o)):u?(e||(e=new u),p(e,r,o)):(n||(n={key:{},next:null}),function(t,e,n){var r=y(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}}(n,r,o))}};return r}},function(t,e,n){"use strict";t.exports=Error},function(t,e,n){"use strict";t.exports=EvalError},function(t,e,n){"use strict";t.exports=RangeError},function(t,e,n){"use strict";t.exports=ReferenceError},function(t,e,n){"use strict";t.exports=URIError},function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(128);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,n){"use strict";var r={__proto__:null,foo:{}},o=Object;t.exports=function(){return{__proto__:r}.foo===r.foo&&!(r instanceof o)}},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Object.prototype.toString,i=Math.max,a=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var o=0;o<e.length;o+=1)n[o+t.length]=e[o];return n},s=function(t,e){for(var n=[],r=e||0,o=0;r<t.length;r+=1,o+=1)n[o]=t[r];return n},u=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.apply(e))throw new TypeError(r+e);for(var n,l=s(arguments,1),c=function(){if(this instanceof n){var r=e.apply(this,a(l,arguments));return Object(r)===r?r:this}return e.apply(t,a(l,arguments))},f=i(0,e.length-l.length),h=[],p=0;p<f;p++)h[p]="$"+p;if(n=Function("binder","return function ("+u(h,",")+"){ return binder.apply(this,arguments); }")(c),e.prototype){var d=function(){};d.prototype=e.prototype,n.prototype=new d,d.prototype=null}return n}},function(t,e,n){"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=n(29);t.exports=i.call(r,o)},function(t,e,n){"use strict";var r=n(11),o=n(133),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},function(t,e,n){"use strict";var r=n(29),o=n(11),i=n(134),a=n(16),s=o("%Function.prototype.apply%"),u=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||r.call(u,s),c=n(30),f=o("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new a("a function is required");var e=l(r,u,arguments);return i(e,1+f(0,t.length-(arguments.length-1)),!0)};var h=function(){return l(r,s,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h},function(t,e,n){"use strict";var r=n(11),o=n(135),i=n(136)(),a=n(46),s=n(16),u=r("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new s("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||u(e)!==e)throw new s("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,l=!0;if("length"in t&&a){var c=a(t,"length");c&&!c.configurable&&(r=!1),c&&!c.writable&&(l=!1)}return(r||l||!n)&&(i?o(t,"length",e,!0,!0):o(t,"length",e)),t}},function(t,e,n){"use strict";var r=n(30),o=n(45),i=n(16),a=n(46);t.exports=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new i("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],f=!!a&&a(t,e);if(r)r(t,e,{configurable:null===l&&f?f.configurable:!l,enumerable:null===s&&f?f.enumerable:!s,value:n,writable:null===u&&f?f.writable:!u});else{if(!c&&(s||u||l))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}}},function(t,e,n){"use strict";var r=n(30),o=function(){return!!r};o.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},function(t,e,n){(function(e){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&u&&"function"==typeof u.get?u.get:null,c=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,y=Object.prototype.toString,m=Function.prototype.toString,v=String.prototype.match,g=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,E=RegExp.prototype.test,T=Array.prototype.concat,S=Array.prototype.join,A=Array.prototype.slice,O=Math.floor,x="function"==typeof BigInt?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,k="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===C||"symbol")?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function D(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||E.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var r=t<0?-O(-t):O(t);if(r!==t){var o=String(r),i=g.call(e,o.length+1);return b.call(o,n,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(e,n,"$&_")}var R=n(138),L=R.custom,U=H(L)?L:null,N={__proto__:null,double:'"',single:"'"},z={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function q(t,e,n){var r=n.quoteStyle||e,o=N[r];return o+t+o}function B(t){return b.call(String(t),/"/g,"&quot;")}function $(t){return!("[object Array]"!==Y(t)||k&&"object"==typeof t&&k in t)}function F(t){return!("[object RegExp]"!==Y(t)||k&&"object"==typeof t&&k in t)}function H(t){if(C)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!j)return!1;try{return j.call(t),!0}catch(t){}return!1}t.exports=function t(n,r,o,s){var u=r||{};if(V(u,"quoteStyle")&&!V(N,u.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!V(u,"customInspect")||u.customInspect;if("boolean"!=typeof y&&"symbol"!==y)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=u.numericSeparator;if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return function t(e,n){if(e.length>n.maxStringLength){var r=e.length-n.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return t(g.call(e,0,n.maxStringLength),n)+o}var i=z[n.quoteStyle||"single"];return i.lastIndex=0,q(b.call(b.call(e,i,"\\$1"),/[\x00-\x1f]/g,X),"single",n)}(n,u);if("number"==typeof n){if(0===n)return 1/0/n>0?"0":"-0";var E=String(n);return _?D(n,E):E}if("bigint"==typeof n){var O=String(n)+"n";return _?D(n,O):O}var P=void 0===u.depth?5:u.depth;if(void 0===o&&(o=0),o>=P&&P>0&&"object"==typeof n)return $(n)?"[Array]":"[Object]";var L=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=S.call(Array(t.indent+1)," ")}return{base:n,prev:S.call(Array(e+1),n)}}(u,o);if(void 0===s)s=[];else if(G(s,n)>=0)return"[Circular]";function W(e,n,r){if(n&&(s=A.call(s)).push(n),r){var i={depth:u.depth};return V(u,"quoteStyle")&&(i.quoteStyle=u.quoteStyle),t(e,i,o+1,s)}return t(e,u,o+1,s)}if("function"==typeof n&&!F(n)){var et=function(t){if(t.name)return t.name;var e=v.call(m.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(n),nt=tt(n,W);return"[Function"+(et?": "+et:" (anonymous)")+"]"+(nt.length>0?" { "+S.call(nt,", ")+" }":"")}if(H(n)){var rt=C?b.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):j.call(n);return"object"!=typeof n||C?rt:K(rt)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(n)){for(var ot="<"+w.call(String(n.nodeName)),it=n.attributes||[],at=0;at<it.length;at++)ot+=" "+it[at].name+"="+q(B(it[at].value),"double",u);return ot+=">",n.childNodes&&n.childNodes.length&&(ot+="..."),ot+="</"+w.call(String(n.nodeName))+">"}if($(n)){if(0===n.length)return"[]";var st=tt(n,W);return L&&!function(t){for(var e=0;e<t.length;e++)if(G(t[e],"\n")>=0)return!1;return!0}(st)?"["+Z(st,L)+"]":"[ "+S.call(st,", ")+" ]"}if(function(t){return!("[object Error]"!==Y(t)||k&&"object"==typeof t&&k in t)}(n)){var ut=tt(n,W);return"cause"in Error.prototype||!("cause"in n)||M.call(n,"cause")?0===ut.length?"["+String(n)+"]":"{ ["+String(n)+"] "+S.call(ut,", ")+" }":"{ ["+String(n)+"] "+S.call(T.call("[cause]: "+W(n.cause),ut),", ")+" }"}if("object"==typeof n&&y){if(U&&"function"==typeof n[U]&&R)return R(n,{depth:P-o});if("symbol"!==y&&"function"==typeof n.inspect)return n.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{l.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(n)){var lt=[];return a&&a.call(n,(function(t,e){lt.push(W(e,n,!0)+" => "+W(t,n))})),Q("Map",i.call(n),lt,L)}if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(n)){var ct=[];return c&&c.call(n,(function(t){ct.push(W(t,n))})),Q("Set",l.call(n),ct,L)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(n))return J("WeakMap");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(n))return J("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(n))return J("WeakRef");if(function(t){return!("[object Number]"!==Y(t)||k&&"object"==typeof t&&k in t)}(n))return K(W(Number(n)));if(function(t){if(!t||"object"!=typeof t||!x)return!1;try{return x.call(t),!0}catch(t){}return!1}(n))return K(W(x.call(n)));if(function(t){return!("[object Boolean]"!==Y(t)||k&&"object"==typeof t&&k in t)}(n))return K(d.call(n));if(function(t){return!("[object String]"!==Y(t)||k&&"object"==typeof t&&k in t)}(n))return K(W(String(n)));if("undefined"!=typeof window&&n===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&n===globalThis||void 0!==e&&n===e)return"{ [object globalThis] }";if(!function(t){return!("[object Date]"!==Y(t)||k&&"object"==typeof t&&k in t)}(n)&&!F(n)){var ft=tt(n,W),ht=I?I(n)===Object.prototype:n instanceof Object||n.constructor===Object,pt=n instanceof Object?"":"null prototype",dt=!ht&&k&&Object(n)===n&&k in n?g.call(Y(n),8,-1):pt?"Object":"",yt=(ht||"function"!=typeof n.constructor?"":n.constructor.name?n.constructor.name+" ":"")+(dt||pt?"["+S.call(T.call([],dt||[],pt||[]),": ")+"] ":"");return 0===ft.length?yt+"{}":L?yt+"{"+Z(ft,L)+"}":yt+"{ "+S.call(ft,", ")+" }"}return String(n)};var W=Object.prototype.hasOwnProperty||function(t){return t in this};function V(t,e){return W.call(t,e)}function Y(t){return y.call(t)}function G(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function X(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+_.call(e.toString(16))}function K(t){return"Object("+t+")"}function J(t){return t+" { ? }"}function Q(t,e,n,r){return t+" ("+e+") {"+(r?Z(n,r):S.call(n,", "))+"}"}function Z(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+S.call(t,","+n)+"\n"+e.prev}function tt(t,e){var n=$(t),r=[];if(n){r.length=t.length;for(var o=0;o<t.length;o++)r[o]=V(t,o)?e(t[o],t):""}var i,a="function"==typeof P?P(t):[];if(C){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var u in t)V(t,u)&&(n&&String(Number(u))===u&&u<t.length||C&&i["$"+u]instanceof Symbol||(E.call(/[^\w$]/,u)?r.push(e(u,t)+": "+e(t[u],t)):r.push(u+": "+e(t[u],t))));if("function"==typeof P)for(var l=0;l<a.length;l++)M.call(t,a[l])&&r.push("["+e(a[l])+"]: "+e(t[a[l]],t));return r}}).call(this,n(2))},function(t,e){},function(t,e,n){"use strict";var r=n(47),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},u=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},l=function(t,e,n,r){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),l=s?i.slice(0,s.index):i,c=[];if(l){if(!n.plainObjects&&o.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var f=0;n.depth>0&&null!==(s=a.exec(i))&&f<n.depth;){if(f+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}if(s){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+i.slice(s.index)+"]")}return function(t,e,n,r){for(var o=r?e:u(e,n),i=t.length-1;i>=0;--i){var a,s=t[i];if("[]"===s&&n.parseArrays)a=n.allowEmptyArrays&&(""===o||n.strictNullHandling&&null===o)?[]:[].concat(o);else{a=n.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,f=parseInt(c,10);n.parseArrays||""!==c?!isNaN(f)&&s!==c&&String(f)===c&&f>=0&&n.parseArrays&&f<=n.arrayLimit?(a=[])[f]=o:"__proto__"!==c&&(a[c]=o):a={0:o}}o=a}return o}(c,e,n,r)}};t.exports=function(t,e){var n=function(t){if(!t)return a;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.decodeDotInKeys&&"boolean"!=typeof t.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset,n=void 0===t.duplicates?a.duplicates:t.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===t.allowDots?!0===t.decodeDotInKeys||a.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:a.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof t.strictDepth?!!t.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var n={__proto__:null},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t;l=l.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c,f=e.parameterLimit===1/0?void 0:e.parameterLimit,h=l.split(e.delimiter,f),p=-1,d=e.charset;if(e.charsetSentinel)for(c=0;c<h.length;++c)0===h[c].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[c]?d="utf-8":"utf8=%26%2310003%3B"===h[c]&&(d="iso-8859-1"),p=c,c=h.length);for(c=0;c<h.length;++c)if(c!==p){var y,m,v=h[c],g=v.indexOf("]="),b=-1===g?v.indexOf("="):g+1;-1===b?(y=e.decoder(v,a.decoder,d,"key"),m=e.strictNullHandling?null:""):(y=e.decoder(v.slice(0,b),a.decoder,d,"key"),m=r.maybeMap(u(v.slice(b+1),e),(function(t){return e.decoder(t,a.decoder,d,"value")}))),m&&e.interpretNumericEntities&&"iso-8859-1"===d&&(m=s(m)),v.indexOf("[]=")>-1&&(m=i(m)?[m]:m);var _=o.call(n,y);_&&"combine"===e.duplicates?n[y]=r.combine(n[y],m):_&&"last"!==e.duplicates||(n[y]=m)}return n}(t,n):t,f=n.plainObjects?Object.create(null):{},h=Object.keys(c),p=0;p<h.length;++p){var d=h[p],y=l(d,c[d],n,"string"==typeof t);f=r.merge(f,y,n)}return!0===n.allowSparse?f:r.compact(f)}},function(t,e,n){(function(e,r,o){var i=n(48),a=n(8),s=n(50),u=n(51),l=n(150),c=s.IncomingMessage,f=s.readyStates;var h=t.exports=function(t){var n,r=this;u.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){r.setHeader(e,t.headers[e])}));var o=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!i.abortController)o=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!i.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(t,e){return i.fetch&&e?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&t?"arraybuffer":i.vbArray&&t?"text:vbarray":"text"}(n,o),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};a(h,u.Writable),h.prototype.setHeader=function(t,e){var n=t.toLowerCase();-1===p.indexOf(n)&&(this._headers[n]={name:t,value:e})},h.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},h.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},h.prototype._onFinish=function(){var t=this;if(!t._destroyed){var n=t._opts,a=t._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=i.arraybuffer?l(e.concat(t._body)):i.blobConstructor?new r.Blob(t._body.map((function(t){return l(t)})),{type:(a["content-type"]||{}).value||""}):e.concat(t._body).toString());var u=[];if(Object.keys(a).forEach((function(t){var e=a[t].name,n=a[t].value;Array.isArray(n)?n.forEach((function(t){u.push([e,t])})):u.push([e,n])})),"fetch"===t._mode){var c=null;if(i.abortController){var h=new AbortController;c=h.signal,t._fetchAbortController=h,"requestTimeout"in n&&0!==n.requestTimeout&&(t._fetchTimer=r.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(t._opts.url,{method:t._opts.method,headers:u,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:c}).then((function(e){t._fetchResponse=e,t._connect()}),(function(e){r.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)}))}else{var p=t._xhr=new r.XMLHttpRequest;try{p.open(t._opts.method,t._opts.url,!0)}catch(e){return void o.nextTick((function(){t.emit("error",e)}))}"responseType"in p&&(p.responseType=t._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(p.timeout=n.requestTimeout,p.ontimeout=function(){t.emit("requestTimeout")}),u.forEach((function(t){p.setRequestHeader(t[0],t[1])})),t._response=null,p.onreadystatechange=function(){switch(p.readyState){case f.LOADING:case f.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(p.onprogress=function(){t._onXHRProgress()}),p.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{p.send(s)}catch(e){return void o.nextTick((function(){t.emit("error",e)}))}}}},h.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var t=this;t._destroyed||(t._response=new c(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},h.prototype._write=function(t,e,n){this._body.push(t),n()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),u.Writable.prototype.end.call(this,t,e,n)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(10).Buffer,n(2),n(7))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){},function(t,e,n){"use strict";var r=n(21).Buffer,o=n(145);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);for(var e,n,o,i=r.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=i,o=s,e.copy(n,o),s+=a.data.length,a=a.next;return i},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(147),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,s,u=1,l={},c=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return l[u]=o,r(u),u++},h.clearImmediate=p}function p(t){delete l[t]}function d(t){if(c)setTimeout(d,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(2),n(7))},function(t,e,n){t.exports=n(49).deprecate},function(t,e,n){"use strict";t.exports=i;var r=n(58),o=Object.create(n(17));function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}o.inherits=n(8),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){var r=n(10).Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(r.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,o=0;o<n;o++)e[o]=t[o];return e.buffer}throw new Error("Argument must be a Buffer")}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var o in r)n.call(r,o)&&(t[o]=r[o])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";t.exports=n(32).STATUS_CODES},function(t,e,n){var r=n(32),o=n(28),i=t.exports;for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);function s(t){if("string"==typeof t&&(t=o.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}i.request=function(t,e){return t=s(t),r.request.call(this,t,e)},i.get=function(t,e){return t=s(t),r.get.call(this,t,e)}},function(t,e){},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return(o?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!o).join("/"))||"."},e.normalize=function(t){var i=e.isAbsolute(t),a="/"===o(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!i).join("/"))||i||(t="."),t&&a&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}var l=[];for(u=s;u<o.length;u++)l.push("..");return(l=l.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,o=!0,i=t.length-1;i>=1;--i)if(47===(e=t.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,o=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!o){n=e+1;break}}else-1===r&&(o=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,o=!0,i=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===e?e=a:1!==i&&(i=1):-1!==e&&(i=-1);else if(!o){n=a+1;break}}return-1===e||-1===r||0===i||1===i&&e===r-1&&e===n+1?"":t.slice(e,r)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(7))},function(t,e,n){"use strict";var r,o=n(157),i=(r=o)&&r.__esModule?r:{default:r},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(60));var s=i.default.defaultOptions,u={Upload:i.default,canStoreURLs:a.canStoreURLs,defaultOptions:s};if("undefined"!=typeof window){var l=window,c=l.XMLHttpRequest,f=l.Blob;u.isSupported=c&&f&&"function"==typeof f.prototype.slice}else u.isSupported=!0,u.FileStorage=a.FileStorage;t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=c(n(158)),i=c(n(159)),a=n(160),s=n(161),u=n(165),l=n(60);function c(t){return t&&t.__esModule?t:{default:t}}var f={endpoint:null,fingerprint:c(n(169)).default,resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,urlStorage:null,fileReader:null,uploadDataDuringCreation:!1},h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,i.default)(!0,{},f,n),this._storage=this.options.urlStorage,this.file=e,this.url=null,this._xhr=null,this._fingerprint=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0}return r(t,[{key:"start",value:function(){var t=this,e=this.file;e?this.options.endpoint||this.options.uploadUrl?(this.options.resume&&null==this._storage&&(this._storage=(0,l.getStorage)()),this._source?this._start(this._source):(this.options.fileReader||u.getSource)(e,this.options.chunkSize,(function(e,n){e?t._emitError(e):(t._source=n,t._start(n))}))):this._emitError(new Error("tus: neither an endpoint or an upload URL is provided")):this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_start",value:function(t){var e=this,n=this.file;if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=t.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));var r=this.options.retryDelays;if(null!=r){if("[object Array]"!==Object.prototype.toString.call(r))return void this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));var o=this.options.onError;this.options.onError=function(t){e.options.onError=o,null!=e._offset&&e._offset>e._offsetBeforeRetry&&(e._retryAttempt=0);var n=!0;"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(n=!1);var i=t.originalRequest?t.originalRequest.status:0,a=!p(i,400)||409===i||423===i;if(e._retryAttempt<r.length&&null!=t.originalRequest&&a&&n){var s=r[e._retryAttempt++];e._offsetBeforeRetry=e._offset,e.options.uploadUrl=e.url,e._retryTimeout=setTimeout((function(){e.start()}),s)}else e._emitError(t)}}if(this._aborted=!1,null==this.url)return null!=this.options.uploadUrl?(this.url=this.options.uploadUrl,void this._resumeUpload()):void(this._hasStorage()?this.options.fingerprint(n,this.options,(function(t,n){t?e._emitError(t):(e._fingerprint=n,e._storage.getItem(e._fingerprint,(function(t,n){t?e._emitError(t):null!=n?(e.url=n,e._resumeUpload()):e._createUpload()})))})):this._createUpload());this._resumeUpload()}},{key:"abort",value:function(e,n){var r=this;null!==this._xhr&&(this._xhr.abort(),this._source.close()),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),n=n||function(){},e?t.terminate(this.url,this.options,(function(t,e){if(t)return n(t,e);r._hasStorage()?r._storage.removeItem(r._fingerprint,n):n()})):n()}},{key:"_hasStorage",value:function(){return this.options.resume&&this._storage}},{key:"_emitXhrError",value:function(t,e,n){this._emitError(new o.default(e,n,t))}},{key:"_emitError",value:function(t){if("function"!=typeof this.options.onError)throw t;this.options.onError(t)}},{key:"_emitSuccess",value:function(){"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(t,e){"function"==typeof this.options.onProgress&&this.options.onProgress(t,e)}},{key:"_emitChunkComplete",value:function(t,e,n){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(t,e,n)}},{key:"_setupXHR",value:function(t){this._xhr=t,d(t,this.options)}},{key:"_createUpload",value:function(){var t=this;if(this.options.endpoint){var e=(0,s.newRequest)();e.open("POST",this.options.endpoint,!0),e.onload=function(){if(p(e.status,200)){var n=e.getResponseHeader("Location");if(null!=n){if(t.url=(0,s.resolveUrl)(t.options.endpoint,n),0===t._size)return t._emitSuccess(),void t._source.close();t._hasStorage()&&t._storage.setItem(t._fingerprint,t.url,(function(e){e&&t._emitError(e)})),t.options.uploadDataDuringCreation?t._handleUploadResponse(e):(t._offset=0,t._startUpload())}else t._emitXhrError(e,new Error("tus: invalid or missing Location header"))}else t._emitXhrError(e,new Error("tus: unexpected response while creating upload"))},e.onerror=function(n){t._emitXhrError(e,new Error("tus: failed to create upload"),n)},this._setupXHR(e),this.options.uploadLengthDeferred?e.setRequestHeader("Upload-Defer-Length",1):e.setRequestHeader("Upload-Length",this._size);var n=function(t){var e=[];for(var n in t)e.push(n+" "+a.Base64.encode(t[n]));return e.join(",")}(this.options.metadata);""!==n&&e.setRequestHeader("Upload-Metadata",n),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,this._addChunkToRequest(e)):e.send(null)}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var t=this,e=(0,s.newRequest)();e.open("HEAD",this.url,!0),e.onload=function(){if(!p(e.status,200))return t._hasStorage()&&p(e.status,400)&&t._storage.removeItem(t._fingerprint,(function(e){e&&t._emitError(e)})),423===e.status?void t._emitXhrError(e,new Error("tus: upload is currently locked; retry later")):t.options.endpoint?(t.url=null,void t._createUpload()):void t._emitXhrError(e,new Error("tus: unable to resume upload (new upload cannot be created without an endpoint)"));var n=parseInt(e.getResponseHeader("Upload-Offset"),10);if(isNaN(n))t._emitXhrError(e,new Error("tus: invalid or missing offset value"));else{var r=parseInt(e.getResponseHeader("Upload-Length"),10);if(!isNaN(r)||t.options.uploadLengthDeferred){if(n===r)return t._emitProgress(r,r),void t._emitSuccess();t._offset=n,t._startUpload()}else t._emitXhrError(e,new Error("tus: invalid or missing length value"))}},e.onerror=function(n){t._emitXhrError(e,new Error("tus: failed to resume upload"),n)},this._setupXHR(e),e.send(null)}},{key:"_startUpload",value:function(){var t=this;if(!this._aborted){var e=(0,s.newRequest)();this.options.overridePatchMethod?(e.open("POST",this.url,!0),e.setRequestHeader("X-HTTP-Method-Override","PATCH")):e.open("PATCH",this.url,!0),e.onload=function(){p(e.status,200)?t._handleUploadResponse(e):t._emitXhrError(e,new Error("tus: unexpected response while uploading chunk"))},e.onerror=function(n){t._aborted||t._emitXhrError(e,new Error("tus: failed to upload chunk at offset "+t._offset),n)},this._setupXHR(e),e.setRequestHeader("Upload-Offset",this._offset),this._addChunkToRequest(e)}}},{key:"_addChunkToRequest",value:function(t){var e=this;"upload"in t&&(t.upload.onprogress=function(t){t.lengthComputable&&e._emitProgress(n+t.loaded,e._size)}),t.setRequestHeader("Content-Type","application/offset+octet-stream");var n=this._offset,r=this._offset+this.options.chunkSize;(r===1/0||r>this._size)&&!this.options.uploadLengthDeferred&&(r=this._size),this._source.slice(n,r,(function(n,r,o){n?e._emitError(n):(e.options.uploadLengthDeferred&&o&&(e._size=e._offset+(r&&r.size?r.size:0),t.setRequestHeader("Upload-Length",e._size)),null===r?t.send():(t.send(r),e._emitProgress(e._offset,e._size)))}))}},{key:"_handleUploadResponse",value:function(t){var e=this,n=parseInt(t.getResponseHeader("Upload-Offset"),10);if(isNaN(n))this._emitXhrError(t,new Error("tus: invalid or missing offset value"));else{if(this._emitProgress(n,this._size),this._emitChunkComplete(n-this._offset,n,this._size),this._offset=n,n==this._size)return this.options.removeFingerprintOnSuccess&&this.options.resume&&this._storage.removeItem(this._fingerprint,(function(t){t&&e._emitError(t)})),this._emitSuccess(),void this._source.close();this._startUpload()}}}],[{key:"terminate",value:function(t,e,n){if("function"!=typeof e&&"function"!=typeof n)throw new Error("tus: a callback function must be specified");"function"==typeof e&&(n=e,e={});var r=(0,s.newRequest)();r.open("DELETE",t,!0),r.onload=function(){204===r.status?n():n(new o.default(new Error("tus: unexpected response while terminating upload"),null,r))},r.onerror=function(t){n(new o.default(t,new Error("tus: failed to terminate upload"),r))},d(r,e),r.send(null)}}]),t}();function p(t,e){return t>=e&&t<e+100}function d(t,e){t.setRequestHeader("Tus-Resumable","1.0.0");var n=e.headers||{};for(var r in n)t.setRequestHeader(r,n[r]);t.withCredentials=e.withCredentials}h.defaultOptions=f,e.default=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.message));a.originalRequest=i,a.causingError=n;var s=t.message;return null!=n&&(s+=", caused by "+n.toString()),null!=i&&(s+=", originated from request (response code: "+i.status+", response text: "+i.responseText+")"),a.message=s,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Error),e}();e.default=i},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},u=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,n=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||r.call(t,e)},l=function(t,e){i&&"__proto__"===e.name?i(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(a)return a(t,e).value}return t[e]};t.exports=function t(){var e,n,r,o,i,a,f=arguments[0],h=1,p=arguments.length,d=!1;for("boolean"==typeof f&&(d=f,f=arguments[1]||{},h=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});h<p;++h)if(null!=(e=arguments[h]))for(n in e)r=c(f,n),f!==(o=c(e,n))&&(d&&o&&(u(o)||(i=s(o)))?(i?(i=!1,a=r&&s(r)?r:[]):a=r&&u(r)?r:{},l(f,{name:n,newValue:t(d,a,o)})):void 0!==o&&l(f,{name:n,newValue:o}));return f}},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(t,e){module.exports=e(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(t){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(t){return t.replace(re_utob,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),e>=2?"=":b64chars.charAt(n>>>6&63),e>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t)).toString("base64")}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t)).toString("base64")}:function(t){return btoa(utob(t))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,""):_encode(String(t))},encodeURI=function(t){return encode(t,!0)},re_btou=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),cb_btou=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return fromCharCode(55296+(e>>>10))+fromCharCode(56320+(1023&e));case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,n=e%4,r=(e>0?b64tab[t.charAt(0)]<<18:0)|(e>1?b64tab[t.charAt(1)]<<12:0)|(e>2?b64tab[t.charAt(2)]<<6:0)|(e>3?b64tab[t.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/\S{1,4}/g,cb_decode)},atob=function(t){return _atob(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,"base64")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,"base64")).toString()}:function(t){return btou(_atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(t){return encode(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.newRequest=function(){return new window.XMLHttpRequest},e.resolveUrl=function(t,e){return new i.default(e,t).toString()};var r,o=n(162),i=(r=o)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";(function(e){var r=n(163),o=n(164),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(t){return(t||"").toString().replace(s,"")}var l=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function f(t){var n,r=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},o={},a=typeof(t=t||r);if("blob:"===t.protocol)o=new p(unescape(t.pathname),{});else if("string"===a)for(n in o=new p(t,{}),c)delete o[n];else if("object"===a){for(n in t)n in c||(o[n]=t[n]);void 0===o.slashes&&(o.slashes=i.test(t.href))}return o}function h(t){t=u(t);var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function p(t,e,n){if(t=u(t),!(this instanceof p))return new p(t,e,n);var i,a,s,c,d,y,m=l.slice(),v=typeof e,g=this,b=0;for("object"!==v&&"string"!==v&&(n=e,e=null),n&&"function"!=typeof n&&(n=o.parse),e=f(e),i=!(a=h(t||"")).protocol&&!a.slashes,g.slashes=a.slashes||i&&e.slashes,g.protocol=a.protocol||e.protocol||"",t=a.rest,a.slashes||(m[3]=[/(.*)/,"pathname"]);b<m.length;b++)"function"!=typeof(c=m[b])?(s=c[0],y=c[1],s!=s?g[y]=t:"string"==typeof s?~(d=t.indexOf(s))&&("number"==typeof c[2]?(g[y]=t.slice(0,d),t=t.slice(d+c[2])):(g[y]=t.slice(d),t=t.slice(0,d))):(d=s.exec(t))&&(g[y]=d[1],t=t.slice(0,d.index)),g[y]=g[y]||i&&c[3]&&e[y]||"",c[4]&&(g[y]=g[y].toLowerCase())):t=c(t);n&&(g.query=n(g.query)),i&&e.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==e.pathname)&&(g.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(g.pathname,e.pathname)),r(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(c=g.auth.split(":"),g.username=c[0]||"",g.password=c[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}p.prototype={set:function(t,e,n){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||o.parse)(e)),i[t]=e;break;case"port":i[t]=e,r(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,/:\d+$/.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";i[t]=e.charAt(0)!==a?a+e:e}else i[t]=e;break;default:i[t]=e}for(var s=0;s<l.length;s++){var u=l[s];u[4]&&(i[u[1]]=i[u[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(i+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(i+=n.hash),i}},p.extractProtocol=h,p.location=f,p.trimLeft=u,p.qs=o,t.exports=p}).call(this,n(2))},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,o,i=[];for(o in"string"!=typeof e&&(e="?"),t)if(r.call(t,o)){if((n=t[o])||null!=n&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;i.push(o+"="+n)}return i.length?e+i.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var i=o(e[1]),a=o(e[2]);null===i||null===a||i in r||(r[i]=a)}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getSource=function(t,e,n){if((0,o.default)()&&t&&void 0!==t.uri)return void(0,i.default)(t.uri,(function(t,e){if(t)return n(new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. "+t));n(null,new c(e))}));if("function"==typeof t.slice&&void 0!==t.size)return void n(null,new c(t));if("function"==typeof t.read)return e=+e,isFinite(e)?void n(null,new f(t,e)):void n(new Error("cannot create source for stream without a finite value for the `chunkSize` option"));n(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))};var o=u(n(59)),i=u(n(166)),a=u(n(167)),s=u(n(168));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e){l(this,t),this._file=e,this.size=e.size}return r(t,[{key:"slice",value:function(t,e,n){(0,a.default)()?(0,s.default)(this._file.slice(t,e),(function(t,e){if(t)return n(t);n(null,e)})):n(null,this._file.slice(t,e))}},{key:"close",value:function(){}}]),t}(),f=function(){function t(e,n){l(this,t),this._chunkSize=n,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return r(t,[{key:"slice",value:function(t,e,n){if(!(t<this._bufferOffset))return this._readUntilEnoughDataOrDone(t,e,n);n(new Error("Requested data is before the reader's current offset"))}},{key:"_readUntilEnoughDataOrDone",value:function(t,e,n){var r=this,o=e<=this._bufferOffset+h(this._buffer);if(this._done||o){var i=this._getDataFromBuffer(t,e);n(null,i,null==i&&this._done)}else this._reader.read().then((function(o){var i=o.value;o.done?r._done=!0:void 0===r._buffer?r._buffer=i:r._buffer=function(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}throw new Error("Unknown data type")}(r._buffer,i),r._readUntilEnoughDataOrDone(t,e,n)})).catch((function(t){n(new Error("Error during read: "+t))}))}},{key:"_getDataFromBuffer",value:function(t,e){t>this._bufferOffset&&(this._buffer=this._buffer.slice(t-this._bufferOffset),this._bufferOffset=t);var n=0===h(this._buffer);return this._done&&n?null:this._buffer.slice(0,e-t)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function h(t){return void 0===t?0:void 0!==t.size?t.size:t.length}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var t=n.response;e(null,t)},n.onerror=function(t){e(t)},n.open("GET",t),n.send()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){return"undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=new FileReader;n.onload=function(){e(null,new Uint8Array(n.result))},n.onerror=function(t){e(t)},n.readAsArrayBuffer(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if((0,i.default)())return n(null,function(t,e){var n=t.exif?function(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);e=(e<<5)-e+r,e&=e}return e}(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",n,e.endpoint].join("/")}(t,e));return n(null,["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))};var r,o=n(59),i=(r=o)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=n(171),a=(r=i)&&r.__esModule?r:{default:r};var s=null,u=null,l={init:function(){o.emitter.on("app--root",(function(){u&&u.teardown()})),o.log("listing initialized")},isActive:function(){return this.getElements()>0},onload:function(){if(o.emitter.fire("app--offcanvas"),o.dom.html.removeClass(o.config.offcanvasClasses).addClass("is-offcanvas is-offcanvas--index"),u)u.cycleAnimation();else{var t=s.data();u=new a.default(s,t)}},unload:function(){},getElements:function(){return(s=o.dom.page.find(".js-listing")).length}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=p(n(4)),a=p(n(25)),s=p(n(33)),u=p(n(9)),l=p(n(172)),c=p(n(6)),f=p(n(27)),h=p(n(23));function p(t){return t&&t.__esModule?t:{default:t}}var d=new(0,n(43).Vimeo)("9d4f4417c518c95db3f8c0461eb7da3e59e7b289","23AxUag/dzswqGCSY6rJdoWMsw2MnYadh4fecPP9JJiXEOS/cVaAkRrsh755tu4gEZPon9tS+j0eyN8x+2Orke5W0aGarrnfjONsurvJt8Wdv9mMQNPfz9AwpKGi+Onn","15807db98b40203e65427ac71121c89a"),y=null,m=new c.default,v='\n<div class="listing__tile grid__item__small js-listing-tile">\n    <div class="grid__photo grid__photo--small animate animate--fade js-animate">\n        <figure class="figure">\n            <img class="figure__image image js-lazy-image" data-img-src="{assetUrl}" data-variants="{systemDataVariants}" data-original-size="{originalSize}" />\n        </figure>\n    </div>\n</div>\n',g=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y||this.initialize(e,n),y}return r(t,[{key:"initialize",value:function(t,e){this.data=e,this.$node=t,this.$tile=null,this.$image=null,this.$target=o.dom.main.find(".js-main--"+this.data.target),this.$anims=null,this.vimeos={},this.bindEvents(),this.loadIndex(),y=this}},{key:"cycleAnimation",value:function(){this.$anims=this.$node.find(".js-animate"),m.stop(),m.go(this.updateAnimate.bind(this))}},{key:"updateAnimate",value:function(){for(var t=null,e=this.$anims.length;e--;)t=this.$anims.eq(e),o.util.isElementInViewport(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"bindEvents",value:function(){var t=this;this.$node.on("click",".js-listing-tile",(function(e){if(!s.default.menu.isActive()){var n=(0,i.default)(e.target),r=n.is(".js-listing-tile")?n:n.closest(".js-listing-tile");t.bindGallery(r)}}))}},{key:"bindGallery",value:function(t){var e=t.data();this.$tile=t,this.$image=this.$tile.find(o.config.lazyImageSelector),e.vimeoId?s.default.setVideo(this.vimeos[e.vimeoId]):s.default.setImage(this.$image),this._onKeyDown=this.onKeyDown.bind(this),this._onGalleryImage=this.onGalleryImage.bind(this),this._onGalleryBack=this.onGalleryBack.bind(this),o.emitter.on("app--gallery-image",this._onGalleryImage),o.emitter.on("app--gallery-background",this._onGalleryBack),o.dom.doc.on("keydown",this._onKeyDown)}},{key:"nextTile",value:function(t){var e=t.data();this.$tile=t,this.$image=this.$tile.find(o.config.lazyImageSelector),e.vimeoId?s.default.setVideo(this.vimeos[e.vimeoId]):s.default.setImage(this.$image)}},{key:"unbindGallery",value:function(){this.$tile=null,this.$image=null,u.default.close(),s.default.close(),o.dom.doc.off("keydown",this._onKeyDown),o.emitter.off("app--gallery-image",this._onGalleryImage),o.emitter.off("app--gallery-background",this._onGalleryBack)}},{key:"nextProject",value:function(t,e){t.length&&(this.$tile=e,this.$image=this.$tile.find(o.config.lazyImageSelector),s.default.setImage(this.$image),u.default.close())}},{key:"nextTitle",value:function(t,e){s.default.empty(),t.length&&(u.default.setTitle(e||t.data("title")),u.default.open(),o.dom.gallery.element.addClass("is-title"),this.$tile=t)}},{key:"loadIndex",value:function(){f.default.load(),a.default.loadFullIndex(this.onLoadFullIndex.bind(this))}},{key:"loadVideo",value:function(t,e){var n=t.split("/").pop(),r=this;d.request({method:"GET",path:"/videos/"+n},(function(t,o,i,a){var s=o;r.vimeos[n]=s,e.data("vimeoId",n).find(".js-vimeo-image").removeAttr("data-img-src").removeAttr("data-variants").removeAttr("data-original-size").attr("src",s.pictures.sizes[s.pictures.sizes.length-1].link)}))}},{key:"onLoadFullIndex",value:function(t){var e=this;t.collection.collections.filter((function(t){return t.items.some((function(t){return t.tags&&t.tags.includes("index")}))})).forEach((function(t){var n=(0,i.default)((0,l.default)('<div class="listing__title js-listing-title" data-title="{title}"><h3 class="listing__title__text h3">{text}</h3></div>'.replace(/\n/g,""),{text:t.title,title:t.description||t.title})),r=(0,i.default)('<div class="listing__grid js-listing-project grid grid--index"></div>'.replace(/\n/g,"")),o=null;t.items.filter((function(t){return t.tags&&t.tags.includes("index")})).forEach((function(t){"text"===t.recordTypeLabel||(t.customContent&&t.customContent.vimeoVideoUrl?(o=(0,i.default)('\n<div class="listing__tile grid__item__small js-listing-tile">\n    <div class="grid__photo grid__photo--small animate animate--fade js-animate">\n        <figure class="figure">\n            <img class="figure__image image image--wide js-vimeo-image" />\n            <span class="icon icon--svg icon--playback _video__playback">\n                <svg class="icon__svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="-188 216.1 261.3 209.9" xml:space="preserve"><polygon points="35.8 296.4 -86.3 216.1 -86.3 426 73.3 321.1 "/><rect x="-188" y="216.1" class="st0" width="59.2" height="209.9"/></svg>\n            </span>\n        </figure>\n    </div>\n</div>\n'),t.customContent.verticalVideo&&o.addClass("vertical-video"),r.append(o),e.loadVideo(t.customContent.vimeoVideoUrl,o)):(r.append((0,l.default)(v.replace(/\n/g,""),t)),t.customContent&&t.customContent.diptychImage&&t.customContent.diptychImage.systemDataVariants&&r.append((0,l.default)(v.replace(/\n/g,""),t.customContent.diptychImage))))})),e.$node.append(n),e.$node.append(r)})),this.$target.append(this.$node),o.images.handleImages(this.$node.find(".js-lazy-image"),(function(){f.default.stop(),e.cycleAnimation()}))}},{key:"onGalleryImage",value:function(t){t===h.default.DIRECTION_LEFT?this.onKeyDown({keyCode:37}):this.onKeyDown({keyCode:39})}},{key:"onGalleryBack",value:function(){s.default.empty(),this.unbindGallery()}},{key:"onKeyDown",value:function(t){var e=null,n=null,r=null,i=null,a=this.$tile.next(),s=this.$tile.prev();if(27===t.keyCode)return this.unbindGallery(),!1;this.$tile.is(".js-listing-title")?(39===t.keyCode?(i=this.$tile.next(),this.nextProject(i,i.find(".js-listing-tile").first())):37===t.keyCode&&(i=this.$tile.prev()).length&&this.nextProject(i,i.find(".js-listing-tile").last()),o.dom.gallery.element.removeClass("is-title")):39===t.keyCode&&a.length?this.nextTile(a):39!==t.keyCode||a.length?37===t.keyCode&&s.length?this.nextTile(s):37!==t.keyCode||s.length||(e=null,(n=(r=this.$tile.parent()).prev().prev().prev()).length&&(e=n.data("title")),n=r.prev(),this.nextTitle(n,e)):this.nextTitle(this.$tile.parent().next())}},{key:"teardown",value:function(){m.stop()}}]),t}();e.default=g},function(t,e,n){t.exports=function(t,e){return t.replace(/\{{1,2}([^{}]*)\}{1,2}/g,(function(t,n){var r=e[n.replace(/\s/g,"")];return"string"==typeof r||"number"==typeof r?r:t}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=n(26),a=(r=i)&&r.__esModule?r:{default:r};var s=null,u=null,l={init:function(){o.dom.project.element.is(".is-active")||o.dom.project.element.detach(),o.log("projects initialized")},isActive:function(){return this.getElements()>0},onload:function(){var t=s.data();u=new a.default(s,t),o.emitter.on("app--root",c),o.emitter.on("app--project-ended",c)},unload:function(){this.teardown()},teardown:function(){s=null,u&&(u.teardown(),u=null),o.emitter.off("app--root",c),o.emitter.off("app--project-ended",c)},getElements:function(){return(s=o.dom.page.find(".js-project")).length}},c=function(){u&&(u.teardown(),u=null)};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var o={teardown:function(){r.dom.intro.length&&setTimeout((function(){r.dom.intro.removeClass("is-active"),setTimeout((function(){return r.dom.intro.remove()}),r.util.getTransitionDuration(r.dom.intro[0]))}),1e3)}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var s={init:function(){this.$mainPanels=a.dom.main.find(".js-main-panel"),this.mainDuration=a.util.getTransitionDuration(this.$mainPanels[0]),this.bindEvents()},bindEvents:function(){a.dom.header.on("click",".js-controller",this.onController.bind(this))},onController:function(t){t.preventDefault();var e=(0,i.default)(t.target),n=(e.is(".js-controller")?e:e.closest(".js-controller")).data(),r=a.dom.main.find(".js-main--"+n.target);this.$mainPanels.removeClass("is-active"),r.addClass("is-active"),a.dom.main[0].id="is-main--"+n.target}};e.default=s},function(t,e,n){t.exports=n.p+"../styles/screen.css"}]);
//# sourceMappingURL=app.js.map