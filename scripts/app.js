!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=54)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resizes=e.resizer=e.emitter=e.Analytics=e.cache=e.api=e.log=e.env=e.config=e.util=e.images=e.dom=e.detect=void 0;var r=m(n(29)),i=m(n(16)),o=m(n(85)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(12)),s=m(n(20)),u=m(n(30)),l=m(n(13)),c=m(n(87)),f=m(n(88)),h=m(n(89)),d=m(n(22)),p=m(n(33)),v=m(n(91));function m(t){return t&&t.__esModule?t:{default:t}}e.detect=r.default,e.dom=i.default,e.images=o.default,e.util=a,e.config=s.default,e.env=u.default,e.log=l.default,e.api=c.default,e.cache=f.default,e.Analytics=h.default,e.emitter=d.default,e.resizer=p.default,e.resizes=v.default},function(t,e,n){var r=n(3),i=[],o=function(t,e){if(this._hobo=r.version,this._context=e&&e.nodeType&&1===e.nodeType?e:document,t===window||t===document||t.nodeType&&1===t.nodeType)this._selector="",t=[t];else if("string"==typeof t)if(t=r.trimString(t),r.rTag.test(t)){t=t.replace(r.rDocType,"");var n=document.createElement("hobo");n.innerHTML=t,t=r.makeArray(n.children),n=null}else this._selector=t,t=r.makeArray(this._context.querySelectorAll(t));else void 0!==t.length&&(this._selector="",t=r.makeArray(t));this._events={},this.length=t.length;for(var i=this.length;i--;)this[i]=t[i];this.forEach(r.makeData)};o.prototype.splice=i.splice,o.prototype.each=i.forEach,o.prototype.forEach=i.forEach,o.prototype.push=i.push,o.prototype.map=i.map,t.exports=o},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n=/^data-/,r=/\D/g,i=/-([\da-z])/gi,o=/^\[|\{/,a=/^\s+|\s+$/g,s=function(t){return t.replace(i,function(t,e){return e.toUpperCase()})},u=function(t,e){var n,r,i,o=[];for(i in t)t.hasOwnProperty(i)&&(n=e?e+"["+i+"]":i,r=t[i],Array.isArray(r)?r.forEach(function(t){o.push(encodeURIComponent(n)+"[]="+encodeURIComponent(t))}):"object"==typeof r?o.push(u(r,n)):o.push(encodeURIComponent(n)+"="+encodeURIComponent(r)));return o.join("&")},l=function(t){if(o.test(t))try{t=JSON.parse(t)}catch(t){throw t}return t},c=function(t){for(var e=t.attributes.length;e--;)if(n.test(t.attributes[e].name)){var r=s(t.attributes[e].name.replace(n,""));t.hoboDataMap[r]=l(t.attributes[e].value)}},f=function(t){for(var e in t.dataset)t.dataset.hasOwnProperty(e)&&(t.hoboDataMap[e]=l(t.dataset[e]))};t.exports={version:"0.3.15",rData:n,rDigit:r,rTag:/^</,rJson:o,rDocType:/^<\!DOCTYPE\shtml>/i,rFront2Back:a,trimString:function(t){return t.replace(a,"")},camelCase:s,makeId:function(){return"hobo"+("0.3.15"+Math.random()).replace(r,"")},makeArray:function(t){return[].slice.call(t)},makeData:function(t){t.hoboDataMap||(t.hoboDataMap={}),t.dataset?f(t):t.attributes&&c(t)},storeData:function(t,e){var n,r;for(r in t)t.hasOwnProperty(r)&&(n=s(r),e.hoboDataMap[n]=t[r])},retrieveData:function(t,e){var n=null;return t=s(t),e.hoboDataMap&&e.hoboDataMap[t]&&(n=e.hoboDataMap[t]),n},mergeData:function(t,e){for(var n in e.hoboDataMap)e.hoboDataMap.hasOwnProperty(n)&&!t[n]&&(t[n]=e.hoboDataMap[n])},removeData:function(t,e){t=s(t),e.hoboDataMap&&e.hoboDataMap[t]&&delete e.hoboDataMap[t]},serializeData:u,getClass:function(t){return t.getAttribute("class")||""},setClass:function(t,e){t.setAttribute("class",e)}}},function(t,e,n){(function(e){t.exports=e.hobo=n(55)}).call(this,n(2))},function(t,e,n){
/*!
 *
 * Use native element selector matching
 *
 * @matchElement
 * @author: kitajchuk
 *
 */
var r;t.exports=r=function(t,e,n){var i=t.matches?"matches":t.webkitMatchesSelector?"webkitMatchesSelector":t.mozMatchesSelector?"mozMatchesSelector":t.msMatchesSelector?"msMatchesSelector":t.oMatchesSelector?"oMatchesSelector":null;return i&&t[i].call(t,e)?t:n&&t!==document.documentElement&&t.parentNode?r(t.parentNode,e,n):null}},function(t,e,n){
/*!
 *
 * Event / Animation cycle manager
 *
 * @Controller
 * @author: kitajchuk
 *
 *
 */
var r,i,o;t.exports=(r=window.requestAnimationFrame,i=window.cancelAnimationFrame,(o=function(){return this.init.apply(this,arguments)}).prototype={constructor:o,init:function(){this._handlers={},this._uid=0,this._started=!1,this._paused=!1,this._cycle=null},go:function(t){if(this._started&&this._cycle)return this;this._started=!0;var e=this,n=function(){e._cycle=r(n),e._started&&"function"==typeof t&&t()};n()},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},stop:function(){return i(this._cycle),this._paused=!1,this._started=!1,this._cycle=null,this},on:function(t,e){var n=t.split(" ");e._jsControllerID=this.getUID();for(var r=n.length;r--;)"function"==typeof e&&(this._handlers[n[r]]||(this._handlers[n[r]]=[]),this._handlers[n[r]].push(e));return this},off:function(t,e){return this._handlers[t]?(e?this._off(t,e):this._offed(t),this):this},fire:function(t){if(!this._handlers[t])return this;for(var e=[].slice.call(arguments,1),n=this._handlers[t].length;n--;)this._handlers[t][n].apply(this,e);return this},getUID:function(){return this._uid=this._uid+1,this._uid},_off:function(t,e){for(var n=0,r=this._handlers[t].length;n<r;n++)if(e._jsControllerID===this._handlers[t][n]._jsControllerID){this._handlers[t].splice(n,1);break}},_offed:function(t){for(var e=this._handlers[t].length;e--;)this._handlers[t][e]=null;delete this._handlers[t]}},o)},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var t=s(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){try{var r=n(42);if("function"!=typeof r.inherits)throw"";t.exports=r.inherits}catch(e){t.exports=n(113)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var i=!1,o=!1,a={init:function(){r.dom.overlay.element.is(".is-active")?i=!0:r.dom.overlay.element.detach()},open:function(){if(i||o)return this;i=!0,r.dom.html.addClass("is-overlay-active"),r.dom.body.append(r.dom.overlay.element),setTimeout(function(){return r.dom.overlay.element.addClass("is-active")},10)},close:function(){var t=this;if(!i)return this;r.dom.overlay.element.removeClass("is-active"),setTimeout(function(){i=!1,r.dom.html.removeClass("is-overlay-active"),r.dom.overlay.element.detach().removeClass("is-intro"),t.empty()},r.dom.overlay.elementTransitionDuration)},empty:function(){r.dom.overlay.elementTitle[0].innerHTML=""},suppress:function(t){(o=t)&&i&&this.close()},setTitle:function(t){o||(r.dom.overlay.elementTitle[0].innerHTML=t)},isActive:function(){return i}};e.default=a},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(104),i=n(105),o=n(39);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(c(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){f=!1;break}if(f)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,r){return B(q(e,t.length-n),t,n,r)}function b(t,e,n,r){return B(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return b(t,e,n,r)}function T(t,e,n,r){return B($(e),t,n,r)}function E(t,e,n,r){return B(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,l=t[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return x(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=t.slice(e,n),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function x(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=N(t[o]);return i}function k(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return o||D(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||D(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:q(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(2))},function(t,e,n){"use strict";var r=n(18),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var o=n(15);o.inherits=n(8);var a=n(45),s=n(49);o.inherits(f,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultHammerOptions=e.getTransitionDuration=e.isElementInViewport=e.getTransformValues=e.getElementsInView=e.isElementLoadable=e.updateImages=e.extendObject=e.translate3d=e.loadImages=e.getPageKey=e.noop=e.px=void 0;var r=l(n(4)),i=l(n(84)),o=l(n(16)),a=l(n(20)),s=l(n(29)),u=l(n(21));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){if(t)return t.getBoundingClientRect().top<2*window.innerHeight},f=function(t){if(t){var e=t.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>0}},h=function(t,e){for(var n=Math.max.apply(null,t),r=t.length;r--;)t[r]>=e&&t[r]<n&&(n=t[r]);return n},d=function(t,e,n,r){var s=/\?(.*)$/,u=function(t){return parseInt(t,10)},l=null,c=null,d=null,p=null,m=null,g=null,y=null,_=null;for(e=e||f,n||!1===n||(n=!0),_=(t=t||o.default.page.find(a.default.lazyImageSelector)).length;_--;)c=(l=t.eq(_)).data(),m=r||l[0].clientWidth||l[0].parentNode.clientWidth||window.innerWidth,y=c.imgSrc.replace(s,""),c.originalSize&&((d=v(c.originalSize)).width>d.height?l.addClass("image--wide"):l.addClass("image--tall")),n&&c.variants&&(p=c.variants.split(",").map(u),g=h(p,m),l[0].setAttribute(a.default.lazyImageAttr,y+"?format="+g+"w"));return new i.default({elements:t,property:a.default.lazyImageAttr,executor:e})},p=function(){return!0},v=function(t){var e=t.split("x");return{width:parseInt(e[0],10),height:parseInt(e[1],10)}};e.px=function(t){return t+"px"},e.noop=p,e.getPageKey=function(){return window.location.pathname===a.default.appRoot?a.default.homepageKey:""+window.location.pathname+window.location.search},e.loadImages=d,e.translate3d=function(t,e,n,r){t.style[u.default.prefixed(t.style,"transform")]="translate3d( "+e+", "+n+", "+r+" )"},e.extendObject=function(t,e){var n=null,r=Array.isArray(t)?[]:{};if(Array.isArray(e)){for(n=t.length;n--;)r[n]=t[n];for(n=e.length;n--;)r[n]=e[n]}else{for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}return r},e.updateImages=function(t){(t=t||(0,r.default)("["+a.default.imageLoaderAttr+"]")).length&&(t.removeAttr(a.default.imageLoaderAttr),d(t,p))},e.isElementLoadable=c,e.getElementsInView=function(t){for(var e=t.length,n=(0,r.default)([]);e--;)c(t[e])&&n.push(t[e]);return n},e.getTransformValues=function(t){if(!t)return null;var e=window.getComputedStyle(t)[u.default.prefixed(t.style,"transform")].replace(/matrix|3d|\(|\)|\s/g,"").split(","),n={};return"none"===e[0]?(n.x=0,n.y=0,n.z=0):16===e.length?(n.x=parseFloat(e[12]),n.y=parseFloat(e[13]),n.z=parseFloat(e[14])):(n.x=parseFloat(e[4]),n.y=parseFloat(e[5]),n.z=0),n},e.isElementInViewport=f,e.getTransitionDuration=function(t){var e=0,n=null,r=1e3;return t&&(n=getComputedStyle(t)["transition-duration"],r=-1===String(n).indexOf("ms")?1e3:1,e=parseFloat(n)*r),e},e.getDefaultHammerOptions=function(){return s.default.isDevice()?{}:{cssProps:{contentZoomingString:!1,tapHighlightColorString:!1,touchCalloutString:!1,touchSelectString:!1,userDragString:!1,userSelectString:!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(30),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){if(o.default.isDev()){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.log(e)}}},function(t,e,n){
/*!
 *
 * A base set of easing methods
 * Most of which were found here:
 * https://gist.github.com/gre/1650294
 *
 * @Easing
 * @author: kitajchuk
 *
 */
t.exports={linear:function(t){return t},swing:function(t){return(1-Math.cos(t*Math.PI))/2},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(10).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(4),o=(r=i)&&r.__esModule?r:{default:r},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(12));var s=(0,o.default)(".js-overlay"),u=(0,o.default)(".js-project-view"),l=(0,o.default)(".js-gallery"),c={doc:(0,o.default)(document),html:(0,o.default)(document.documentElement),body:(0,o.default)(document.body),header:(0,o.default)(".js-header"),nav:(0,o.default)(".js-nav"),intro:(0,o.default)(".js-intro"),overlay:{element:s,elementTitle:s.find(".js-overlay-title"),elementTransitionDuration:a.getTransitionDuration(s[0])},gallery:{element:l,elementNode:l.find(".js-gallery-node")},page:(0,o.default)(".js-page"),project:{element:u,elementPane:u.find(".js-project-view-pane"),elementTransitionDuration:a.getTransitionDuration(u[0])},root:(0,o.default)(".js-root"),main:(0,o.default)(".js-main")};e.default=c},function(t,e,n){
/*!
 *
 * A simple tween class using requestAnimationFrame
 *
 * @Tween
 * @author: kitajchuk
 *
 */
var r;t.exports=(r={ease:n(14).linear,duration:600,from:0,to:0,delay:0,update:function(){},complete:function(){}},function(t){for(var e in t=t||{},r)void 0===t[e]&&(t[e]=r[e]);var n=t.to-t.from,i=null,o=null,a=!1;function s(e){if(!a){null===i&&(i=e);var r=e-i,u=n*t.ease(r/t.duration)+t.from;if("function"==typeof t.update&&t.update(u),r>t.duration)return"function"==typeof t.complete&&t.complete(t.to),cancelAnimationFrame(o),o=null,!1;o=requestAnimationFrame(s)}}setTimeout(function(){o=requestAnimationFrame(s)},t.delay),this.stop=function(){a=!0,cancelAnimationFrame(o),o=null}})},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n(7))},function(t,e,n){var r=n(10),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={rootUrlId:"garberco",homepageKey:"homepage",lazyImageSelector:".js-lazy-image",lazyImageAttr:"data-img-src",imageLoaderAttr:"data-imageloader",offcanvasClasses:"is-offcanvas is-offcanvas--about is-offcanvas--index is-offcanvas--project"}},function(t,e,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),f="function",h=Math.round,d=Math.abs,p=Date.now;function v(t,e,n){return setTimeout(T(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var _=y(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),b=y(function(t,e){return _(t,e,!0)},"merge","Use `assign`.");function w(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function T(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==f?t.apply(e&&e[0]||s,e):t}function S(t,e){return t===s?e:t}function O(t,e,n){g(P(e),function(e){t.addEventListener(e,n,!1)})}function C(t,e,n){g(P(e),function(e){t.removeEventListener(e,n,!1)})}function A(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function k(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function j(t){return Array.prototype.slice.call(t,0)}function M(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];k(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function I(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:e)in t)return r;o++}return s}var R=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var L="ontouchstart"in i,U=I(i,"PointerEvent")!==s,z=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=25,q=1,$=2,B=4,F=8,H=1,V=2,Y=4,W=8,G=16,X=V|Y,K=W|G,J=X|K,Q=["x","y"],Z=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&q&&r-i==0,a=e&(B|F)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=nt(e));i>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=e.center=rt(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=st(u,l),e.distance=at(u,l),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==q&&o.eventType!==B||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c=it(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=d(c.x)>d(c.y)?c.x:c.y,e.scale=a?(f=a.pointers,h=r,at(h[0],h[1],Z)/at(f[0],f[1],Z)):1,e.rotation=a?function(t,e){return st(e[1],e[0],Z)+st(t[1],t[0],Z)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=F&&(u>N||a.velocity===s)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,f=it(u,l,c);r=f.x,i=f.y,n=d(f.x)>d(f.y)?f.x:f.y,o=ot(l,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var f,h;var v=t.element;A(e.srcEvent.target,v)&&(v=e.srcEvent.target);e.target=v}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:rt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rt(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function it(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?H:d(t)>=d(e)?t<0?V:Y:e<0?W:G}function at(t,e,n){n||(n=Q);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function st(t,e,n){n||(n=Q);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(D(this.element),this.evWin,this.domHandler)}};var ut={mousedown:q,mousemove:$,mouseup:B},lt="mousedown",ct="mousemove mouseup";function ft(){this.evEl=lt,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}w(ft,tt,{handler:function(t){var e=ut[t.type];e&q&&0===t.button&&(this.pressed=!0),e&$&&1!==t.which&&(e=B),this.pressed&&(e&B&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ht={pointerdown:q,pointermove:$,pointerup:B,pointercancel:F,pointerout:F},dt={2:"touch",3:"pen",4:"mouse",5:"kinect"},pt="pointerdown",vt="pointermove pointerup pointercancel";function mt(){this.evEl=pt,this.evWin=vt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(pt="MSPointerDown",vt="MSPointerMove MSPointerUp MSPointerCancel"),w(mt,tt,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ht[r],o=dt[t.pointerType]||t.pointerType,a="touch"==o,s=k(e,t.pointerId,"pointerId");i&q&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(B|F)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var gt={touchstart:q,touchmove:$,touchend:B,touchcancel:F},yt="touchstart",_t="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=yt,this.evWin=_t,this.started=!1,tt.apply(this,arguments)}w(bt,tt,{handler:function(t){var e=gt[t.type];if(e===q&&(this.started=!0),this.started){var n=function(t,e){var n=j(t.touches),r=j(t.changedTouches);e&(B|F)&&(n=M(n.concat(r),"identifier",!0));return[n,r]}.call(this,t,e);e&(B|F)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var wt={touchstart:q,touchmove:$,touchend:B,touchcancel:F},Tt="touchstart touchmove touchend touchcancel";function Et(){this.evTarget=Tt,this.targetIds={},tt.apply(this,arguments)}w(Et,tt,{handler:function(t){var e=wt[t.type],n=function(t,e){var n=j(t.touches),r=this.targetIds;if(e&(q|$)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=j(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return A(t.target,u)}),e===q)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(B|F)&&delete r[a[i].identifier],i++;if(!s.length)return;return[M(o.concat(s),"identifier",!0),s]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var St=2500,Ot=25;function Ct(){tt.apply(this,arguments);var t=T(this.handler,this);this.touch=new Et(this.manager,t),this.mouse=new ft(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function At(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},St)}}w(Ct,tt,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(t,e){t&q?(this.primaryTouch=e.changedPointers[0].identifier,At.call(this,e)):t&(B|F)&&At.call(this,e)}).call(this,e,n);else if(i&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=Ot&&a<=Ot)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var xt=I(c.style,"touchAction"),Pt=xt!==s,kt="auto",jt="manipulation",Mt="none",It="pan-x",Rt="pan-y",Dt=function(){if(!Pt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();function Lt(t,e){this.manager=t,this.set(e)}Lt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Pt&&this.manager.element.style&&Dt[t]&&(this.manager.element.style[xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(x(t,Mt))return Mt;var e=x(t,It),n=x(t,Rt);if(e&&n)return Mt;if(e||n)return e?It:Rt;if(x(t,jt))return jt;return kt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=x(r,Mt)&&!Dt[Mt],o=x(r,Rt)&&!Dt[Rt],a=x(r,It)&&!Dt[It];if(i){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&n&X||a&&n&K?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ut=1,zt=2,Nt=4,qt=8,$t=qt,Bt=16;function Ft(t){this.options=u({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Ut,this.simultaneous={},this.requireFail=[]}function Ht(t){return t&Bt?"cancel":t&qt?"end":t&Nt?"move":t&zt?"start":""}function Vt(t){return t==G?"down":t==W?"up":t==V?"left":t==Y?"right":""}function Yt(t,e){var n=e.manager;return n?n.get(t):t}function Wt(){Ft.apply(this,arguments)}function Gt(){Wt.apply(this,arguments),this.pX=null,this.pY=null}function Xt(){Wt.apply(this,arguments)}function Kt(){Ft.apply(this,arguments),this._timer=null,this._input=null}function Jt(){Wt.apply(this,arguments)}function Qt(){Wt.apply(this,arguments)}function Zt(){Ft.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=S(e.recognizers,te.defaults.preset),new ee(t,e)}Ft.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Yt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===k(e,t=Yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Yt(t,this);var e=k(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<qt&&r(e.options.event+Ht(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=qt&&r(e.options.event+Ht(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Ut)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&($t|Bt|32)&&(this.state=Ut),this.state=this.process(e),this.state&(zt|Nt|qt|Bt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Wt,Ft,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(zt|Nt),i=this.attrTest(t);return r&&(n&F||!i)?e|Bt:r||i?n&B?e|qt:e&zt?e|Nt:zt:32}}),w(Gt,Wt,{defaults:{event:"pan",threshold:10,pointers:1,direction:J},getTouchAction:function(){var t=this.options.direction,e=[];return t&X&&e.push(Rt),t&K&&e.push(It),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&X?(i=0===o?H:o<0?V:Y,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?H:a<0?W:G,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Wt.prototype.attrTest.call(this,t)&&(this.state&zt||!(this.state&zt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(Xt,Wt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Mt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&zt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),w(Kt,Ft,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[kt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(B|F)&&!i)this.reset();else if(t.eventType&q)this.reset(),this._timer=v(function(){this.state=$t,this.tryEmit()},e.time,this);else if(t.eventType&B)return $t;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===$t&&(t&&t.eventType&B?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),w(Jt,Wt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Mt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&zt)}}),w(Qt,Wt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|K,pointers:1},getTouchAction:function(){return Gt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(X|K)?e=t.overallVelocity:n&X?e=t.overallVelocityX:n&K&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&t.eventType&B},emit:function(t){var e=Vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Zt,Ft,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[jt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&q&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=B)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=v(function(){this.state=$t,this.tryEmit()},e.interval,this),zt):$t}return 32},failTimeout:function(){return this._timer=v(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==$t&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Jt,{enable:!1}],[Xt,{enable:!1},["rotate"]],[Qt,{direction:X}],[Gt,{direction:X},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[Kt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var n;this.options=u({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(U?mt:z?Et:L?Ct:ft))(n,et),this.touchAction=new Lt(this,this.options.touchAction),ne(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ne(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,function(i,o){n=I(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&$t)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(zt|Nt|qt)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Ft)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=k(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return g(P(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return g(P(t),function(t){e?n[t]&&n[t].splice(k(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(te,{INPUT_START:q,INPUT_MOVE:$,INPUT_END:B,INPUT_CANCEL:F,STATE_POSSIBLE:Ut,STATE_BEGAN:zt,STATE_CHANGED:Nt,STATE_ENDED:qt,STATE_RECOGNIZED:$t,STATE_CANCELLED:Bt,STATE_FAILED:32,DIRECTION_NONE:H,DIRECTION_LEFT:V,DIRECTION_RIGHT:Y,DIRECTION_UP:W,DIRECTION_DOWN:G,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:K,DIRECTION_ALL:J,Manager:ee,Input:tt,TouchAction:Lt,TouchInput:Et,MouseInput:ft,PointerEventInput:mt,TouchMouseInput:Ct,SingleTouchInput:bt,Recognizer:Ft,AttrRecognizer:Wt,Tap:Zt,Pan:Gt,Swipe:Qt,Pinch:Xt,Rotate:Jt,Press:Kt,on:O,off:C,each:g,merge:b,extend:_,assign:u,inherit:w,bindFn:T,prefixed:I}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=te,(r=function(){return te}.call(e,n,e,t))===s||(t.exports=r)}(window,document)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(6);var o=new((r=i)&&r.__esModule?r:{default:r}).default;e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(14)),i=v(n(17)),o=v(n(93)),a=v(n(4)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),u=v(n(97)),l=v(n(99)),c=v(n(141)),f=v(n(144)),h=v(n(9)),d=v(n(28)),p=v(n(24));function v(t){return t&&t.__esModule?t:{default:t}}var m={init:function(){this.state={},this.navData=s.dom.nav.data(),this.pageData=s.dom.page.data(),this.pageDuration=s.util.getTransitionDuration(s.dom.page[0]),this.tweenScroll=null,this.$rootPanel=s.dom.main.find(".js-main--garberco"),this.prepPage(),this.bindEmptyHashLinks(),this.initPageController(),s.log("router initialized")},route:function(t){this.controller.getRouter().trigger(t)},push:function(t,e){this.controller.routeSilently(t,e||s.util.noop)},redirect:function(){window.location.href=window.location.origin},initPageController:function(){this.controller=new o.default({}),this.controller.setConfig(["*"]),this.controller.setModules([u.default,l.default,c.default,f.default]),this.controller.on("page-controller-router-transition-out",this.changePageOut.bind(this)),this.controller.on("page-controller-router-refresh-document",this.changeContent.bind(this)),this.controller.on("page-controller-router-transition-in",this.changePageIn.bind(this)),this.controller.on("page-controller-initialized-page",this.initPage.bind(this)),this.controller.on("page-controller-router-samepage",this.samePage.bind(this)),this.controller.initPage()},prepPage:function(){var t=this;this.root=null;var e=window.location.pathname.split("/")[1];"index"!==this.pageData.type?"shop"===e?(this.root="/shop",this.loadRootIndex()):("offcanvas"===this.pageData.type?this.root="/":(this.navData.appTree.forEach(function(e){e.items&&e.items.forEach(function(n){n.collection.id===t.pageData.id&&(t.root=e.collection.fullUrl)})}),s.dom.html.removeClass("hide-index")),this.root=this.root||"/",this.loadRootIndex()):("shop"!==e&&"direction"!==e||s.dom.html.addClass("hide-index"),this.root=window.location.pathname),s.dom.root.attr("href",this.root),s.dom.root.on("click",function(){s.dom.html.removeClass(s.config.offcanvasClasses),s.emitter.fire("app--root")}),s.emitter.on("app--project-ended",function(){t.isPop||t.route(t.root)})},initPage:function(){s.dom.nav.detach(),s.env.isConfig()||s.dom.page.detach(),s.dom.html.removeClass("is-clipped"),s.dom.body.removeClass("is-clipped"),window.addEventListener("popstate",this.handlePopstate.bind(this),!1)},samePage:function(){var t=this;window.location.pathname===this.root&&!this.tweenScroll&&this.$rootPanel[0].scrollTop>0&&(this.tweenScroll=new i.default({to:0,from:this.$rootPanel[0].scrollTop,ease:r.default.easeInOutCubic,update:function(e){t.$rootPanel[0].scrollTop=e},complete:function(){t.tweenScroll=null},duration:400}))},handlePopstate:function(){this.isPop=!0;var t=null,e=window.location.pathname.match(/^\/$|^\/about\/$|^\/index\/$/g);e&&e[0]?(e=(e=e[0].replace(/\//g,""))||"garberco",s.dom.main[0].id="is-main--"+e,e===s.config.rootUrlId&&s.dom.html.removeClass(s.config.offcanvasClasses),p.default.isActive()&&s.emitter.fire("app--project-ended"),h.default.close()):((t=(0,a.default)(".js-index-tile[href*='"+window.location.pathname+"']")).trigger("mouseenter"),t.trigger("click")),d.default.close(),this.isPop=!1},loadRootIndex:function(){var t=this;s.api.collection(this.root,{format:"html"},{dataType:"html"}).then(function(e){var n=t.parseDoc(e);s.emitter.fire("app--load-root",n.pageHtml)})},loadFullIndex:function(t){s.api.collection(this.root,{format:"json"},{dataType:"json"}).then(t)},parseDoc:function(t){var e=document.createElement("html"),n=null;return e.innerHTML=t,n=(e=(0,a.default)(e)).find(".js-page"),{$doc:e,$page:n,pageData:n.data(),pageHtml:n[0].innerHTML}},bindEmptyHashLinks:function(){s.dom.body.on("click","[href^='#']",function(t){return t.preventDefault()})},changePageOut:function(){s.dom.html.addClass("is-routing")},changeContent:function(t){var e=this.parseDoc(t.response);s.dom.page[0].innerHTML=e.pageHtml,s.emitter.fire("app--analytics-push",e),this.pageData=e.$page.data()},changePageIn:function(){this.execSquarespace(),s.dom.html.removeClass("is-routing")},execSquarespace:function(){window.Squarespace.initializeCommerce(window.Y)}};e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=c(n(9)),a=c(n(35)),s=c(n(6)),u=c(n(25)),l=c(n(36));function c(t){return t&&t.__esModule?t:{default:t}}var f=!1,h=new s.default,d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f=!0,this.$node=e,this.menu=new a.default(!i.env.isConfig()),this.data=n,this.$plates=this.$node.find(".js-project-plate"),this.$images=this.$node.find(".js-lazy-image"),this.$videos=this.$node.find(".js-video"),this.isEnded=!1,this.bindEvents(),this.loadProject(),this.loadVideos(),i.log("Project",this)}return r(t,[{key:"bindEvents",value:function(){}},{key:"loadProject",value:function(){i.dom.project.elementPane.append(this.$node),i.images.handleImages(this.$images,this.onPreload.bind(this))}},{key:"loadVideos",value:function(){var t=this;this.$videos.forEach(function(e,n){var r=t.$videos.eq(n),i=r.data();r.data("instance",new l.default(r,i))})}},{key:"killVideos",value:function(){var t=this;this.$videos.forEach(function(e,n){var r=t.$videos.eq(n).data();r.instance&&(r.instance.destroy(),r.instance=null)})}},{key:"onPreload",value:function(){u.default.stop(),this.cycleAnimation(),setTimeout(o.default.close(),2*i.dom.project.elementTransitionDuration)}},{key:"cycleAnimation",value:function(){this.onUpdateEmitter(),h.stop(),h.go(this.onUpdateEmitter.bind(this))}},{key:"updatePlates",value:function(){for(var t=null,e=this.$plates.length;e--;)t=this.$plates.eq(e),i.util.isElementInViewport(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"updatePosition",value:function(){var t=this.$node[0].getBoundingClientRect();0!==i.dom.project.element[0].scrollTop&&Math.floor(t.bottom)<=0&&!this.isEnded&&(this.isEnded=!0,i.dom.project.element.addClass("is-hidden"),i.emitter.fire("app--project-ended"))}},{key:"onUpdateEmitter",value:function(){this.updatePlates(),this.updatePosition(),i.emitter.fire("app--project-scroll")}},{key:"teardown",value:function(){this.killVideos(),t.close()}}]),t}();d.isActive=function(){return f},d.open=function(){f=!0,u.default.load(),i.dom.html.addClass("is-offcanvas is-offcanvas--project"),i.dom.body.append(i.dom.project.element),setTimeout(function(){return i.dom.project.element.addClass("is-active")},10),setTimeout(function(){return i.dom.project.element.removeClass("is-noscroll")},i.dom.project.elementTransitionDuration)},d.close=function(){f=!1,h.stop(),i.dom.project.element.removeClass("is-active"),setTimeout(function(){i.dom.html.removeClass(i.config.offcanvasClasses),i.dom.project.element.detach().addClass("is-noscroll").removeClass("is-hidden"),i.dom.project.elementPane[0].innerHTML=""},i.dom.project.elementTransitionDuration)},e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=u(n(17)),a=u(n(14)),s=u(n(4));function u(t){return t&&t.__esModule?t:{default:t}}var l=null,c=(0,s.default)('<div class="bar"><div class="bar__inner"></div></div>'),f=c.find(".bar__inner"),h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tween=null,this.timeout=5e3}return r(t,[{key:"append",value:function(){i.dom.body.append(c)}},{key:"load",value:function(){this.append(),this.tween=new o.default({from:0,to:window.innerWidth,update:this.update.bind(this),complete:this.update.bind(this),ease:a.default.easeInOutCubic,duration:this.timeout})}},{key:"stop",value:function(t){this.tween.stop(),this.tween=new o.default({from:this.getFrom(),to:window.innerWidth,update:this.update.bind(this),complete:this.complete.bind(this,t),ease:a.default.easeInOutCubic,duration:50})}},{key:"update",value:function(t){f[0].style.width=i.util.px(t)}},{key:"complete",value:function(t){c.addClass("is-done"),setTimeout(function(){c.detach().removeClass("is-done"),f.attr("style",""),t()},i.util.getTransitionDuration(c[0]))}},{key:"getFrom",value:function(){return f[0].clientWidth}}]),t}(),d={load:function(t,e){(l=new h(t,e)).load()},stop:function(){l&&l.stop(function(){l=null})}};e.default=d},function(t,e,n){"use strict";var r=n(108),i=n(110);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),f=["%","/","?",";","#"].concat(c),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(40);function _(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(s);l[0]=l[0].replace(/\\/g,"/");var _=t=l.join(s);if(_=_.trim(),!n&&1===t.split("#").length){var b=u.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(_);if(w){var T=(w=w[0]).toLowerCase();this.protocol=T,_=_.substr(w.length)}if(n||w||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||w&&m[w]||(_=_.substr(2),this.slashes=!0)}if(!m[w]&&(E||w&&!g[w])){for(var S,O,C=-1,A=0;A<h.length;A++){-1!==(x=_.indexOf(h[A]))&&(-1===C||x<C)&&(C=x)}-1!==(O=-1===C?_.lastIndexOf("@"):_.lastIndexOf("@",C))&&(S=_.slice(0,O),_=_.slice(O+1),this.auth=decodeURIComponent(S)),C=-1;for(A=0;A<f.length;A++){var x;-1!==(x=_.indexOf(f[A]))&&(-1===C||x<C)&&(C=x)}-1===C&&(C=_.length),this.host=_.slice(0,C),_=_.slice(C),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var k=this.hostname.split(/\./),j=(A=0,k.length);A<j;A++){var M=k[A];if(M&&!M.match(d)){for(var I="",R=0,D=M.length;R<D;R++)M.charCodeAt(R)>127?I+="x":I+=M[R];if(!I.match(d)){var L=k.slice(0,A),U=k.slice(A+1),z=M.match(p);z&&(L.push(z[1]),U.unshift(z[2])),U.length&&(_="/"+U.join(".")+_),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var N=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+N,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[T])for(A=0,j=c.length;A<j;A++){var $=c[A];if(-1!==_.indexOf($)){var B=encodeURIComponent($);B===$&&(B=escape($)),_=_.split($).join(B)}}var F=_.indexOf("#");-1!==F&&(this.hash=_.substr(F),_=_.slice(0,F));var H=_.indexOf("?");if(-1!==H?(this.search=_.substr(H),this.query=_.substr(H+1),e&&(this.query=y.parse(this.query)),_=_.slice(0,H)):e&&(this.search="",this.query={}),_&&(this.pathname=_),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var V=this.search||"";this.path=N+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=t[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var d=f[h];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var _=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||_||n.host&&t.pathname,T=w,E=n.pathname&&n.pathname.split("/")||[],S=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),w=w&&(""===p[0]||""===E[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(S)n.hostname=n.host=E.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=E.slice(-1)[0],C=(n.host||t.host||E.length>1)&&("."===O||".."===O)||""===O,A=0,x=E.length;x>=0;x--)"."===(O=E[x])?E.splice(x,1):".."===O?(E.splice(x,1),A++):A&&(E.splice(x,1),A--);if(!w&&!T)for(;A--;A)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),C&&"/"!==E.join("/").substr(-1)&&E.push("");var P,k=""===E[0]||E[0]&&"/"===E[0].charAt(0);S&&(n.hostname=n.host=k?"":E.length?E.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(w=w||n.host&&E.length)&&!k&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t){var r=n(111),i=n(43),o=n(122),a=n(123),s=n(26),u=e;u.request=function(e,n){e="string"==typeof e?s.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||i,u=e.hostname||e.host,l=e.port,c=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?a+"//"+u:"")+(l?":"+l:"")+c,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new r(e);return n&&f.on("response",n),f},u.get=function(t,e){var n=u.request(t,e);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(4)),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=d(n(35)),a=d(n(34)),s=d(n(9)),u=d(n(25)),l=d(n(21)),c=d(n(14)),f=d(n(17)),h=d(n(36));function d(t){return t&&t.__esModule?t:{default:t}}var p={init:function(){this.tween=null,this.menu=new o.default(i.dom.gallery.element,!0),this.$image=(0,r.default)(new Image),this.$image[0].className="gallery__image figure__image image",this.videoData=null,this.$videoWrap=(0,r.default)(document.createElement("div")),this.$videoWrap[0].className="_video gallery__video",this.$video=(0,r.default)(document.createElement("video")),this.$video[0].className="_video__element",this.$videoWrap.append(this.$video),i.dom.gallery.elementNode.append(this.$image),i.dom.gallery.elementNode.append(this.$videoWrap),i.detect.isDevice()?this.bindSwipe():this.bindClick()},bindSwipe:function(){this._onTap=this.onTap.bind(this),this._onSwipe=this.onSwipe.bind(this),this._onPanmove=this.onPanmove.bind(this),this._onPanend=this.onPanend.bind(this),this.tap=new l.default(i.dom.gallery.element[0],i.util.getDefaultHammerOptions()),this.tap.on("tap",this._onTap),this.swipe=new l.default(i.dom.gallery.elementNode[0],i.util.getDefaultHammerOptions()),this.swipe.on("panmove",this._onPanmove),this.swipe.on("panend",this._onPanend),this.swipe.on("swipe",this._onSwipe)},bindClick:function(){i.dom.gallery.element.on("click",(0,a.default)(this.onClick.bind(this),200,!0))},onTap:function(t){t.target!==this.$video[0]&&i.emitter.fire("app--gallery-background")},onPanmove:function(t){t.preventDefault(),this.tween||i.util.translate3d(i.dom.gallery.elementNode[0],i.util.px(t.deltaX/3),0,0)},onPanend:function(){var t=this;if(!this.tween){var e=i.util.getTransformValues(i.dom.gallery.elementNode[0]),n=e.x<0;this.tween=new f.default({to:0,from:Math.abs(e.x),ease:c.default.easeInOutCubic,update:function(t){i.util.translate3d(i.dom.gallery.elementNode[0],i.util.px(n?-t:t),0,0)},complete:function(){t.tween=null},duration:200})}},onSwipe:function(t){var e=this;t.preventDefault();var n=i.util.getTransformValues(i.dom.gallery.elementNode[0]),r=t.direction===l.default.DIRECTION_LEFT;this.tween||(this.tween=new f.default({to:window.innerWidth,from:Math.abs(n.x),ease:c.default.easeInOutCubic,update:function(t){i.util.translate3d(i.dom.gallery.elementNode[0],i.util.px(r?-t:t),0,0)},complete:function(){e.empty(),i.emitter.fire("app--gallery-image",r?l.default.DIRECTION_RIGHT:l.default.DIRECTION_LEFT),setTimeout(function(){e.tween=null,i.util.translate3d(i.dom.gallery.elementNode[0],0,0,0)},s.default.isActive()?i.dom.overlay.elementTransitionDuration:10)},duration:200}))},onClick:function(t){t.target===i.dom.gallery.elementNode[0]||s.default.isActive()?this.handleClick(t):i.emitter.fire("app--gallery-background")},handleClick:function(t){var e=(this.videoData?this.$video[0]:this.$image[0]).getBoundingClientRect(),n=null;n=t.clientX<=e.width/2+e.left&&!s.default.isActive()?l.default.DIRECTION_LEFT:l.default.DIRECTION_RIGHT,i.emitter.fire("app--gallery-image",n)},open:function(){this.menu.isActive()||this.menu.open()},close:function(){this.menu.isActive()&&(this.menu.close(),this.empty())},empty:function(){this.$image[0].src="",this.videoData&&(this.$video[0].innerHTML="",this.videoData=null)},setImage:function(t){this.empty();var e=t.data();i.dom.gallery.element.removeClass("is-video"),u.default.load(),this.open(),this.$image.removeAttr(i.config.imageLoaderAttr).attr({"data-img-src":e.imgSrc,"data-variants":e.variants,"data-original-size":e.originalSize}),i.util.loadImages(this.$image,i.util.noop,!0,window.innerWidth).on("done",function(){u.default.stop()})},setVideo:function(t){this.empty(),this.videoData=t;var e=h.default.logVideoFiles(this.videoData),n=h.default.getVideoFile(e);i.dom.gallery.element.addClass("is-video"),this.open(),this.$videoWrap[0].style.paddingBottom=this.videoData.height/this.videoData.width*100+"%",i.detect.isDevice()&&(this.$video[0].setAttribute("poster",this.videoData.pictures.sizes[this.videoData.pictures.sizes.length-1].link),this.$video[0].setAttribute("controls",!0)),this.$video[0].src=n,this.$video[0].load(),this.$video[0].play()}};e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(16)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a={init:function(){this._isTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this._isMobile=/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|Opera Mini/gi.test(window.navigator.userAgent),this._isTouch?r.default.html.addClass("is-touchable"):r.default.html.addClass("is-hoverable"),(0,i.default)("detect initialized")},isMobile:function(){return this._isMobile},isTouch:function(){return this._isTouch},isDevice:function(){return this.isTouch()&&this.isMobile()},isStandalone:function(){return"standalone"in window}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="development",i="production",o={DEV:r,PROD:i,ENV:/^localhost|squarespace|^[0-9]{0,3}\.[0-9]{0,3}\.[0-9]{0,3}\.[0-9]{0,3}/g.test(document.domain)?r:i,isConfig:function(){return-1!==window.parent.location.pathname.indexOf("/config")},isDev:function(){return this.ENV===r},isProd:function(){return this.ENV===i}};e.default=o},function(t,e,n){var r;t.exports=(r=function(t){var e=decodeURIComponent(t).match(/[#|?].*$/g),n={};if(e)for(var r=(e=(e=e[0].replace(/^\?|^#|^\/|\/$|\[|\]/g,"")).split("&")).length;r--;){var i=e[r].split("="),o=i[0],a=i[1];n[o]?("[object Array]"!=={}.toString.call(n[o])&&(n[o]=[n[o]]),n[o].push(a)):n[o]=a}return n},"undefined"!=typeof $&&($.paramalama=r),r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(13),a=(r=o)&&r.__esModule?r:{default:r};var s,u=null,l=!1,c={},f=window.sessionStorage,h=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u||(u=this,this._opts=e,this._init()),u}return i(t,[{key:"_init",value:function(){l||(l=!0,this.flush(),(0,a.default)("Singleton Store initialized",this))}},{key:"flush",value:function(){c={},this.save()}},{key:"save",value:function(){this._opts.enableStorage&&t.isStorageSupported?f.setItem("app-cache",JSON.stringify(c)):(0,a.default)("Cache Storage disabled - Not writing to SessionStorage")}},{key:"slug",value:function(t){return t=t.replace(/^\/|\/$/g,"").replace(/\/|\?|&|=|\s/g,"-").toLowerCase()}},{key:"set",value:function(t,e){t=this.slug(t),c[t]=e,this.save()}},{key:"get",value:function(t){return(t=t&&this.slug(t))?this.getValue(c[t]):c}},{key:"getValue",value:function(t){return t}},{key:"remove",value:function(t){delete c[t]}}]),t}();h.crumb=(s=RegExp("(^|; )"+encodeURIComponent("crumb")+"=([^;]*)").exec(document.cookie))?s[2]:null,h.isStorageSupported=function(){var t=!0;try{f.setItem("app-test",1),f.removeItem("app-test")}catch(e){t=!1}return t}(),e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(90);var o=new((r=i)&&r.__esModule?r:{default:r}).default;e.default=o},function(t,e,n){
/*!
 *
 * Debounce methods
 * Sourced from here:
 * http://unscriptable.com/2009/03/20/debouncing-javascript-methods/
 *
 * @debounce
 * @author: kitajchuk
 *
 */
t.exports=function(t,e,n){var r=null;return function(){var i=arguments,o=this;r?clearTimeout(r):n&&t.apply(o,i),r=setTimeout(function(){n||t.apply(o,i),r=null},e||100)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.tDuration=i.util.getTransitionDuration(this.$node[0]),this.isOpen=!1,this.isDetach=n,this.isDetach&&this.$node.detach()}return r(t,[{key:"open",value:function(){var t=this;this.isOpen=!0,i.dom.html.addClass("is-menu-open"),this.isDetach&&i.dom.body.append(this.$node),i.emitter.fire("app--menu-opened"),setTimeout(function(){return t.$node.addClass("is-active")},10),setTimeout(function(){t.$node.addClass("is-active-events"),i.dom.html.addClass("is-clipped"),i.dom.body.addClass("is-clipped")},2*this.tDuration)}},{key:"close",value:function(){var t=this;this.$node.removeClass("is-active is-active-events"),i.dom.html.removeClass("is-clipped"),i.dom.body.removeClass("is-clipped"),i.emitter.fire("app--menu-closed"),setTimeout(function(){t.isOpen=!1,i.dom.html.removeClass("is-menu-open"),t.isDetach&&t.$node.detach()},2*this.tDuration)}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"isActive",value:function(){return this.isOpen}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=s(n(37)),a=s(n(102));function s(t){return t&&t.__esModule?t:{default:t}}var u=new(0,n(38).Vimeo)("9d4f4417c518c95db3f8c0461eb7da3e59e7b289","23AxUag/dzswqGCSY6rJdoWMsw2MnYadh4fecPP9JJiXEOS/cVaAkRrsh755tu4gEZPon9tS+j0eyN8x+2Orke5W0aGarrnfjONsurvJt8Wdv9mMQNPfz9AwpKGi+Onn","15807db98b40203e65427ac71121c89a"),l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.$video=this.$node.find(".js-video-element"),this.$poster=this.$node.find(".js-video-poster"),this.$playback=this.$node.find(".js-video-playback"),this.data=n,this._files={},this._video=null,this.loadVimeoData()}return r(t,[{key:"loadVimeoData",value:function(){var t=this.data.vimeoUrl.split("/").pop(),e=this;u.request({method:"GET",path:"/videos/"+t},function(t){e.handleVimeoData(t)})}},{key:"handleVimeoData",value:function(e){console.log(e),this.vData=e,this._files=t.logVideoFiles(e),this.data.sourceUrl=t.getVideoFile(this._files),this.data.posterUrl=this.vData.pictures.sizes[this.vData.pictures.sizes.length-1].link,i.detect.isDevice()?this.initMobile():this.initVideo(),this.applyAspect(),this.createMediaNode(this.data.id,this.data.sourceUrl,this.$video[0])}},{key:"initMobile",value:function(){this.$video[0].setAttribute("controls",!0),this.$video[0].setAttribute("loop",!1),this.$video[0].setAttribute("poster",this.data.posterUrl),this.$poster.remove(),this.$playback.remove()}},{key:"initVideo",value:function(){var t=this;this.$video.on("loadedmetadata",function(){t.data.autoplayLoop?t.bindAutoplayLoop():t.data.clickToPlay&&(t.loadThumbFile(),t.bindClickToPlay())})}},{key:"loadThumbFile",value:function(){this.$poster.attr("data-img-src",this.data.posterUrl),i.util.loadImages(this.$poster)}},{key:"bindAutoplayLoop",value:function(){this._autoplayHandler=new a.default(this.$node,this.data.id)}},{key:"bindClickToPlay",value:function(){var t=this;this.$video.on("click",function(){o.default.isPlaying(t.data.id)?(t.$node.removeClass("is-playing"),o.default.stopMedia(t.data.id)):(t.$node.addClass("is-playing"),o.default.playMedia(t.data.id))}),o.default.addMediaEvent(this.data.id,"play",function(){t.$node.addClass("is-active")}),o.default.addMediaEvent(this.data.id,"ended",function(){o.default.stopMedia(t.data.id).setMediaProp(t.data.id,"currentTime",0),t.$node.removeClass("is-active is-playing")})}},{key:"createMediaNode",value:function(t,e,n){o.default.addVideo({id:t,src:e.split(","),element:n,channel:"vid"})}},{key:"applyAspect",value:function(){this.$node[0].style.paddingBottom=this.vData.height/this.vData.width*100+"%"}},{key:"destroy",value:function(){this.$video.off("click loadedmetadata"),this._autoplayHandler&&this._autoplayHandler.destroy(),o.default.getMedia(this.data.id)&&o.default.destroyMedia(this.data.id)}}]),t}();l.logVideoFiles=function(t){console.log(t);for(var e=t.files.length,n={};e--;)(!n[t.files[e].quality]||n[t.files[e].quality]&&t.files[e].size>n[t.files[e].quality].size)&&(n[t.files[e].quality]=t.files[e]);return n},l.getVideoFile=function(t){return(i.detect.isDevice()?t.mobile||t.sd:t.hd||t.sd).link},e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(101);var o=new((r=i)&&r.__esModule?r:{default:r}).default;e.default=o},function(t,e,n){var r=n(103);t.exports.vimeo_module=r,t.exports.Vimeo=r.Vimeo},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";e.decode=e.parse=n(106),e.encode=e.stringify=n(107)},function(t,e,n){(function(t){e.fetch=s(t.fetch)&&s(t.ReadableStream),e.writableStream=s(t.WritableStream),e.abortController=s(t.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var n;function r(){if(void 0!==n)return n;if(t.XMLHttpRequest){n=new t.XMLHttpRequest;try{n.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){n=null}}else n=null;return n}function i(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}var o=void 0!==t.ArrayBuffer,a=o&&s(t.ArrayBuffer.prototype.slice);function s(t){return"function"==typeof t}e.arraybuffer=e.fetch||o&&i("arraybuffer"),e.msstream=!e.fetch&&a&&i("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o&&i("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!r()&&s(r().overrideMimeType),e.vbArray=s(t.VBArray),n=null}).call(this,n(2))},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<o;u=r[++n])v(u)||!b(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function l(t,e){return t}function c(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=c(t,i,r)),i}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(m(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return f(n)}var l,b="",S=!1,O=["{","}"];(d(n)&&(S=!0,O=["[","]"]),E(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),T(n)&&(b=" "+f(n)),0!==a.length||S&&0!=n.length?r<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=S?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)A(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}(t,n,r,s,a):a.map(function(e){return h(t,n,r,s,e,S)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,b,O)):O[0]+b+O[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=v(n)?c(t,u.value,null):c(t,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function y(t){return void 0===t}function _(t){return b(t)&&"[object RegExp]"===S(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===S(t)}function T(t){return b(t)&&("[object Error]"===S(t)||t instanceof Error)}function E(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(y(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=_,e.isObject=b,e.isDate=w,e.isError=T,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(112);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":"),[t.getDate(),C[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(8),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(x&&t[x]){var e;if("function"!=typeof(e=t[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,x,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),x&&Object.defineProperty(e,x,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=x,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(P,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(7))},function(t,e,n){(function(t,r,i){var o=n(41),a=n(8),s=n(44),u=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=e.IncomingMessage=function(e,n,a,u){var l=this;if(s.Readable.call(l),l._mode=a,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){t.nextTick(function(){l.emit("close")})}),"fetch"===a){if(l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach(function(t,e){l.headers[e.toLowerCase()]=t,l.rawHeaders.push(e,t)}),o.writableStream){var c=new WritableStream({write:function(t){return new Promise(function(e,n){l._destroyed?n():l.push(new r(t))?e():l._resumeFetch=e})},close:function(){i.clearTimeout(u),l._destroyed||l.push(null)},abort:function(t){l._destroyed||l.emit("error",t)}});try{return void n.body.pipeTo(c).catch(function(t){i.clearTimeout(u),l._destroyed||l.emit("error",t)})}catch(t){}}var f=n.body.getReader();!function t(){f.read().then(function(e){if(!l._destroyed){if(e.done)return i.clearTimeout(u),void l.push(null);l.push(new r(e.value)),t()}}).catch(function(t){i.clearTimeout(u),l._destroyed||l.emit("error",t)})}()}else{if(l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(e[2])):void 0!==l.headers[n]?l.headers[n]+=", "+e[2]:l.headers[n]=e[2],l.rawHeaders.push(e[1],e[2])}}),l._charset="x-user-defined",!o.overrideMimeType){var h=l.rawHeaders["mime-type"];if(h){var d=h.match(/;\s*charset=([^;])(;|$)/);d&&(l._charset=d[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};a(l,s.Readable),l.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},l.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==u.DONE)break;try{n=new i.VBArray(e.responseBody).toArray()}catch(t){}if(null!==n){t.push(new r(n));break}case"text":try{n=e.responseText}catch(e){t._mode="text:vbarray";break}if(n.length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var a=new r(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);t.push(a)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==u.DONE||!e.response)break;n=e.response,t.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==u.LOADING||!n)break;t.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==u.LOADING)break;var l=new i.MSStreamReader;l.onprogress=function(){l.result.byteLength>t._pos&&(t.push(new r(new Uint8Array(l.result.slice(t._pos)))),t._pos=l.result.byteLength)},l.onload=function(){t.push(null)},l.readAsArrayBuffer(n)}t._xhr.readyState===u.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,n(7),n(10).Buffer,n(2))},function(t,e,n){(e=t.exports=n(45)).Stream=e,e.Readable=e,e.Writable=n(49),e.Duplex=n(11),e.Transform=n(51),e.PassThrough=n(120)},function(t,e,n){"use strict";(function(e,r){var i=n(18);t.exports=_;var o,a=n(39);_.ReadableState=y;n(46).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n(47),l=n(19).Buffer,c=e.Uint8Array||function(){};var f=n(15);f.inherits=n(8);var h=n(114),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,v=n(115),m=n(48);f.inherits(_,u);var g=["error","close","destroy","pause","resume"];function y(t,e){t=t||{};var r=e instanceof(o=o||n(11));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(50).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function _(t){if(o=o||n(11),!(this instanceof _))return new _(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function b(t,e,n,r,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,S(t)}(t,a)):(i||(o=function(t,e){var n;r=e,l.isBuffer(r)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?w(t,a,e,!1):C(t,a)):w(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&S(t)),C(t,e)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(t,e){this.push(null),e(t)},_.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},_.prototype.unshift=function(t){return b(this,t,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){return p||(p=n(50).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var T=8388608;function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(O,t):O(t))}function O(t){d("emit readable"),t.emit("readable"),k(t)}function C(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(A,t,e))}function A(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function x(t){d("readable nexttick read 0"),t.read(0)}function P(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function j(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=l.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}_.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):S(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&M(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),null===(r=t>0?j(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&M(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:_;function l(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",g),t.removeListener("finish",y),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",_),n.removeListener("data",v),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function c(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",l);var f=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,k(t))}}(n);t.on("drain",f);var h=!1;var p=!1;function v(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==R(o.pipes,t))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(e){d("onerror",e),_(),t.removeListener("error",m),0===s(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",y),_()}function y(){d("onfinish"),t.removeListener("close",g),_()}function _(){d("unpipe"),n.unpipe(t)}return n.on("data",v),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",g),t.once("finish",y),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},_.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=R(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},_.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(x,this))}return n},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(P,t,e))}(this,t)),this},_.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=j}).call(this,n(2),n(7))},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}.bind(r);return i.listener=n,r.wrapFn=i,i}function h(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)o(c[n],this,e)}return!0},s.prototype.addListener=function(t,e){return c(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return c(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){t.exports=n(46).EventEmitter},function(t,e,n){"use strict";var r=n(18);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";(function(e,r,i){var o=n(18);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=g;var l=n(15);l.inherits=n(8);var c={deprecate:n(119)},f=n(47),h=n(19).Buffer,d=i.Uint8Array||function(){};var p,v=n(48);function m(){}function g(t,e){s=s||n(11),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,l=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),S(t,e))}(t,n,r,e,i);else{var a=T(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?u(b,t,n,a,i):b(t,n,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(t){if(s=s||n(11),!(p.call(y,this)||this instanceof s))return new y(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function _(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),S(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,_(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(_(t,e,!1,e.objectMode?1:l.length,l,c,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),S(t,e)})}function S(t,e){var n=T(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(y,f),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===y&&(t&&t._writableState instanceof g)}})):p=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=t,h.isBuffer(r)||r instanceof d);return s&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,t,n))&&(i.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else _(t,e,!1,s,r,i,o);return u}(this,i,s,t,e,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,S(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(7),n(117).setImmediate,n(2))},function(t,e,n){"use strict";var r=n(19).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=c,this.end=f,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=a;var r=n(11),i=n(15);function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){u(t,e,n)}):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(8),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getStorage=function(){return i?new a:null};var i=!1;try{i="localStorage"in window;var o="tusSupport";localStorage.setItem(o,localStorage.getItem(o))}catch(t){if(t.code!==t.SECURITY_ERR&&t.code!==t.QUOTA_EXCEEDED_ERR)throw t;i=!1}e.canStoreURLs=i;var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"setItem",value:function(t,e,n){n(null,localStorage.setItem(t,e))}},{key:"getItem",value:function(t,e){e(null,localStorage.getItem(t))}},{key:"removeItem",value:function(t,e){e(null,localStorage.removeItem(t))}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=c(n(23)),a=c(n(9)),s=c(n(28)),u=c(n(145)),l=c(n(146));function c(t){return t&&t.__esModule?t:{default:t}}n(147);var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.core=i,this.main=l.default,this.router=o.default,this.overlay=a.default,this.gallery=s.default,this.intro=u.default,this.analytics=new i.Analytics,this.core.dom.page.length&&(this.bindEvents(),this.initModules()),i.env.isConfig()&&i.dom.html.addClass("is-config"),i.log("App",this)}return r(t,[{key:"initModules",value:function(){this.core.detect.init(this),this.core.resizes.init(this),this.main.init(this),this.router.init(this),this.overlay.init(this),this.gallery.init(this)}},{key:"bindEvents",value:function(){this._onPreloadDone=this.onPreloadDone.bind(this),this.core.emitter.on("app--preload-done",this._onPreloadDone)}},{key:"onPreloadDone",value:function(){this.core.emitter.off("app--preload-done",this._onPreloadDone),this.intro.teardown()}}]),t}();window.app=new f,e.default=window.app},function(t,e,n){
/*!
 *
 *
 * Hobo
 * A very small, modular DOM utility for modern web apps.
 * @hobo-dist npm run build -- is eq not one next prev attr last first index parent filter detach append remove trigger prepend closest children removeAttr toggleClass
 *
 * @links
 * https://developer.mozilla.org/en-US/docs/Web/API/Node
 * https://developer.mozilla.org/en-US/docs/Web/API/Element
 * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll
 *
 * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest
 *
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise
 * https://github.com/jakearchibald/es6-promise
 * http://www.html5rocks.com/en/tutorials/es6/promises/
 *
 *
 */
var r,i;t.exports=(r=n(1),i=n(3),r.prototype.on=n(56),r.prototype.off=n(57),r.prototype.data=n(58),r.prototype.find=n(59),r.prototype.addClass=n(60),r.prototype.removeClass=n(61),r.prototype.is=n(62),r.prototype.eq=n(63),r.prototype.not=n(64),r.prototype.one=n(65),r.prototype.next=n(66),r.prototype.prev=n(67),r.prototype.attr=n(68),r.prototype.last=n(69),r.prototype.first=n(70),r.prototype.index=n(71),r.prototype.parent=n(72),r.prototype.filter=n(73),r.prototype.detach=n(74),r.prototype.append=n(75),r.prototype.remove=n(76),r.prototype.trigger=n(77),r.prototype.prepend=n(78),r.prototype.closest=n(79),r.prototype.children=n(80),r.prototype.removeAttr=n(81),r.prototype.toggleClass=n(82),hobo=function(t,e){return new r(t,e)},hobo.ajax=n(83),hobo.utils=i,hobo)},function(t,e,n){var r=n(5),i=n(3);t.exports=function(t,e,n){var o=this;return n||(n=e,e=this._selector),t.split(" ").forEach(function(t){o._events[t]||(o._events[t]={}),o.forEach(function(a){(function(t,e,n,o){var a=i.makeId()+"EVENT",s=e,u=function(t){var i=n?r(t.target,n,!0):this;if("mouseenter"===e||"mouseleave"===e){var a="mouseenter"===e?t.fromElement:t.toElement;i&&a!==i&&!i.contains(a)&&o.call(i,t)}else i&&o.call(i,t)};"mouseenter"===e?s="mouseover":"mouseleave"===e&&(s="mouseout"),this._events[e][a]={id:a,type:s,node:t,handler:u,callback:o},t.addEventListener(s,u,!1)}).call(o,a,t,e,n)})}),this}},function(t,e){t.exports=function(t,e){var n=this;return(t?t.split(" "):[null]).forEach(function(t){n.forEach(function(r){null===t?function(t){var e,n,r;for(e in this._events)if(this._events.hasOwnProperty(e))for(r in this._events[e])this._events[e].hasOwnProperty(r)&&(n=this._events[e][r]).node===t&&(t.removeEventListener(n.type,n.handler,!1),delete this._events[e][r])}.call(n,r):function(t,e,n){var r,i;if(n)for(i in this._events[e])this._events[e].hasOwnProperty(i)&&(r=this._events[e][i]).node===t&&r.callback===n&&(t.removeEventListener(r.type,r.handler,!1),delete this._events[e][i]);else for(i in this._events[e])this._events[e].hasOwnProperty(i)&&(r=this._events[e][i]).node===t&&(t.removeEventListener(r.type,r.handler,!1),delete this._events[e][i])}.call(n,r,t,e)})}),this}},function(t,e,n){var r=n(3);t.exports=function(t,e){var n=this,i=null;return"object"==typeof t?(i=t,this.forEach(function(t){r.storeData(i,t)})):e?((i={})[t]=e,this.forEach(function(t){r.storeData(i,t)})):t?(this.forEach(function(e){null===i&&(i=r.retrieveData(t,e))}),n=i):(i={},this.forEach(function(t){r.mergeData(i,t)}),n=i),n}},function(t,e,n){var r=n(1),i=n(3);t.exports=function(t){var e=this;return this.length>1?(e=[],this.forEach(function(n){e=e.concat(i.makeArray(n.querySelectorAll(t)))}),e=new r(e,null)):e=new r(this.length?t:[],this.length?this[0]:null),e}},function(t,e,n){var r=n(3);t.exports=function(t){return this.forEach(function(e){var n=t.split(" "),i=r.getClass(e).split(" ");n.forEach(function(t){-1===i.indexOf(t)&&i.push(t)}),r.setClass(e,r.trimString(i.join(" ")))}),this}},function(t,e,n){var r=n(3);t.exports=function(t){return this.forEach(function(e){if(void 0===t)r.setClass(e,"");else{var n=t.split(" "),i=r.getClass(e).split(" ");n.forEach(function(t){-1!==i.indexOf(t)&&i.splice(i.indexOf(t),1)}),r.setClass(e,r.trimString(i.join(" ")))}}),this}},function(t,e,n){n(1);var r=n(5);t.exports=function(t){return!!r(this[0],t)}},function(t,e,n){var r=n(1);t.exports=function(t){return t<this.length?new r(this[t],this._context):this}},function(t,e,n){var r=n(5),i=n(1);t.exports=function(t){var e=new i([],this._context);return t instanceof i?this.forEach(function(n){var r=!0;t.forEach(function(t){n===t&&(r=!1)}),r&&e.push(n)}):this.forEach(function(n,i){"function"==typeof t?t(i,n)&&e.push(n):r(n,t)||e.push(n)}),e}},function(t,e,n){n(5),n(3);t.exports=function(t,e,n){var r=this;return n||(n=e,e=this._selector),this.on(t,e,function e(i){n.call(this,i),r.off(t,e)})}},function(t,e,n){var r=n(1),i=n(5);t.exports=function(t){var e=[];return this.forEach(function(n){for(var r=n.nextSibling;r&&1!==r.nodeType;)r=r.nextSibling;r&&(!t||t&&i(r,t))&&e.push(r)}),new r(e,this._context)}},function(t,e,n){var r=n(1),i=n(5);t.exports=function(t){var e=[];return this.forEach(function(n){for(var r=n.previousSibling;r&&1!==r.nodeType;)r=r.previousSibling;r&&(!t||t&&i(r,t))&&e.push(r)}),new r(e,this._context)}},function(t,e,n){var r=n(3),i=function(t,e,n){if(t.setAttribute(e,n),r.rData.test(e)){var i={};i[e.replace(r.rData,"")]=n,r.storeData(i,t)}};t.exports=function(t,e){var n=this;if("object"==typeof t)for(var r in t)this.forEach(function(e){i(e,r,t[r])});else void 0!==e?this.forEach(function(n){i(n,t,e)}):n=this[0].getAttribute(t);return n}},function(t,e,n){var r=n(1);t.exports=function(){return new r(this[this.length-1],this._context)}},function(t,e,n){var r=n(1);t.exports=function(){return new r(this[0],this._context)}},function(t,e){t.exports=function(){return[].indexOf.call(this[0].parentNode.children,this[0])}},function(t,e,n){var r=n(1),i=n(5);t.exports=function(t){var e=[];return this.forEach(function(n){(!t||t&&i(n.parentNode,t))&&e.push(n.parentNode)}),new r(e,null)}},function(t,e,n){var r=n(1),i=n(5);t.exports=function(t){var e=[];return this.forEach(function(n){i(n,t)&&e.push(n)}),new r(e,null)}},function(t,e){t.exports=function(){return this.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)}),this}},function(t,e,n){var r=n(1);t.exports=function(t){return"string"==typeof t&&(t=new r(t)),this.forEach(function(e){t instanceof r||t.length&&"function"==typeof t.forEach?t.forEach(function(t){t.nodeType&&1===t.nodeType&&e.appendChild(t)}):t.nodeType&&e.appendChild(t)}),this}},function(t,e){t.exports=function(){return this.off(),this.forEach(function(t){delete t.hoboDataMap,t.parentNode&&t.parentNode.removeChild(t)}),this}},function(t,e){t.exports=function(t){var e,n,r=this;return this.forEach(function(i){for(n in r._events[t])r._events[t].hasOwnProperty(n)&&(e=r._events[t][n]).node===i&&((e=document.createEvent("Events")).initEvent(t,!0,!1),i.dispatchEvent(e))}),this}},function(t,e,n){var r=n(1);t.exports=function(t){return"string"==typeof t&&(t=new r(t)),this.forEach(function(e){t instanceof r||t.length&&"function"==typeof t.forEach?t.forEach(function(t){t.nodeType&&1===t.nodeType&&e.insertBefore(t,e.firstChild)}):t.nodeType&&e.insertBefore(t,e.firstChild)}),this}},function(t,e,n){var r=n(1),i=n(5);t.exports=function(t){var e=[];return this.forEach(function(n){var r=i(n,t,!0);r&&e.push(r)}),new r(e,null)}},function(t,e,n){var r=n(1);n(3);t.exports=function(){var t,e,n=[];return this.forEach(function(r){for(e=0,t=r.children.length;e<t;e++)n.push(r.children[e])}),new r(n,this._context)}},function(t,e,n){var r=n(3);t.exports=function(t){return this.forEach(function(e){e.removeAttribute(t),r.rData.test(t)&&r.removeData(t.replace(r.rData,""),e)}),this}},function(t,e,n){var r=n(1),i=n(5);t.exports=function(t){return t=t.split(" "),this.forEach(function(e){t.forEach(function(t){i(e,"."+t)?new r(e,null).removeClass(t):new r(e,null).addClass(t)})}),this}},function(t,e,n){var r=n(3),i=function(){var t=this;this._promise=new Promise(function(e,n){t._resolve=e,t._reject=n})};i.prototype.then=function(t){return this._then=t,this},i.prototype.catch=function(t){return this._catch=t,this},i.prototype.resolve=function(t){return this._then&&(this._then(t),this._resolve(t)),this},i.prototype.reject=function(t){return this._catch&&(this._catch(t),this._reject(t)),this},i.prototype.abort=function(){return this._xhr&&(this._reject("Rejecting on XMLHttpRequest.abort()"),this._xhr.abort()),this},t.exports=function(t){var e=t.data||null,n=t.dataType||"html",o=(t.method||"GET").toUpperCase(),a=t.url||window.location.href,s=t.headers||null,u=t.payload||null,l=new i;!e||FormData&&e instanceof FormData||(e=r.serializeData(t.data)),u&&"string"!=typeof u&&(u=JSON.stringify(u)),"GET"===o&&e&&(a+="?"+e);var c=function(t){if("json"===n)try{t=JSON.parse(t)}catch(e){l.reject(t)}l.resolve(t)};if("jsonp"===n){var f=r.makeId()+"JSONP",h=t.jsonp||"callback",d=document.createElement("script");d.src=a+(/\?/.test(a)?"&":"?")+h+"="+f,window[f]=function(t){document.getElementsByTagName("head")[0].removeChild(d),d=null,delete window[f],c(t)},document.getElementsByTagName("head")[0].appendChild(d)}else{var p=new XMLHttpRequest;if(p.open(o,a,!0),s)for(var v in s)s.hasOwnProperty(v)&&p.setRequestHeader(v,s[v]);p.onreadystatechange=function(t){4===this.readyState&&(/^20/.test(this.status)?c(this.responseText):l.reject(this.responseText))},p.send(e||u),l._xhr=p}return l}},function(t,e,n){
/*!
 *
 * Handle lazy-loading images with contextual load conditions.
 *
 * @ImageLoader
 * @author: kitajchuk
 *
 *
 */
var r,i;t.exports=(r=n(6),((i=function(t){if(!t)throw new Error("ImageLoader Class requires options to be passed");if(r.call(this),this._executor=t.executor||function(t){return t},this._elements=t.elements,this._property=t.property||"data-src",this._loadType=t.loadType||"async",this._numLoaded=0,this._num2Load=this._elements?this._elements.length:0,this._transitionDelay=t.transitionDelay||0,this._transitionDuration=t.transitionDuration||400,this._resolved=!1,!this._elements.length)return this;"async"===this._loadType?this.initAsync():this.initSync()}).prototype=Object.create(r.prototype)).initAsync=function(){var t=this;this.go(function(){t._resolved?t.stop():t.handle()})},i.prototype.initSync=function(){var t=this;!function e(){var n=t._elements[t._numLoaded];t._numLoaded++,t.load(n,function(n){n||t._resolved||e()})}()},i.prototype.load=function(t,e){var n=this,r=null,i=null,o="IMG"===t.nodeName,a=t.getAttribute(this._property);return t.setAttribute("data-imageloader",!0),r=o?t:new Image,i=setTimeout(function(){clearTimeout(i),r.onload=function(){n.fire("load",t),o||(t.style.backgroundImage="url("+a+")",r=null),i=setTimeout(function(){clearTimeout(i),n._numLoaded!==n._num2Load||n._resolved?"function"==typeof e&&e(!1):n._resolve(!0)},n._transitionDuration)},r.onerror=function(){n.fire("error",t),n._numLoaded!==n._num2Load||n._resolved?"function"==typeof e&&e(!0):n._resolve(!0)},r.src=a},this._transitionDelay),this},i.prototype.handle=function(){for(var t=this.getNotLoaded(),e=0,n=t.length;e<n;e++)this._executor(t[e])&&(this._numLoaded++,this.load(t[e]))},i.prototype.getNotLoaded=function(){for(var t=[],e=0,n=this._elements.length;e<n;e++)this._elements[e].getAttribute("data-imageloader")||t.push(this._elements[e]);return t},i.prototype._resolve=function(){this._resolved=!0,this.fire("done")},i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(16)),i=s(n(20)),o=s(n(22)),a=s(n(86));function s(t){return t&&t.__esModule?t:{default:t}}var u={handlePreload:function(t){"function"==typeof t&&t(),o.default.fire("app--preload-done")},handleLazyload:function(){o.default.fire("app--lazyload-done")},handleImages:function(t,e){if((t=t||r.default.page.find(i.default.lazyImageSelector)).length){var n=new a.default(t);n.on("preload",this.handlePreload.bind(this,e)),n.on("lazyload",this.handleLazyload.bind(this))}else this.handlePreload(e)}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(12)),o=s(n(13)),a=s(n(6));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.$preload=i.getElementsInView(t),n.$lazyload=t.not(n.$preload),n.$preload.length?n.handlePreload():n.fire("preload"),n.$lazyload.length&&n.handleLazyload(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"handlePreload",value:function(){var t=this;(0,o.default)("ImageController preload queue:",this.$preload.length),this.preLoader=i.loadImages(this.$preload,i.noop),this.preLoader.on("done",function(){(0,o.default)("ImageController preloaded:",t.$preload.length),t.fire("preload")})}},{key:"handleLazyload",value:function(){var t=this;(0,o.default)("ImageController lazyload queue:",this.$lazyload.length),this.lazyLoader=i.loadImages(this.$lazyload,i.isElementLoadable),this.lazyLoader.on("done",function(){(0,o.default)("ImageController lazyloaded:",t.$lazyload.length),t.fire("lazyload")})}}]),e}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(4)),i=a(n(31)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(12));function a(t){return t&&t.__esModule?t:{default:t}}var s=/^\/|\/$/g,u={data:{squarespace:{url:location.origin,api:[location.origin,"api"].join("/")}},dataType:"json",format:"json",method:"GET",endpoint:function(t){return[this.data.squarespace.url,t.replace(s,"")].join("/")},apipoint:function(t){return[this.data.squarespace.api,t.replace(s,"")].join("/")},request:function(t,e,n){var i=o.extendObject({format:this.format,nocache:!0},e),a=o.extendObject({url:t,data:i,dataType:this.dataType,method:this.method},n);return r.default.ajax(a)},collection:function(t,e,n){var r=this;return new Promise(function(a,s){var u={},l=t.split("?")[0];e=o.extendObject({},e),(e=o.extendObject(e,(0,i.default)(t))).tag&&(e.tag=e.tag.replace(/\+/g," ")),e.category&&(e.category=e.category.replace(/\+/g," ")),r.request(r.endpoint(l),e,n).then(function(t){"string"==typeof t?a(t):(u={collection:t.collection,item:t.item||null,items:t.items||null,pagination:t.pagination||null},a(u))}).catch(function(t){s(t)})})},vimeo:function(t){return r.default.ajax({url:"https://api.vimeo.com/videos/"+t,method:"GET",data:{access_token:"4fe810e95b5a32a53133739750ef23e4"},dataType:"json"})}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(32),o=(r=i)&&r.__esModule?r:{default:r};e.default=new o.default({enableStorage:!1})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=s(n(4)),a=s(n(32));function s(t){return t&&t.__esModule?t:{default:t}}var u=null,l=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u||(i.emitter.on("app--analytics-push",this.pushTrack.bind(this)),i.log("Analytics initialized"),this.apiEndpoint="/api/census/RecordHit",u=this),u}return r(t,[{key:"pushTrack",value:function(t){var e=t.pageData.itemTitle||t.pageData.collectionTitle,n=t.pageData.websiteId,r=t.pageData.itemId?{itemId:t.pageData.itemId}:{collectionId:t.pageData.collectionId};i.env.isProd()&&this.recordHit(n,r,e).then(function(t){i.log("Analytics",t)}).catch(function(t){i.log("warn",t)}),this.setDocumentTitle(e)}},{key:"setDocumentTitle",value:function(t){document.title=t}},{key:"recordHit",value:function(t,e,n){var r={url:window.location.href,queryString:window.location.search,userAgent:window.navigator.userAgent,referrer:"",localStorageSupported:a.default.isStorageSupported,viewportInnerHeight:window.innerHeight,viewportInnerWidth:window.innerWidth,screenHeight:window.screen.height,screenWidth:window.screen.width,title:n,websiteId:t,templateId:t};return e.itemId?r.itemId=e.itemId:r.collectionId=e.collectionId,o.default.ajax({url:this.apiEndpoint+"?crumb="+a.default.crumb,method:"POST",data:{event:"View",data:JSON.stringify(r)},dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}]),t}();e.default=l},function(t,e,n){
/*!
 *
 * Window resize / orientationchange event controller
 *
 * @ResizeController
 * @author: kitajchuk
 *
 *
 */
var r,i,o,a,s;t.exports=(r=n(6),i="orientation"in window,o=null,a=null,((s=function(){return a||(o=(a=this).getViewport(),this.go(function(){var t=a.getViewport(),e=(t.width===o.width&&(t.height,o.height),t.width!==o.width||t.height!==o.height),n=t.width>o.width||t.height>o.height,r=t.width<o.width||t.height<o.height,i=t.width!==o.width,s=t.height!==o.height,u=t.orient!==o.orient,l=t.orient!==o.orient&&90!==t.orient,c=t.orient!==o.orient&&90===t.orient;e&&a.fire("resize"),r?a.fire("resizedown"):n&&a.fire("resizeup"),i?a.fire("resizewidth"):s&&a.fire("resizeheight"),u&&a.fire("orientationchange"),l?a.fire("orientationportrait"):c&&a.fire("orientationlandscape"),o=t})),a}).prototype=new r).getViewport=function(){return{width:window.innerWidth,height:window.innerHeight,orient:i?Math.abs(window.orientation):null}},s.prototype.isPortrait=function(){var t=this.getViewport().orient;return null!==t&&90!==t},s.prototype.isLandscape=function(){var t=this.getViewport().orient;return null!==t&&90===t},s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(13)),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(12)),o=l(n(22)),a=l(n(33)),s=l(n(92)),u=l(n(34));function l(t){return t&&t.__esModule?t:{default:t}}var c={init:function(){a.default.on("resize",(0,s.default)(h,50)),a.default.on("resizewidth",(0,u.default)(f,300)),(0,r.default)("resizes initialized")}},f=function(){o.default.fire("app--resize-debounced"),i.updateImages()},h=function(){o.default.fire("app--resize")};e.default=c},function(t,e,n){
/*!
 *
 * Throttle callbacks
 *
 * @throttle
 * @author: kitajchuk
 *
 */
t.exports=function(t,e){var n=!1;return function(){n||(t.call(),n=!0,setTimeout(function(){n=!1},e||100))}}},function(t,e,n){
/*!
 *
 * Asynchronous webpage transitioning with pushstate management.
 *
 * @PageController
 * @author: kitajchuk
 *
 * @module
 * - init
 * - isActive
 * - onload
 * - unload
 *
 *
 */
var r,i,o,a,s,u,l,c,f,h,d,p,v,m,g,y,_,b,w,T,E,S,O,C,A,x,P;t.exports=(r=n(94),i=n(6),o=null,a=[],s=[],u={active:[],inactive:[]},l=!1,c=null,f=null,h=!0,d=null,p=null,v=!1,m=!1,g=null,y=!1,_=null,b=function(t,e){m||_.fire("page-controller-"+t,e)},w=function(t){return"function"==typeof t},T=function(){if(!m)for(var t=u.active.length;t--;)w(u.active[t].onload)&&u.active[t].onload()},E=function(t){var e,n=t.uri;for(e in t.query)n+="-"+e+"-"+t.query[e];for(e in t.params)n+="-"+e+"-"+t.params[e];return n},S=function(){if(!m){u.active=[],u.inactive=[];for(var t=s.length;t--;){var e=s[t];w(e.isActive)&&(e.isActive()?u.active.push(e):u.inactive.push(e))}b("router-synced-modules",u)}},O=function(t){y||(y=!0,_.go(function(){Date.now()-c>=_._options.transitionTime&&(_.stop(),x(t))}))},C=function(t){y||(A(t.request),setTimeout(function(){x(t)},_._options.transitionTime))},A=function(t){if(!y){var e=p===E(t);if(e)return b("router-samepage",{request:t}),void(v=!0);c=Date.now(),h||b("router-transition-out",{request:t})}},x=function(t){if(v)return v=!1,void(y=!1);var e={response:t.response.responseText,request:t.request,status:t.status};f=e.request.uri,d=e.request.query,p=E(e.request),h?(h=!1,y=!1,S(),T(),b("initialized-page",e)):setTimeout(function(){S(),function(){if(!m)for(var t=u.active.length;t--;)w(u.active[t].unload)&&u.active[t].unload()}(),b("router-refresh-document",e),S(),T(),b("router-transition-in",e),y=!1,m&&(m=!1,w(g)&&(g(e),g=null))},_._options.transitionTime)},((P=function(t){if(!_&&(_=this,this._options={transitionTime:0,routerOptions:{pushStateOptions:{}}},(t=t||{}).transitionTime&&(this._options.transitionTime=t.transitionTime),t.routerOptions))for(var e in t.routerOptions)this._options.routerOptions[e]=t.routerOptions[e];return _}).prototype=new i).initPage=function(){if(!l&&(l=!0,(o=new r(this._options.routerOptions))._matcher.parse(window.location.href,a).matched)){o.bind();for(var t=a.length;t--;)o.get(a[t],O);o.on("preget",A),o.on("popget",C),function(t){for(var e=s.length;e--;)!s[e].__initialized&&w(s[e].init)&&(s[e].__initialized=!0,s[e].init())}()}},P.prototype.routeSilently=function(t,e){m=!0,g=e,o.trigger(t)},P.prototype.setConfig=function(t){a=t},P.prototype.setModules=function(t){if(t)for(var e=t.length;e--;)this.addModule(t[e])},P.prototype.addModule=function(t){if(!(-1===s.indexOf(t)&&w(t.isActive)&&w(t.onload)&&w(t.unload)))throw new Error("PageController ERROR - All registered modules require isActive, onload and unload methods.");s.push(t)},P.prototype.getModules=function(){return s},P.prototype.getConfig=function(){return a},P.prototype.getRouter=function(){return o},P.prototype.getPusher=function(){return o._pusher},P.prototype.getMatcher=function(){return o._matcher},P.prototype.getRoute=function(){return f},P.prototype.getQuery=function(){return d},P)},function(t,e,n){
/*!
 *
 * Handles basic get routing
 *
 * @Router
 * @author: kitajchuk
 *
 */
var r,i,o,a,s,u;t.exports=(o=n(95),a=n(96),s=n(5),(u=function(){return this.init.apply(this,arguments)}).prototype={constructor:u,_rHTTPs:/^http[s]?:\/\/.*?\//,_rFiles:/\.(jpg|jpeg|png|gif|pdf|csv|txt|md|doc|docx|xls|xlsx|webm|mp4|mp3)$/gi,_rDomain:new RegExp(document.domain),_isRouting:!1,init:function(t){for(var e in this._options={async:!0,proxy:!1,caching:!0,handle404:!0,handle500:!0,pushStateOptions:{}},t=t||{})this._options[e]=t[e];this._matcher=new a,this._pusher=new o(this._options.pushStateOptions),this._callbacks={},this._responses={},this._uid=0,this._ready=!1},bind:function(){var t=this,e=window.location.href.replace(window.location.hash,"");document.addEventListener("click",function(e){t._handleClick(this,e)},!1),this._pusher.on("popstate",function(e,n){t._handlePopstate(e,n)}),this._options.async&&this._options.handle404?this._route(e,function(e,n){t._ready=!0}):setTimeout(function(){var n={status:200,responseText:(new XMLSerializer).serializeToString(document)};t._fire("get",e,n,n.status),t._cache(e,n),t._ready=!0},200)},on:function(t,e){this._bind(t,e)},off:function(t,e){this._unbind(t,e)},trigger:function(t){r||(r=document.createElement("a")),r.href=t,this._handleClick(r,{target:r})},get:function(t,e){this._matcher.config([t]),e._routerRoutes?e._routerRoutes.push(t):e._routerRoutes=[t],1===e._routerRoutes.length&&this._bind("get",e)},getActiveEl:function(){return i},getRouteForUrl:function(t){return this._matcher._cleanRoute(t)},getRouteDataForUrl:function(t){return this._matcher.parse(t,this._matcher.getRoutes()).params},getUID:function(){return this._uid=this._uid+1,this._uid},_preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},_handleClick:function(t,e){var n=s(t,"a",!0)||s(e.target,"a",!0),r=n&&this._matcher.test(n.href),o=n&&this._rDomain.test(n.href),a=n&&this._options.proxy&&this._options.proxy.domain,u=n&&-1!==n.href.indexOf("#"),l=n&&-1!==n.className.indexOf("js-router--ignore"),c=n&&e.metaKey,f=n&&"_blank"===n.target,h=n&&o&&n.href.match(this._rFiles);(r&&o||a)&&(u||l||c||f||h||(i=n,this._preventDefault(e),this._isRouting||this._route(n.href)))},_handlePopstate:function(t,e){if(this._ready){for(var n=this._callbacks.get.length;n--;){var r=this._matcher.parse(t,this._callbacks.get[n]._routerRoutes);if(r.matched)break}data={route:this._matcher._cleanRoute(t),response:this._responses[t],request:r,status:this._responses[t].status},this._fire("popget",t,data)}else this._ready=!0},_route:function(t,e){var n=this,r={request:t,original:t};this._isRouting=!0,this._matchUrl(r.original),this._options.proxy&&this._options.proxy.domain&&(r.request=this._options.proxy.domain+"/"+r.request.replace(this._rHTTPs,"")),this._getUrl(r,function(t,i){n._isRouting=!1,n._pusher.push(r.original),n._fire("get",r.original,t,i),"function"==typeof e&&e(t,i)})},_matchUrl:function(t){if(this._ready)for(var e=this._callbacks.get.length;e--;){var n=this._matcher.parse(t,this._callbacks.get[e]._routerRoutes);if(n.matched){this._fire("preget",t,n);break}}},_getUrl:function(t,e){var n=function(n,r){try{i._cache(t.original,n),"function"==typeof e&&e(n,r)}catch(t){}},r=null,i=this;this._responses[t.original]?n(this._responses[t.original],this._responses[t.original].status):this._options.async?((r=new XMLHttpRequest).open("GET",t.request,!0),r.onreadystatechange=function(t){4===this.readyState&&(200===this.status?n(this,200):404===this.status&&i._options.handle404?n(this,404):500===this.status&&i._options.handle500&&n(this,500))},r.send()):n({responseText:""},200)},_cache:function(t,e){this._options.caching&&!this._responses[t]&&(this._responses[t]=e)},_bind:function(t,e){"function"==typeof e&&(this._callbacks[t]||(this._callbacks[t]=[]),e._jsRouterID=this.getUID(),this._callbacks[t].push(e))},_unbind:function(t,e){if(!this._callbacks[t])return this;if(e){for(var n=0,r=this._callbacks[t].length;n<r;n++)if(e._jsRouterID===this._callbacks[t][n]._jsRouterID){this._callbacks[t].splice(n,1);break}}else{for(var i=this._callbacks[t].length;i--;)this._callbacks[t][i]=null;delete this._callbacks[t]}},_fire:function(t,e,n,r){var i;if("get"===t)for(i=this._callbacks[t].length;i--;){var o=this._matcher.parse(e,this._callbacks[t][i]._routerRoutes);o.matched&&this._callbacks[t][i].call(this,{route:this._matcher._cleanRoute(e),response:n,request:o,status:r})}else if(this._callbacks[t])for(i=this._callbacks[t].length;i--;)this._callbacks[t][i].call(this,n)}},u)},function(t,e,n){
/*!
 *
 * Handles history pushstate/popstate with async option
 * If history is not supported, falls back to hashbang!
 *
 * @PushState
 * @author: kitajchuk
 *
 */
var r;t.exports=((r=function(){return this.init.apply(this,arguments)}).prototype={constructor:r,_pushable:"history"in window&&"pushState"in window.history,_hashable:"onhashchange"in window,init:function(t){this._initUrl=window.location.href.replace(window.location.hash,""),this._options=t||{},this._enabled=!1,this._ishashpushed=!1,this._uid=0,this._states={},this._callbacks={},this._states[this._initUrl]={uid:this.getUID()},this._stateEnable()},on:function(t,e){"function"==typeof e&&(this._callbacks[t]||(this._callbacks[t]=[]),e._pushstateID=this.getUID(),e._pushstateType=t,this._callbacks[t].push(e))},off:function(t,e){if(this._callbacks[t])for(var n=this._callbacks[t].length;n--;)if(this._callbacks[t][n]._pushstateID===e._pushstateID){this._callbacks[t].splice(n,1);break}},push:function(t){t!==window.location.href&&(this._push(t),this._states[t]={uid:this.getUID()})},goBack:function(){window.history.back(),this._fire("backstate")},goForward:function(){window.history.forward(),this._fire("forwardstate")},getUID:function(){return this._uid=this._uid+1,this._uid},_push:function(t){if(this._pushable&&!this._options.forceHash)window.history.pushState(this._states[t],"",t);else{var e=t.replace(window.location.origin,"");e===window.location.pathname&&(e="/"),this._ishashpushed=!0,window.location.hash=e}},_fire:function(t,e){if(this._callbacks[t])for(var n=this._callbacks[t].length;n--;)this._callbacks[t][n].apply(this,[].slice.call(arguments,1))},_stateEnable:function(){if(this._enabled)return this;var t=this,e=function(){var e=window.location.href;t._options.forceHash&&(e=(e=e.replace(window.location.hash,"")).replace(window.location.pathname,""),-1!==["#/","#",""].indexOf(window.location.hash)?e+=window.location.pathname:e+=window.location.hash.replace("#","")),t._fire("popstate",e,t._states[e])};this._enabled=!0,this._pushable&&!this._options.forceHash?window.addEventListener("popstate",function(t){e()},!1):this._hashable&&(this._push(this._initUrl),window.addEventListener("hashchange",function(n){t._ishashpushed?t._ishashpushed=!1:e()},!1))}},r)},function(t,e,n){
/*!
 *
 * Handles wildcard route matching against urls with !num and !slug condition testing
 *
 * @MatchRoute
 * @author: kitajchuk
 *
 */
var r,i;t.exports=(r=n(31),(i=function(){return this.init.apply(this,arguments)}).prototype={constructor:i,_rHTTPs:/^http[s]?:\/\/.*?\//,_rTrails:/^\/|\/$/g,_rHashQuery:/#.*$|\?.*$/g,_rWild:/^:/,_wilders:{num:/^[0-9]+$/,slug:/^[A-Za-z]+[A-Za-z0-9-_.]*$/},init:function(t){this._routes=t?this._cleanRoutes(t):[]},getRoutes:function(){return this._routes},config:function(t){return t="string"==typeof t?[t]:t,this._routes=this._routes.concat(this._cleanRoutes(t)),this},test:function(t){return this.parse(t,this._routes).matched},params:function(t){return this.parse(t,this._routes).params},compare:function(t,e){return this.parse(e,[t])},parse:function(t,e){for(var n,i,o,a,s,u,l,c,f=this._cleanRoute(t),h=f.split("/"),d=h.length,p=e.length,v=0;v<p;v++){if(i="*"===e[v],c={matched:!1,route:null,uri:[],params:{},query:r(t)},s=e[v].split("/"),"/"===f&&"/"===e[v]){c.matched=!0,c.route=e[v],c.uri="/";break}if(s.length===h.length||i){n=0;for(var m=0;m<d;m++)this._rWild.test(s[m])?(a=(o=s[m].split("!"))[0],(l=o[1])?(this._wilders[l]&&(u=this._wilders[l]),u&&u.test(h[m])&&(n++,c.params[a.replace(this._rWild,"")]=h[m],c.uri.push(h[m]))):(n++,c.params[a.replace(this._rWild,"")]=h[m],c.uri.push(h[m]))):h[m]===s[m]&&(n++,c.uri.push(h[m]));if(n===h.length||i){c.matched=!0,c.route=e[v],c.uri=i?f:c.uri.join("/");break}}}return c},_cleanRoute:function(t){return"/"!==t&&(t=(t=(t=(t=t.replace(this._rHTTPs,"")).replace(this._rTrails,"")).replace(this._rHashQuery,"")).replace(this._rTrails,"")),""===t&&(t="/"),t},_cleanRoutes:function(t){for(var e=t.length;e--;)t[e]=this._cleanRoute(t[e]);return t}},i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=n(98),a=(r=o)&&r.__esModule?r:{default:r};var s=null,u=null,l={init:function(){i.emitter.on("app--root",function(){u&&u.teardown()}),i.log("about initialized")},isActive:function(){return this.getElements()>0},onload:function(){if(i.emitter.fire("app--offcanvas"),i.dom.html.removeClass(i.config.offcanvasClasses).addClass("is-offcanvas is-offcanvas--about"),!u){var t=s.data();u=new a.default(s,t)}},unload:function(){},getElements:function(){return(s=i.dom.page.find(".js-about")).length}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var o=null,a=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o||this.initialize(e,n),o}return r(t,[{key:"initialize",value:function(t,e){this.$node=t,this.data=e,this.transTime=400,this.$target=i.dom.main.find(".js-main--"+this.data.target),this.$anim=this.$node.find(".js-animate-in"),this.$images=this.$node.find(".js-lazy-image"),this.loadContent(),o=this}},{key:"loadContent",value:function(){var t=this;this.$target.append(this.$node),setTimeout(function(){t.$anim.addClass("is-active")},10),i.emitter.fire("app--preload-done")}},{key:"teardown",value:function(){}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(4)),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=a(n(100));function a(t){return t&&t.__esModule?t:{default:t}}var s=null,u=null,l={init:function(){var t=this;i.emitter.on("app--offcanvas",function(){u&&u.teardown()}),i.emitter.on("app--load-root",function(e){s=(0,r.default)(e),t.onload()}),i.log("indexes initialized")},isActive:function(){return this.getElements()>0},onload:function(){if(u)u.cycleAnimation();else{var t=s.data();u=new o.default(s,t)}},unload:function(){},getElements:function(){return(s=i.dom.page.find(".js-index")).length}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(4)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=c(n(23)),s=c(n(24)),u=c(n(9)),l=c(n(6));function c(t){return t&&t.__esModule?t:{default:t}}var f=null,h=new l.default,d=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(!f||f&&f.data.id!==n.id)&&this.initialize(e,n),f}return r(t,[{key:"initialize",value:function(t,e){this.$node=t,this.data=e,this.$target=o.dom.main.find(".js-main--"+this.data.target),this.$images=this.$node.find(".js-lazy-image"),this.timeoutId=null,this.timeoutDelay=o.dom.overlay.elementTransitionDuration,this.bindEvents(),this.loadIndex(),f=this}},{key:"cycleAnimation",value:function(){this.$anims=this.$node.find(".js-animate"),window.location.pathname===a.default.root?(h.stop(),h.go(this.updateAnimate.bind(this)),this.handleScroll()):this.updateAnimate()}},{key:"handleScroll",value:function(){var t=null,e=function(){u.default.suppress(!1)};this.$target.on("scroll",function(){try{clearTimeout(t)}catch(t){o.log("warn",t)}u.default.suppress(!0),t=setTimeout(e,300)})}},{key:"updateAnimate",value:function(){for(var t=null,e=this.$anims.length;e--;)t=this.$anims.eq(e),o.util.isElementInViewport(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"bindEvents",value:function(){o.dom.body.on("click",".js-index-tile",this.onTileClick.bind(this)),o.detect.isDevice()||(o.dom.body.on("mouseenter",".js-index-tile img",this.onMouseEnter.bind(this)),o.dom.body.on("mousemove",".js-index-tile img",this.onMouseEnter.bind(this)),o.dom.body.on("mouseleave",".js-index-tile img",this.onMouseLeave.bind(this)))}},{key:"loadIndex",value:function(){var t=this;this.$target.append(this.$node),o.images.handleImages(this.$images,function(){t.cycleAnimation()})}},{key:"onTileClick",value:function(t){t.preventDefault();var e=(0,i.default)(t.target).closest(".js-index-tile");u.default.setTitle(e.data("title")),u.default.open(),s.default.open()}},{key:"onMouseEnter",value:function(t){try{clearTimeout(this.timeoutId)}catch(t){o.log("warn",t)}if(!s.default.isActive()){var e=(0,i.default)(t.target).closest(".js-index-tile");u.default.setTitle(e.data("title")),u.default.open()}}},{key:"onMouseLeave",value:function(){s.default.isActive()||(this.timeoutId=setTimeout(function(){s.default.isActive()||u.default.close()},this.timeoutDelay))}},{key:"teardown",value:function(){h.stop(),this.$target.off("scroll")}}]),t}();e.default=d},function(t,e,n){
/*!
 *
 * A lightweight manager for HTML5 audio and video.
 *
 * @MediaBox
 * @singleton
 * @author: kitajchuk
 *
 * @useful web pages with information on this stuffs
 * https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events
 * https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement
 * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video
 * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio
 * https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement
 *
 */
var r,i,o,a,s,u,l,c,f,h,d,p,v,m,g,y,_;t.exports=(r=n(14),i=n(17),o=window.requestAnimationFrame,a=window.cancelAnimationFrame,s=/[#|?].*$/g,u=/^no$/,l=function(t){return"function"==typeof t},c=function(t,e){for(var n,r,i=0,o=e.length;i<o;i++){var a=e[i].split(".").pop().toLowerCase().replace(s,"");if("webm"===a&&"probably"===y.support[t][a]){n=e[i],r=y.support[t][a];break}"probably"!==y.support[t][a]&&"maybe"!==y.support[t][a]||(n=e[i],r=y.support[t][a]),"ogv"!==a&&"oga"!==a||"probably"!==y.support[t].ogg&&"maybe"!==y.support[t].ogg||(n=e[i],r=y.support[t].ogg),"mp4"!==a&&"m4v"!==a||"probably"!==y.support[t].h264&&"maybe"!==y.support[t].h264||(n=e[i],r=y.support[t].h264),"aac"!==a||"probably"!==y.support[t].m4a&&"maybe"!==y.support[t].m4a||(n=e[i],r=y.support[t].m4a),"mp1"!==a&&"mp2"!==a&&"mpg"!==a&&"mpeg"!==a||"probably"!==y.support[t].mp3&&"maybe"!==y.support[t].mp3||(n=e[i],r=y.support[t].mp3)}return{source:n,canPlay:r}},f=function(t){t._updateId&&(a(t._updateId),t._updateId=null,t._updateFn=null)},h=function(t,e,n){var r=new XMLHttpRequest;if(r.open("GET",t,!0),e)for(var i in e)r[i]=e[i];return r.onreadystatechange=function(t){if(4===this.readyState&&200===this.status)try{e.responseType||(this.responseJSON=JSON.parse(this.responseText)),l(n)&&n(this)}catch(t){throw new Error([t.name,t.message].join(" : "))}},r.send(),r},d={bgm:{volume:1,_builtIn:!0},sfx:{volume:1,_builtIn:!0},vid:{volume:1,_builtIn:!0}},p={},v={},m=null,window.AudioContext?_=window.AudioContext:window.webkitAudioContext&&(_=window.webkitAudioContext),g=_?new _:_,(y=function(){return m||function(){m=this}.apply(this,arguments)}).types={AUDIO:"audio",VIDEO:"video"},y.support={audio:function(){var t=document.createElement("audio"),e={};try{t.canPlayType&&(e.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(u,""),e.mp3=t.canPlayType("audio/mpeg;").replace(u,""),e.opus=t.canPlayType('audio/ogg; codecs="opus"').replace(u,""),e.wav=t.canPlayType('audio/wav; codecs="1"').replace(u,""),e.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(u,""))}catch(t){}return e}(),video:function(){var t=document.createElement("video"),e={};try{t.canPlayType&&(e.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(u,""),e.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(u,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(u,""),e.vp9=t.canPlayType('video/webm; codecs="vp9"').replace(u,""),e.hls=t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(u,""))}catch(t){}return e}()},y.STATE_STOPPED=0,y.STATE_STOPPING=1,y.STATE_PAUSED=2,y.STATE_PLAYING=3,y.prototype={constructor:y,isLoaded:function(t){return!0===this.getMedia(t).loaded},isStopped:function(t){return this.getMedia(t).state===y.STATE_STOPPED},isPaused:function(t){return this.getMedia(t).state===y.STATE_PAUSED},isPlaying:function(t){var e=this.getMedia(t);return e.state===y.STATE_PLAYING||e.state===y.STATE_STOPPING},setVolume:function(t,e){return this.getMedia(t)._node.volume=e,m},getVolume:function(t){return this.getMedia(t)._node.volume},getMediaProp:function(t,e){var n=this.getMedia(t);if(n)return n._node[e]},setMediaProp:function(t,e,n){var r=this.getMedia(t);return r&&(r._node[e]=n),m},getMediaAttr:function(t,e){var n=this.getMedia(t);if(n)return n._node.getAttribute(e)},setMediaAttr:function(t,e,n){var r=this.getMedia(t);return r&&r._node.setAttribute(e,n),m},addMediaEvent:function(t,e,n){var r=this.getMedia(t);if(r){if("timeupdate"===e)return r._events.timeupdate=n,m;r._events[e]=function(){l(n)&&n.apply(this,arguments)},r._node.addEventListener(e,r._events[e],!1)}return m},removeMediaEvent:function(t,e){var n=this.getMedia(t);return n&&("timeupdate"===e&&f(n),n._node.removeEventListener(e,n._events[e],!1),n._events[e]=null),m},playMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&(this.isStopped(t)||this.isPaused(t))&&(e._node.volume=d[e.channel].volume,e._node.play(),e.state=y.STATE_PLAYING,!e._updateId&&l(e._events.timeupdate)&&(e._updateFn=function(){e._events.timeupdate.call(e._node,null),e._updateId=o(e._updateFn)},e._updateId=o(e._updateFn))),m},pauseMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&this.isPlaying(t)&&(e._node.pause(),e.state=y.STATE_PAUSED,f(e)),m},stopMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&this.isPlaying(t)&&(e._node.pause(),e.state=y.STATE_STOPPED,f(e)),m},getMedia:function(t){return v[t]?v[t]:p[t]},getAudios:function(){return p},getVideos:function(){return v},destroyMedia:function(t){var e=this.getMedia(t);return this.stopMedia(t),e.type===y.types.AUDIO?delete p[t]:delete v[t],m},loadMedia:function(t,e){var n=this;return h(t,null,function(t){n.addMedia(t.responseJSON),l(e)&&e()}),m},addMedia:function(t){for(var e in t)for(var n=t[e].length;n--;)l(this[e])&&this[e](t[e][n]);return m},addVideo:function(t){var e=t.id,n=t.src,r={element:t.element,channel:t.channel};return!v[e]&&e&&n?(d[r.channel]||(d[r.channel]={volume:1}),v[e]={},v[e].type=y.types.VIDEO,v[e].state=y.STATE_STOPPED,v[e].loaded=!0,v[e].channel=r.channel,v[e].sources=n,v[e]._source=c(y.types.VIDEO,n),v[e]._events={},v[e]._updateId=null,v[e]._updateFn=null,v[e]._node=r.element||document.createElement("video"),v[e]._nodeSource=document.createElement("source"),v[e]._nodeSource.src=v[e]._source.source,v[e]._nodeSource.type=function(t,e){var n,r=e.split(".").pop().toLowerCase().replace(s,"");if("video"===t)switch(r){case"webm":n="video/webm";break;case"mp4":case"m4v":n="video/mp4";break;case"ogv":n="video/ogg"}else switch(r){case"aac":n="audio/aac";break;case"m4a":n="audio/x-m4a";break;case"mp4":n="audio/mp4";break;case"mp1":case"mp2":case"mp3":case"mpg":case"mpeg":n="audio/mpeg";break;case"oga":case"ogg":n="audio/ogg";break;case"wav":n="audio/wav"}return n}(y.types.VIDEO,v[e]._source.source),v[e]._node.appendChild(v[e]._nodeSource),m):m},addAudio:function(t){var e=t.id,n=t.src,r={channel:t.channel,CORS:t.CORS||!1};return!p[e]&&e&&n?(d[r.channel]||(d[r.channel]={volume:1}),p[e]={},p[e].type=y.types.AUDIO,p[e].state=y.STATE_STOPPED,p[e].loaded=!0,p[e].channel=r.channel,p[e].sources=n,p[e]._source=c(y.types.AUDIO,n),p[e]._events={},p[e]._updateId=null,p[e]._updateFn=null,p[e]._node=new Audio(p[e]._source.source),l(t.onloaded)&&!r.CORS&&h(p[e]._source.source,{responseType:"arraybuffer"},function(e){g.decodeAudioData(e.response,t.onloaded)}),m):m},fadeMediaIn:function(t,e,n){var o,a=this.getMedia(t),s=this;return a&&a.state===y.STATE_PLAYING?m:(a&&(o=d[a.channel].volume,a.state===y.STATE_STOPPED?(this.playMedia(t),this.setVolume(t,0)):a.state===y.STATE_STOPPING&&(a.state=y.STATE_PLAYING),new i({to:o,from:0,ease:l(n)?n:r.linear,duration:e||1e3,update:function(e){s.setVolume(t,e>o?o:e)},complete:function(){s.setVolume(t,o)}})),m)},fadeMediaOut:function(t,e,n){var o=this.getMedia(t);if(o&&o.state===y.STATE_STOPPING)return m;var a=this,s=function(e){o.state===y.STATE_STOPPING&&(a.setVolume(t,e<0?0:e),0===a.getVolume(t)&&a.stopMedia(t))};return o&&(o.state=y.STATE_STOPPING,new i({to:0,from:a.getVolume(t),ease:l(n)?n:r.linear,duration:e||1e3,update:s,complete:s})),m},stopChannel:function(t){var e;for(e in v)v[e].channel===t&&v[e].state===y.STATE_PLAYING&&this.pauseMedia(e);for(e in p)p[e].channel===t&&p[e].state===y.STATE_PLAYING&&this.pauseMedia(e);return m},playChannel:function(t){var e;for(e in v)v[e].channel===t&&v[e].state===y.STATE_PAUSED&&this.playMedia(e);for(e in p)p[e].channel===t&&p[e].state===y.STATE_PAUSED&&this.playMedia(e);return m},fadeChannelOut:function(t,e){var n;for(n in v)v[n].channel===t&&v[n].state===y.STATE_PLAYING&&this.fadeMediaOut(n,e);for(n in p)p[n].channel===t&&p[n].state===y.STATE_PLAYING&&this.fadeMediaOut(n,e);return m},fadeChannelIn:function(t,e){var n;for(n in v)v[n].channel===t&&v[n].state===y.STATE_STOPPED&&this.fadeMediaIn(n,e);for(n in p)p[n].channel===t&&p[n].state===y.STATE_STOPPED&&this.fadeMediaIn(n,e);return m},crossFadeChannel:function(t,e,n){var r;for(r in v)v[r].channel===t&&v[r].state===y.STATE_PLAYING&&this.fadeMediaOut(r,n);for(r in p)p[r].channel===t&&p[r].state===y.STATE_PLAYING&&this.fadeMediaOut(r,n);return this.fadeMediaIn(e,n)},setChannelProp:function(t,e,n){return d[t]&&(d[t][e]=n),m},getChannelProp:function(t,e){if(d[t])return d[t][e]},getChannels:function(){return d}},y)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=n(37),s=(r=a)&&r.__esModule?r:{default:r};var u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.id=n,this.bindEvents()}return i(t,[{key:"bindEvents",value:function(){this._onScroll=this.onScroll.bind(this),s.default.getMedia(this.id)&&this._onScroll(),o.emitter.on("app--project-scroll",this._onScroll)}},{key:"onScroll",value:function(){o.util.isElementInViewport(this.$node[0])?s.default.isPlaying(this.id)||s.default.playMedia(this.id):s.default.isPlaying(this.id)&&s.default.stopMedia(this.id)}},{key:"destroy",value:function(){o.emitter.off("app--project-scroll",this._onScroll)}}]),t}();e.default=u},function(t,e,n){"use strict";(function(e){var r=n(40),i=n(26),o=n(27),a=n(124),s=n(125),u=n(126),l=n(127);t.exports.request_defaults={protocol:"https:",hostname:"api.vimeo.com",port:443,method:"GET",query:{},headers:{Accept:"application/vnd.vimeo.*+json;version=3.4","User-Agent":"Vimeo.js/2.1.1"}};var c=t.exports.authEndpoints={authorization:"/oauth/authorize",accessToken:"/oauth/access_token",clientCredentials:"/oauth/authorize/client"},f=t.exports.Vimeo=function(t,e,n){this._clientId=t,this._clientSecret=e,n&&(this._accessToken=n)};f.prototype._clientId=null,f.prototype._clientSecret=null,f.prototype._accessToken=null,f.prototype.request=function(t,n){var s=null;if("string"==typeof t&&((t=i.parse(t,!0)).method="GET"),"string"!=typeof t.path)return n(new Error("You must provide an API path."));"/"!==t.path.charAt(0)&&(t.path="/"+t.path);var u=this._buildRequestOptions(t);s="https:"===u.protocol?a:o,-1!==["POST","PATCH","PUT","DELETE"].indexOf(u.method)&&("application/json"===u.headers["Content-Type"]?u.body=JSON.stringify(t.query):u.body=r.stringify(t.query),u.body?u.headers["Content-Length"]=e.byteLength(u.body,"utf8"):u.headers["Content-Length"]=0);var l=s.request(u,this._handleRequest(n));u.body&&l.write(u.body),l.on("error",function(t){n(t)}),l.end()},f.prototype._handleRequest=function(t){return function(e){e.setEncoding("utf8");var n="";e.on("readable",function(){n+=e.read()||""}),e.statusCode>=400?e.on("end",function(){var r=new Error(n);t(r,n,e.statusCode,e.headers)}):e.on("end",function(){try{var r=n.length?JSON.parse(n):{}}catch(r){return t(n,n,e.statusCode,e.headers)}t(null,r,e.statusCode,e.headers)})}},f.prototype._buildRequestOptions=function(t){var n=this._applyDefaultRequestOptions(t);if(this._accessToken)n.headers.Authorization="Bearer "+this._accessToken;else if(this._clientId&&this._clientSecret){var r=e.from(this._clientId+":"+this._clientSecret);n.headers.Authorization="Basic "+r.toString("base64")}return-1===["POST","PATCH","PUT","DELETE"].indexOf(n.method)||n.headers["Content-Type"]?"GET"===n.method&&(n.path=this._applyQuerystringParams(n,t)):n.headers["Content-Type"]="application/json",n},f.prototype._applyDefaultRequestOptions=function(e){var n={protocol:e.protocol||t.exports.request_defaults.protocol,host:e.hostname||t.exports.request_defaults.hostname,port:e.port||t.exports.request_defaults.port,method:e.method||t.exports.request_defaults.method,headers:e.headers||{},body:"",path:e.path},r=null;if(t.exports.request_defaults.headers)for(r in t.exports.request_defaults.headers)n.headers[r]||(n.headers[r]=t.exports.request_defaults.headers[r]);return n},f.prototype._applyQuerystringParams=function(t,e){var n="";return e.query?(Object.keys(e.query).length&&(n=t.path.indexOf("?")<0?"?"+r.stringify(e.query):"&"+r.stringify(e.query)),t.path+n):t.path},f.prototype.setAccessToken=function(t){this._accessToken=t},f.prototype.accessToken=function(e,n,r){var i={method:"POST",hostname:t.exports.request_defaults.hostname,path:c.accessToken,query:{grant_type:"authorization_code",code:e,redirect_uri:n},headers:{"Content-Type":"application/x-www-form-urlencoded"}};this.request(i,function(t,e,n,i){if(t)return r(t,null,n,i);r(null,e,n,i)})},f.prototype.buildAuthorizationEndpoint=function(e,n,i){var o={response_type:"code",client_id:this._clientId,redirect_uri:e};return n?Array.isArray(n)?o.scope=n.join(" "):o.scope=n:o.scope="public",i&&(o.state=i),t.exports.request_defaults.protocol+"//"+t.exports.request_defaults.hostname+c.authorization+"?"+r.stringify(o)},f.prototype.generateClientCredentials=function(e,n){var r={grant_type:"client_credentials"};e?Array.isArray(e)?r.scope=e.join(" "):r.scope=e:r.scope="public",this.request({method:"POST",hostname:t.exports.request_defaults.hostname,path:c.clientCredentials,query:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}},function(t,e,r,i){if(t)return n(t,null,r,i);n(null,e,r,i)})},f.prototype.upload=function(t,e,n,r,i){var o,a=this;if("function"==typeof e&&(i=r,r=n,n=e,e={}),"string"==typeof t)try{o=s.statSync(t).size}catch(t){return i("Unable to locate file to upload.")}else o=t.size;void 0===e.upload?e.upload={approach:"tus",size:o}:(e.upload.approach="tus",e.upload.size=o);var u={path:"/me/videos?fields=uri,name,upload",method:"POST",query:e};this.request(u,function(e,s,u){if(e)return i("Unable to initiate an upload. ["+e+"]");a._performTusUpload(t,o,s,n,r,i)})},f.prototype.replace=function(t,e,n,r,i,o){var a,l=this;if("function"==typeof n&&(o=i,i=r,r=n,n={}),"string"==typeof t){try{a=s.statSync(t).size}catch(t){return o("Unable to locate file to upload.")}n.file_name=u.basename(t)}else a=t.size,n.file_name=t.name;void 0===n.upload?n.upload={approach:"tus",size:a}:(n.upload.approach="tus",n.upload.size=a);var c={path:e+"/versions?fields=upload",method:"POST",query:n};l.request(c,function(n,s,u){if(n)return o("Unable to initiate an upload. ["+n+"]");s.uri=e,l._performTusUpload(t,a,s,r,i,o)})},f.prototype._performTusUpload=function(t,e,n,r,i,o){var a=t;"string"==typeof t&&(a=s.createReadStream(t));var u=new l.Upload(a,{endpoint:"none",uploadSize:e,retryDelays:[0,1e3,3e3,5e3],onError:o,onProgress:i,onSuccess:function(){return r(n.uri)}});u.url=n.upload.upload_link,u.start()}}).call(this,n(10).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=l(t),r=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),u=0,c=a>0?r-4:r,f=0;f<c;f+=4)e=i[t.charCodeAt(f)]<<18|i[t.charCodeAt(f+1)]<<12|i[t.charCodeAt(f+2)]<<6|i[t.charCodeAt(f+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=i[t.charCodeAt(f)]<<2|i[t.charCodeAt(f+1)]>>4,s[u++]=255&e);1===a&&(e=i[t.charCodeAt(f)]<<10|i[t.charCodeAt(f+1)]<<4|i[t.charCodeAt(f+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=p,a/=256,l-=8);t[n+d-p]|=128*v}},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f,h,d,p,v=t[c].replace(s,"%20"),m=v.indexOf(n);m>=0?(f=v.substr(0,m),h=v.substr(m+1)):(f=v,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(a(t),function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=1,f=26,h=38,d=700,p=72,v=128,m="-",g=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-c,T=Math.floor,E=String.fromCharCode;function S(t){throw new RangeError(b[t])}function O(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function C(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+O((t=t.replace(_,".")).split("."),e).join(".")}function A(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function x(t){return O(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function P(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function k(t,e,n){var r=0;for(t=n?T(t/d):t>>1,t+=T(t/e);t>w*f>>1;r+=l)t=T(t/w);return T(r+(w+1)*t/(t+h))}function j(t){var e,n,r,i,o,a,s,h,d,g,y,_=[],b=t.length,w=0,E=v,O=p;for((n=t.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&S("not-basic"),_.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=w,a=1,s=l;i>=b&&S("invalid-input"),((h=(y=t.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||h>T((u-w)/a))&&S("overflow"),w+=h*a,!(h<(d=s<=O?c:s>=O+f?f:s-O));s+=l)a>T(u/(g=l-d))&&S("overflow"),a*=g;O=k(w-o,e=_.length+1,0==o),T(w/e)>u-E&&S("overflow"),E+=T(w/e),w%=e,_.splice(w++,0,E)}return x(_)}function M(t){var e,n,r,i,o,a,s,h,d,g,y,_,b,w,O,C=[];for(_=(t=A(t)).length,e=v,n=0,o=p,a=0;a<_;++a)(y=t[a])<128&&C.push(E(y));for(r=i=C.length,i&&C.push(m);r<_;){for(s=u,a=0;a<_;++a)(y=t[a])>=e&&y<s&&(s=y);for(s-e>T((u-n)/(b=r+1))&&S("overflow"),n+=(s-e)*b,e=s,a=0;a<_;++a)if((y=t[a])<e&&++n>u&&S("overflow"),y==e){for(h=n,d=l;!(h<(g=d<=o?c:d>=o+f?f:d-o));d+=l)O=h-g,w=l-g,C.push(E(P(g+O%w,0))),h=T(O/w);C.push(E(P(h,0))),o=k(n,b,r==i),n=0,++r}++n,++e}return C.join("")}s={version:"1.4.1",ucs2:{decode:A,encode:x},decode:j,encode:M,toASCII:function(t){return C(t,function(t){return y.test(t)?"xn--"+M(t):t})},toUnicode:function(t){return C(t,function(t){return g.test(t)?j(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(109)(t),n(2))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){(function(e,r,i){var o=n(41),a=n(8),s=n(43),u=n(44),l=n(121),c=s.IncomingMessage,f=s.readyStates;var h=t.exports=function(t){var n,r=this;u.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){r.setHeader(e,t.headers[e])});var i=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)i=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":o.vbArray&&t?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",function(){r._onFinish()})};a(h,u.Writable),h.prototype.setHeader=function(t,e){var n=t.toLowerCase();-1===d.indexOf(n)&&(this._headers[n]={name:t,value:e})},h.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},h.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},h.prototype._onFinish=function(){var t=this;if(!t._destroyed){var n=t._opts,a=t._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=o.arraybuffer?l(e.concat(t._body)):o.blobConstructor?new r.Blob(t._body.map(function(t){return l(t)}),{type:(a["content-type"]||{}).value||""}):e.concat(t._body).toString());var u=[];if(Object.keys(a).forEach(function(t){var e=a[t].name,n=a[t].value;Array.isArray(n)?n.forEach(function(t){u.push([e,t])}):u.push([e,n])}),"fetch"===t._mode){var c=null;if(o.abortController){var h=new AbortController;c=h.signal,t._fetchAbortController=h,"requestTimeout"in n&&0!==n.requestTimeout&&(t._fetchTimer=r.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},n.requestTimeout))}r.fetch(t._opts.url,{method:t._opts.method,headers:u,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:c}).then(function(e){t._fetchResponse=e,t._connect()},function(e){r.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)})}else{var d=t._xhr=new r.XMLHttpRequest;try{d.open(t._opts.method,t._opts.url,!0)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}"responseType"in d&&(d.responseType=t._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(d.timeout=n.requestTimeout,d.ontimeout=function(){t.emit("requestTimeout")}),u.forEach(function(t){d.setRequestHeader(t[0],t[1])}),t._response=null,d.onreadystatechange=function(){switch(d.readyState){case f.LOADING:case f.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(d.onprogress=function(){t._onXHRProgress()}),d.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{d.send(s)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}}}},h.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var t=this;t._destroyed||(t._response=new c(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},h.prototype._write=function(t,e,n){this._body.push(t),n()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),u.Writable.prototype.end.call(this,t,e,n)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(10).Buffer,n(2),n(7))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){},function(t,e,n){"use strict";var r=n(19).Buffer,i=n(116);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=o,i=s,e.copy(n,i),s+=a.data.length,a=a.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(118),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,l={},c=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[u]=i,r(u),u++},h.clearImmediate=d}function d(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(2),n(7))},function(t,e,n){t.exports=n(42).deprecate},function(t,e,n){"use strict";t.exports=o;var r=n(51),i=n(15);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(8),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){var r=n(10).Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(r.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,i=0;i<n;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";t.exports=n(27).STATUS_CODES},function(t,e,n){var r=n(27),i=n(26),o=t.exports;for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);function s(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=s(t),r.request.call(this,t,e)},o.get=function(t,e){return t=s(t),r.get.call(this,t,e)}},function(t,e){},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return r.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return(r?"/":"")+(e=n(o(e.split("/"),function(t){return!!t}),!r).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),i="/"===a(t,-1);return(t=n(o(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&i&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(7))},function(t,e,n){"use strict";var r,i=n(128),o=(r=i)&&r.__esModule?r:{default:r},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(53));var s=o.default.defaultOptions,u={Upload:o.default,canStoreURLs:a.canStoreURLs,defaultOptions:s};if("undefined"!=typeof window){var l=window,c=l.XMLHttpRequest,f=l.Blob;u.isSupported=c&&f&&"function"==typeof f.prototype.slice}else u.isSupported=!0,u.FileStorage=a.FileStorage;t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(129)),o=c(n(130)),a=n(131),s=n(132),u=n(136),l=n(53);function c(t){return t&&t.__esModule?t:{default:t}}var f={endpoint:null,fingerprint:c(n(140)).default,resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,urlStorage:null,fileReader:null,uploadDataDuringCreation:!1},h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,o.default)(!0,{},f,n),this._storage=this.options.urlStorage,this.file=e,this.url=null,this._xhr=null,this._fingerprint=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0}return r(t,[{key:"start",value:function(){var t=this,e=this.file;e?this.options.endpoint||this.options.uploadUrl?(this.options.resume&&null==this._storage&&(this._storage=(0,l.getStorage)()),this._source?this._start(this._source):(this.options.fileReader||u.getSource)(e,this.options.chunkSize,function(e,n){e?t._emitError(e):(t._source=n,t._start(n))})):this._emitError(new Error("tus: neither an endpoint or an upload URL is provided")):this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_start",value:function(t){var e=this,n=this.file;if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=t.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));var r=this.options.retryDelays;if(null!=r){if("[object Array]"!==Object.prototype.toString.call(r))return void this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));var i=this.options.onError;this.options.onError=function(t){e.options.onError=i,null!=e._offset&&e._offset>e._offsetBeforeRetry&&(e._retryAttempt=0);var n=!0;"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(n=!1);var o=t.originalRequest?t.originalRequest.status:0,a=!d(o,400)||409===o||423===o;if(e._retryAttempt<r.length&&null!=t.originalRequest&&a&&n){var s=r[e._retryAttempt++];e._offsetBeforeRetry=e._offset,e.options.uploadUrl=e.url,e._retryTimeout=setTimeout(function(){e.start()},s)}else e._emitError(t)}}if(this._aborted=!1,null==this.url)return null!=this.options.uploadUrl?(this.url=this.options.uploadUrl,void this._resumeUpload()):void(this._hasStorage()?this.options.fingerprint(n,this.options,function(t,n){t?e._emitError(t):(e._fingerprint=n,e._storage.getItem(e._fingerprint,function(t,n){t?e._emitError(t):null!=n?(e.url=n,e._resumeUpload()):e._createUpload()}))}):this._createUpload());this._resumeUpload()}},{key:"abort",value:function(e,n){var r=this;null!==this._xhr&&(this._xhr.abort(),this._source.close()),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),n=n||function(){},e?t.terminate(this.url,this.options,function(t,e){if(t)return n(t,e);r._hasStorage()?r._storage.removeItem(r._fingerprint,n):n()}):n()}},{key:"_hasStorage",value:function(){return this.options.resume&&this._storage}},{key:"_emitXhrError",value:function(t,e,n){this._emitError(new i.default(e,n,t))}},{key:"_emitError",value:function(t){if("function"!=typeof this.options.onError)throw t;this.options.onError(t)}},{key:"_emitSuccess",value:function(){"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(t,e){"function"==typeof this.options.onProgress&&this.options.onProgress(t,e)}},{key:"_emitChunkComplete",value:function(t,e,n){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(t,e,n)}},{key:"_setupXHR",value:function(t){this._xhr=t,p(t,this.options)}},{key:"_createUpload",value:function(){var t=this;if(this.options.endpoint){var e=(0,s.newRequest)();e.open("POST",this.options.endpoint,!0),e.onload=function(){if(d(e.status,200)){var n=e.getResponseHeader("Location");if(null!=n){if(t.url=(0,s.resolveUrl)(t.options.endpoint,n),0===t._size)return t._emitSuccess(),void t._source.close();t._hasStorage()&&t._storage.setItem(t._fingerprint,t.url,function(e){e&&t._emitError(e)}),t.options.uploadDataDuringCreation?t._handleUploadResponse(e):(t._offset=0,t._startUpload())}else t._emitXhrError(e,new Error("tus: invalid or missing Location header"))}else t._emitXhrError(e,new Error("tus: unexpected response while creating upload"))},e.onerror=function(n){t._emitXhrError(e,new Error("tus: failed to create upload"),n)},this._setupXHR(e),this.options.uploadLengthDeferred?e.setRequestHeader("Upload-Defer-Length",1):e.setRequestHeader("Upload-Length",this._size);var n=function(t){var e=[];for(var n in t)e.push(n+" "+a.Base64.encode(t[n]));return e.join(",")}(this.options.metadata);""!==n&&e.setRequestHeader("Upload-Metadata",n),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,this._addChunkToRequest(e)):e.send(null)}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var t=this,e=(0,s.newRequest)();e.open("HEAD",this.url,!0),e.onload=function(){if(!d(e.status,200))return t._hasStorage()&&d(e.status,400)&&t._storage.removeItem(t._fingerprint,function(e){e&&t._emitError(e)}),423===e.status?void t._emitXhrError(e,new Error("tus: upload is currently locked; retry later")):t.options.endpoint?(t.url=null,void t._createUpload()):void t._emitXhrError(e,new Error("tus: unable to resume upload (new upload cannot be created without an endpoint)"));var n=parseInt(e.getResponseHeader("Upload-Offset"),10);if(isNaN(n))t._emitXhrError(e,new Error("tus: invalid or missing offset value"));else{var r=parseInt(e.getResponseHeader("Upload-Length"),10);if(!isNaN(r)||t.options.uploadLengthDeferred){if(n===r)return t._emitProgress(r,r),void t._emitSuccess();t._offset=n,t._startUpload()}else t._emitXhrError(e,new Error("tus: invalid or missing length value"))}},e.onerror=function(n){t._emitXhrError(e,new Error("tus: failed to resume upload"),n)},this._setupXHR(e),e.send(null)}},{key:"_startUpload",value:function(){var t=this;if(!this._aborted){var e=(0,s.newRequest)();this.options.overridePatchMethod?(e.open("POST",this.url,!0),e.setRequestHeader("X-HTTP-Method-Override","PATCH")):e.open("PATCH",this.url,!0),e.onload=function(){d(e.status,200)?t._handleUploadResponse(e):t._emitXhrError(e,new Error("tus: unexpected response while uploading chunk"))},e.onerror=function(n){t._aborted||t._emitXhrError(e,new Error("tus: failed to upload chunk at offset "+t._offset),n)},this._setupXHR(e),e.setRequestHeader("Upload-Offset",this._offset),this._addChunkToRequest(e)}}},{key:"_addChunkToRequest",value:function(t){var e=this;"upload"in t&&(t.upload.onprogress=function(t){t.lengthComputable&&e._emitProgress(n+t.loaded,e._size)}),t.setRequestHeader("Content-Type","application/offset+octet-stream");var n=this._offset,r=this._offset+this.options.chunkSize;(r===1/0||r>this._size)&&!this.options.uploadLengthDeferred&&(r=this._size),this._source.slice(n,r,function(n,r,i){n?e._emitError(n):(e.options.uploadLengthDeferred&&i&&(e._size=e._offset+(r&&r.size?r.size:0),t.setRequestHeader("Upload-Length",e._size)),null===r?t.send():(t.send(r),e._emitProgress(e._offset,e._size)))})}},{key:"_handleUploadResponse",value:function(t){var e=this,n=parseInt(t.getResponseHeader("Upload-Offset"),10);if(isNaN(n))this._emitXhrError(t,new Error("tus: invalid or missing offset value"));else{if(this._emitProgress(n,this._size),this._emitChunkComplete(n-this._offset,n,this._size),this._offset=n,n==this._size)return this.options.removeFingerprintOnSuccess&&this.options.resume&&this._storage.removeItem(this._fingerprint,function(t){t&&e._emitError(t)}),this._emitSuccess(),void this._source.close();this._startUpload()}}}],[{key:"terminate",value:function(t,e,n){if("function"!=typeof e&&"function"!=typeof n)throw new Error("tus: a callback function must be specified");"function"==typeof e&&(n=e,e={});var r=(0,s.newRequest)();r.open("DELETE",t,!0),r.onload=function(){204===r.status?n():n(new i.default(new Error("tus: unexpected response while terminating upload"),null,r))},r.onerror=function(t){n(new i.default(t,new Error("tus: failed to terminate upload"),r))},p(r,e),r.send(null)}}]),t}();function d(t,e){return t>=e&&t<e+100}function p(t,e){t.setRequestHeader("Tus-Resumable","1.0.0");var n=e.headers||{};for(var r in n)t.setRequestHeader(r,n[r]);t.withCredentials=e.withCredentials}h.defaultOptions=f,e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.message));i.originalRequest=r,i.causingError=n;var o=t.message;return null!=n&&(o+=", caused by "+n.toString()),null!=r&&(o+=", originated from request (response code: "+r.status+", response text: "+r.responseText+")"),i.message=o,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Error),e}();e.default=r},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},u=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,n=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!o)return!1;for(e in t);return void 0===e||r.call(t,e)},l=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(a)return a(t,e).value}return t[e]};t.exports=function t(){var e,n,r,i,o,a,f=arguments[0],h=1,d=arguments.length,p=!1;for("boolean"==typeof f&&(p=f,f=arguments[1]||{},h=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});h<d;++h)if(null!=(e=arguments[h]))for(n in e)r=c(f,n),f!==(i=c(e,n))&&(p&&i&&(u(i)||(o=s(i)))?(o?(o=!1,a=r&&s(r)?r:[]):a=r&&u(r)?r:{},l(f,{name:n,newValue:t(p,a,i)})):void 0!==i&&l(f,{name:n,newValue:i}));return f}},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(t,e){module.exports=e(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(t){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(t){return t.replace(re_utob,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),e>=2?"=":b64chars.charAt(n>>>6&63),e>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t)).toString("base64")}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t)).toString("base64")}:function(t){return btoa(utob(t))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):_encode(String(t))},encodeURI=function(t){return encode(t,!0)},re_btou=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),cb_btou=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return fromCharCode(55296+(e>>>10))+fromCharCode(56320+(1023&e));case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,n=e%4,r=(e>0?b64tab[t.charAt(0)]<<18:0)|(e>1?b64tab[t.charAt(1)]<<12:0)|(e>2?b64tab[t.charAt(2)]<<6:0)|(e>3?b64tab[t.charAt(3)]:0),i=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return i.length-=[0,0,2,1][n],i.join("")},_atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/\S{1,4}/g,cb_decode)},atob=function(t){return _atob(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,"base64")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,"base64")).toString()}:function(t){return btou(_atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(t){return encode(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}})}).call(this,__webpack_require__(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.newRequest=function(){return new window.XMLHttpRequest},e.resolveUrl=function(t,e){return new o.default(e,t).toString()};var r,i=n(133),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";(function(e){var r=n(134),i=n(135),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(t){return(t||"").toString().replace(s,"")}var l=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function f(t){var n,r=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(t=t||r);if("blob:"===t.protocol)i=new d(unescape(t.pathname),{});else if("string"===a)for(n in i=new d(t,{}),c)delete i[n];else if("object"===a){for(n in t)n in c||(i[n]=t[n]);void 0===i.slashes&&(i.slashes=o.test(t.href))}return i}function h(t){t=u(t);var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function d(t,e,n){if(t=u(t),!(this instanceof d))return new d(t,e,n);var o,a,s,c,p,v,m=l.slice(),g=typeof e,y=this,_=0;for("object"!==g&&"string"!==g&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),e=f(e),o=!(a=h(t||"")).protocol&&!a.slashes,y.slashes=a.slashes||o&&e.slashes,y.protocol=a.protocol||e.protocol||"",t=a.rest,a.slashes||(m[3]=[/(.*)/,"pathname"]);_<m.length;_++)"function"!=typeof(c=m[_])?(s=c[0],v=c[1],s!=s?y[v]=t:"string"==typeof s?~(p=t.indexOf(s))&&("number"==typeof c[2]?(y[v]=t.slice(0,p),t=t.slice(p+c[2])):(y[v]=t.slice(p),t=t.slice(0,p))):(p=s.exec(t))&&(y[v]=p[1],t=t.slice(0,p.index)),y[v]=y[v]||o&&c[3]&&e[v]||"",c[4]&&(y[v]=y[v].toLowerCase())):t=c(t);n&&(y.query=n(y.query)),o&&e.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==e.pathname)&&(y.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(y.pathname,e.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(c=y.auth.split(":"),y.username=c[0]||"",y.password=c[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}d.prototype={set:function(t,e,n){var o=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),o[t]=e;break;case"port":o[t]=e,r(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,/:\d+$/.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";o[t]=e.charAt(0)!==a?a+e:e}else o[t]=e;break;default:o[t]=e}for(var s=0;s<l.length;s++){var u=l[s];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(o+=n.hash),o}},d.extractProtocol=h,d.location=f,d.trimLeft=u,d.qs=i,t.exports=d}).call(this,n(2))},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r,i=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,o,a=[];for(o in"string"!=typeof e&&(e="?"),t)if(i.call(t,o)){if((n=t[o])||null!==n&&n!==r&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?e+a.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var i=o(e[1]),a=o(e[2]);null===i||null===a||i in r||(r[i]=a)}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getSource=function(t,e,n){if((0,i.default)()&&t&&void 0!==t.uri)return void(0,o.default)(t.uri,function(t,e){if(t)return n(new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. "+t));n(null,new c(e))});if("function"==typeof t.slice&&void 0!==t.size)return void n(null,new c(t));if("function"==typeof t.read)return e=+e,isFinite(e)?void n(null,new f(t,e)):void n(new Error("cannot create source for stream without a finite value for the `chunkSize` option"));n(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))};var i=u(n(52)),o=u(n(137)),a=u(n(138)),s=u(n(139));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e){l(this,t),this._file=e,this.size=e.size}return r(t,[{key:"slice",value:function(t,e,n){(0,a.default)()?(0,s.default)(this._file.slice(t,e),function(t,e){if(t)return n(t);n(null,e)}):n(null,this._file.slice(t,e))}},{key:"close",value:function(){}}]),t}(),f=function(){function t(e,n){l(this,t),this._chunkSize=n,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return r(t,[{key:"slice",value:function(t,e,n){if(!(t<this._bufferOffset))return this._readUntilEnoughDataOrDone(t,e,n);n(new Error("Requested data is before the reader's current offset"))}},{key:"_readUntilEnoughDataOrDone",value:function(t,e,n){var r=this,i=e<=this._bufferOffset+h(this._buffer);if(this._done||i){var o=this._getDataFromBuffer(t,e);n(null,o,null==o&&this._done)}else this._reader.read().then(function(i){var o=i.value;i.done?r._done=!0:void 0===r._buffer?r._buffer=o:r._buffer=function(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}throw new Error("Unknown data type")}(r._buffer,o),r._readUntilEnoughDataOrDone(t,e,n)}).catch(function(t){n(new Error("Error during read: "+t))})}},{key:"_getDataFromBuffer",value:function(t,e){t>this._bufferOffset&&(this._buffer=this._buffer.slice(t-this._bufferOffset),this._bufferOffset=t);var n=0===h(this._buffer);return this._done&&n?null:this._buffer.slice(0,e-t)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function h(t){return void 0===t?0:void 0!==t.size?t.size:t.length}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var t=n.response;e(null,t)},n.onerror=function(t){e(t)},n.open("GET",t),n.send()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){return"undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=new FileReader;n.onload=function(){e(null,new Uint8Array(n.result))},n.onerror=function(t){e(t)},n.readAsArrayBuffer(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if((0,o.default)())return n(null,function(t,e){var n=t.exif?function(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);e=(e<<5)-e+r,e&=e}return e}(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",n,e.endpoint].join("/")}(t,e));return n(null,["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))};var r,i=n(52),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=n(142),a=(r=o)&&r.__esModule?r:{default:r};var s=null,u=null,l={init:function(){i.emitter.on("app--root",function(){u&&u.teardown()}),i.log("listing initialized")},isActive:function(){return this.getElements()>0},onload:function(){if(i.emitter.fire("app--offcanvas"),i.dom.html.removeClass(i.config.offcanvasClasses).addClass("is-offcanvas is-offcanvas--index"),u)u.cycleAnimation();else{var t=s.data();u=new a.default(s,t)}},unload:function(){},getElements:function(){return(s=i.dom.page.find(".js-listing")).length}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=d(n(4)),a=d(n(23)),s=d(n(28)),u=d(n(9)),l=d(n(143)),c=d(n(6)),f=d(n(25)),h=d(n(21));function d(t){return t&&t.__esModule?t:{default:t}}var p=new(0,n(38).Vimeo)("9d4f4417c518c95db3f8c0461eb7da3e59e7b289","23AxUag/dzswqGCSY6rJdoWMsw2MnYadh4fecPP9JJiXEOS/cVaAkRrsh755tu4gEZPon9tS+j0eyN8x+2Orke5W0aGarrnfjONsurvJt8Wdv9mMQNPfz9AwpKGi+Onn","15807db98b40203e65427ac71121c89a"),v=null,m=new c.default,g='\n<div class="listing__tile grid__item__small js-listing-tile">\n    <div class="grid__photo grid__photo--small animate animate--fade js-animate">\n        <figure class="figure">\n            <img class="figure__image image js-lazy-image" data-img-src="{assetUrl}" data-variants="{systemDataVariants}" data-original-size="{originalSize}" />\n        </figure>\n    </div>\n</div>\n',y=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v||this.initialize(e,n),v}return r(t,[{key:"initialize",value:function(t,e){this.data=e,this.$node=t,this.$tile=null,this.$image=null,this.$target=i.dom.main.find(".js-main--"+this.data.target),this.$anims=null,this.vimeos={},this.bindEvents(),this.loadIndex(),v=this}},{key:"cycleAnimation",value:function(){this.$anims=this.$node.find(".js-animate"),m.stop(),m.go(this.updateAnimate.bind(this))}},{key:"updateAnimate",value:function(){for(var t=null,e=this.$anims.length;e--;)t=this.$anims.eq(e),i.util.isElementInViewport(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"bindEvents",value:function(){var t=this;this.$node.on("click",".js-listing-tile",function(e){if(!s.default.menu.isActive()){var n=(0,o.default)(e.target),r=n.is(".js-listing-tile")?n:n.closest(".js-listing-tile");t.bindGallery(r)}})}},{key:"bindGallery",value:function(t){var e=t.data();this.$tile=t,this.$image=this.$tile.find(i.config.lazyImageSelector),e.vimeoId?s.default.setVideo(this.vimeos[e.vimeoId]):s.default.setImage(this.$image),this._onKeyDown=this.onKeyDown.bind(this),this._onGalleryImage=this.onGalleryImage.bind(this),this._onGalleryBack=this.onGalleryBack.bind(this),i.emitter.on("app--gallery-image",this._onGalleryImage),i.emitter.on("app--gallery-background",this._onGalleryBack),i.dom.doc.on("keydown",this._onKeyDown)}},{key:"nextTile",value:function(t){var e=t.data();this.$tile=t,this.$image=this.$tile.find(i.config.lazyImageSelector),e.vimeoId?s.default.setVideo(this.vimeos[e.vimeoId]):s.default.setImage(this.$image)}},{key:"unbindGallery",value:function(){this.$tile=null,this.$image=null,u.default.close(),s.default.close(),i.dom.doc.off("keydown",this._onKeyDown),i.emitter.off("app--gallery-image",this._onGalleryImage),i.emitter.off("app--gallery-background",this._onGalleryBack)}},{key:"nextProject",value:function(t,e){t.length&&(this.$tile=e,this.$image=this.$tile.find(i.config.lazyImageSelector),s.default.setImage(this.$image),u.default.close())}},{key:"nextTitle",value:function(t,e){s.default.empty(),t.length&&(u.default.setTitle(e||t.data("title")),u.default.open(),i.dom.gallery.element.addClass("is-title"),this.$tile=t)}},{key:"loadIndex",value:function(){f.default.load(),a.default.loadFullIndex(this.onLoadFullIndex.bind(this))}},{key:"loadVideo",value:function(t,e){var n=t.split("/").pop(),r=this;p.request({method:"GET",path:"/videos/"+n},function(t){var i=t;r.vimeos[n]=i,e.data("vimeoId",n).find(".js-vimeo-image").removeAttr("data-img-src").removeAttr("data-variants").removeAttr("data-original-size").attr("src",i.pictures.sizes[i.pictures.sizes.length-1].link)})}},{key:"onLoadFullIndex",value:function(t){var e=this;t.collection.collections.forEach(function(t){var n=(0,o.default)((0,l.default)('<div class="listing__title js-listing-title" data-title="{title}"><h3 class="listing__title__text h3">{text}</h3></div>'.replace(/\n/g,""),{text:t.title,title:t.description||t.title})),r=(0,o.default)('<div class="listing__grid js-listing-project grid grid--index"></div>'.replace(/\n/g,"")),i=null;t.items.forEach(function(t){"text"===t.recordTypeLabel||(t.customContent.vimeoVideoUrl?(i=(0,o.default)('\n<div class="listing__tile grid__item__small js-listing-tile">\n    <div class="grid__photo grid__photo--small animate animate--fade js-animate">\n        <figure class="figure">\n            <img class="figure__image image image--wide js-vimeo-image" />\n            <span class="icon icon--svg icon--playback _video__playback">\n                <svg class="icon__svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="-188 216.1 261.3 209.9" xml:space="preserve"><polygon points="35.8 296.4 -86.3 216.1 -86.3 426 73.3 321.1 "/><rect x="-188" y="216.1" class="st0" width="59.2" height="209.9"/></svg>\n            </span>\n        </figure>\n    </div>\n</div>\n'),r.append(i),e.loadVideo(t.customContent.vimeoVideoUrl,i)):(r.append((0,l.default)(g.replace(/\n/g,""),t)),t.customContent&&t.customContent.diptychImage&&t.customContent.diptychImage.systemDataVariants&&r.append((0,l.default)(g.replace(/\n/g,""),t.customContent.diptychImage))))}),e.$node.append(n),e.$node.append(r)}),this.$target.append(this.$node),i.images.handleImages(this.$node.find(".js-lazy-image"),function(){f.default.stop(),e.cycleAnimation()})}},{key:"onGalleryImage",value:function(t){t===h.default.DIRECTION_LEFT?this.onKeyDown({keyCode:37}):this.onKeyDown({keyCode:39})}},{key:"onGalleryBack",value:function(){s.default.empty(),this.unbindGallery()}},{key:"onKeyDown",value:function(t){var e=null,n=null,r=null,o=null,a=this.$tile.next(),s=this.$tile.prev();if(27===t.keyCode)return this.unbindGallery(),!1;this.$tile.is(".js-listing-title")?(39===t.keyCode?(o=this.$tile.next(),this.nextProject(o,o.find(".js-listing-tile").first())):37===t.keyCode&&(o=this.$tile.prev()).length&&this.nextProject(o,o.find(".js-listing-tile").last()),i.dom.gallery.element.removeClass("is-title")):39===t.keyCode&&a.length?this.nextTile(a):39!==t.keyCode||a.length?37===t.keyCode&&s.length?this.nextTile(s):37!==t.keyCode||s.length||(e=null,(n=(r=this.$tile.parent()).prev().prev().prev()).length&&(e=n.data("title")),n=r.prev(),this.nextTitle(n,e)):this.nextTitle(this.$tile.parent().next())}},{key:"teardown",value:function(){m.stop()}}]),t}();e.default=y},function(t,e,n){t.exports=function(t,e){return t.replace(/\{{1,2}([^{}]*)\}{1,2}/g,function(t,n){var r=e[n.replace(/\s/g,"")];return"string"==typeof r||"number"==typeof r?r:t})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=n(24),a=(r=o)&&r.__esModule?r:{default:r};var s=null,u=null,l={init:function(){i.dom.project.element.is(".is-active")||i.dom.project.element.detach(),i.log("projects initialized")},isActive:function(){return this.getElements()>0},onload:function(){var t=s.data();u=new a.default(s,t),i.emitter.on("app--root",c),i.emitter.on("app--project-ended",c)},unload:function(){this.teardown()},teardown:function(){s=null,u&&(u.teardown(),u=null),i.emitter.off("app--root",c),i.emitter.off("app--project-ended",c)},getElements:function(){return(s=i.dom.page.find(".js-project")).length}},c=function(){u&&(u.teardown(),u=null)};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var i={teardown:function(){r.dom.intro.length&&setTimeout(function(){r.dom.intro.removeClass("is-active"),setTimeout(function(){return r.dom.intro.remove()},r.util.getTransitionDuration(r.dom.intro[0]))},1e3)}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(4),o=(r=i)&&r.__esModule?r:{default:r},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var s={init:function(){this.$mainPanels=a.dom.main.find(".js-main-panel"),this.mainDuration=a.util.getTransitionDuration(this.$mainPanels[0]),this.bindEvents()},bindEvents:function(){a.dom.header.on("click",".js-controller",this.onController.bind(this))},onController:function(t){t.preventDefault();var e=(0,o.default)(t.target),n=(e.is(".js-controller")?e:e.closest(".js-controller")).data(),r=a.dom.main.find(".js-main--"+n.target);this.$mainPanels.removeClass("is-active"),r.addClass("is-active"),a.dom.main[0].id="is-main--"+n.target}};e.default=s},function(t,e,n){t.exports=n.p+"../styles/screen.css"}]);
//# sourceMappingURL=app.js.map